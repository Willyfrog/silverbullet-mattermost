{
  "name": "mattermost",
  "functions": {
    "savedPostsProvider": {
      "events": [
        "query:mm-saved"
      ],
      "code": "(() => { var mod=(()=>{var Y=Object.create;var v=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.getPrototypeOf,te=Object.prototype.hasOwnProperty;var S=(o=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(o,{get:(e,t)=>(typeof require!=\"undefined\"?require:e)[t]}):o)(function(o){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+o+'\" is not supported')});var R=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),se=(o,e)=>{for(var t in e)v(o,t,{get:e[t],enumerable:!0})},w=(o,e,t,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of Z(e))!te.call(o,i)&&i!==t&&v(o,i,{get:()=>e[i],enumerable:!(s=K(e,i))||s.enumerable});return o};var T=(o,e,t)=>(t=o!=null?Y(ee(o)):{},w(e||!o||!o.__esModule?v(t,\"default\",{value:o,enumerable:!0}):t,o)),ie=o=>w(v({},\"__esModule\",{value:!0}),o);var J=R(b=>{\"use strict\";Object.defineProperty(b,\"__esModule\",{value:!0});b.LogLevel=void 0;var re;(function(o){o.Error=\"ERROR\",o.Warning=\"WARNING\",o.Info=\"INFO\",o.Debug=\"DEBUG\"})(re=b.LogLevel||(b.LogLevel={}))});var M=R(C=>{\"use strict\";Object.defineProperty(C,\"__esModule\",{value:!0});C.cleanUrlForLogging=void 0;function oe(o,e){let t=e;t=t.substring(o.length);let s=t.indexOf(\"?\");s!==-1&&(t=t.substring(0,s));let i=[\"api\",\"v4\",\"users\",\"teams\",\"scheme\",\"name\",\"members\",\"channels\",\"posts\",\"reactions\",\"commands\",\"files\",\"preferences\",\"hooks\",\"incoming\",\"outgoing\",\"oauth\",\"apps\",\"emoji\",\"brand\",\"image\",\"data_retention\",\"jobs\",\"plugins\",\"roles\",\"system\",\"timezones\",\"schemes\",\"redirect_location\",\"patch\",\"mfa\",\"password\",\"reset\",\"send\",\"active\",\"verify\",\"terms_of_service\",\"login\",\"logout\",\"ids\",\"usernames\",\"me\",\"username\",\"email\",\"default\",\"sessions\",\"revoke\",\"all\",\"audits\",\"device\",\"status\",\"search\",\"switch\",\"authorized\",\"authorize\",\"deauthorize\",\"tokens\",\"disable\",\"enable\",\"exists\",\"unread\",\"invite\",\"batch\",\"stats\",\"import\",\"schemeRoles\",\"direct\",\"group\",\"convert\",\"view\",\"search_autocomplete\",\"thread\",\"info\",\"flagged\",\"pinned\",\"pin\",\"unpin\",\"opengraph\",\"actions\",\"thumbnail\",\"preview\",\"link\",\"delete\",\"logs\",\"ping\",\"config\",\"client\",\"license\",\"websocket\",\"webrtc\",\"token\",\"regen_token\",\"autocomplete\",\"execute\",\"regen_secret\",\"policy\",\"type\",\"cancel\",\"reload\",\"environment\",\"s3_test\",\"file\",\"caches\",\"invalidate\",\"database\",\"recycle\",\"compliance\",\"reports\",\"cluster\",\"ldap\",\"test\",\"sync\",\"saml\",\"certificate\",\"public\",\"private\",\"idp\",\"elasticsearch\",\"purge_indexes\",\"analytics\",\"old\",\"webapp\",\"fake\"];return t=t.split(\"/\").map(r=>r!==\"\"&&i.indexOf(r)===-1?\"<filtered>\":r).join(\"/\"),s!==-1&&(t+=\"?<filtered>\"),t}C.cleanUrlForLogging=oe});var x=R(P=>{\"use strict\";Object.defineProperty(P,\"__esModule\",{value:!0});P.buildQueryString=void 0;function ne(o){let e=Object.keys(o);if(e.length===0)return\"\";let t=\"?\";for(let s=0;s<e.length;s++){let i=e[s];o[i]!==void 0&&(s>0&&(t+=\"&\"),t+=i+\"=\"+encodeURIComponent(o[i]))}return t}P.buildQueryString=ne});var L=R(c=>{\"use strict\";var g=c&&c.__awaiter||function(o,e,t,s){function i(r){return r instanceof t?r:new t(function(h){h(r)})}return new(t||(t=Promise))(function(r,h){function a(m){try{l(s.next(m))}catch(f){h(f)}}function d(m){try{l(s.throw(m))}catch(f){h(f)}}function l(m){m.done?r(m.value):i(m.value).then(a,d)}l((s=s.apply(o,e||[])).next())})},he=c&&c.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,\"__esModule\",{value:!0});c.ClientError=c.parseAndMergeNestedHeaders=c.DEFAULT_LIMIT_AFTER=c.DEFAULT_LIMIT_BEFORE=c.HEADER_X_VERSION_ID=c.HEADER_X_CLUSTER_ID=void 0;var p=he(S(\"form-data\")),ae=J(),ue=M(),n=x(),de=\"Authorization\",ce=\"BEARER\",ge=\"Content-Type\",le=\"X-Requested-With\",me=\"User-Agent\";c.HEADER_X_CLUSTER_ID=\"X-Cluster-Id\";var pe=\"X-CSRF-Token\";c.HEADER_X_VERSION_ID=\"X-Version-Id\";var _e=25,u=60,fe=1e4;c.DEFAULT_LIMIT_BEFORE=30;c.DEFAULT_LIMIT_AFTER=30;var ye=\"/api/v5/graphql\",U=class{constructor(){this.logToConsole=!1,this.serverVersion=\"\",this.clusterId=\"\",this.token=\"\",this.csrf=\"\",this.url=\"\",this.urlVersion=\"/api/v4\",this.userAgent=null,this.enableLogging=!1,this.defaultHeaders={},this.userId=\"\",this.diagnosticId=\"\",this.includeCookies=!0,this.setAuthHeader=!0,this.translations={connectionError:\"There appears to be a problem with your internet connection.\",unknownError:\"We received an unexpected status code from the server.\"},this.userRoles=\"\",this.createUser=(e,t,s,i)=>{this.trackEvent(\"api\",\"api_users_create\");let r={};return t&&(r.t=t),s&&(r.iid=s),i&&(r.r=i),this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(r)}`,{method:\"post\",body:JSON.stringify(e)})},this.patchMe=e=>this.doFetch(`${this.getUserRoute(\"me\")}/patch`,{method:\"put\",body:JSON.stringify(e)}),this.patchUser=e=>(this.trackEvent(\"api\",\"api_users_patch\"),this.doFetch(`${this.getUserRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.updateUser=e=>(this.trackEvent(\"api\",\"api_users_update\"),this.doFetch(`${this.getUserRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.promoteGuestToUser=e=>(this.trackEvent(\"api\",\"api_users_promote_guest_to_user\"),this.doFetch(`${this.getUserRoute(e)}/promote`,{method:\"post\"})),this.demoteUserToGuest=e=>(this.trackEvent(\"api\",\"api_users_demote_user_to_guest\"),this.doFetch(`${this.getUserRoute(e)}/demote`,{method:\"post\"})),this.updateUserRoles=(e,t)=>(this.trackEvent(\"api\",\"api_users_update_roles\"),this.doFetch(`${this.getUserRoute(e)}/roles`,{method:\"put\",body:JSON.stringify({roles:t})})),this.updateUserMfa=(e,t,s)=>{let i={activate:t};return t&&(i.code=s),this.doFetch(`${this.getUserRoute(e)}/mfa`,{method:\"put\",body:JSON.stringify(i)})},this.updateUserPassword=(e,t,s)=>(this.trackEvent(\"api\",\"api_users_newpassword\"),this.doFetch(`${this.getUserRoute(e)}/password`,{method:\"put\",body:JSON.stringify({current_password:t,new_password:s})})),this.resetUserPassword=(e,t)=>(this.trackEvent(\"api\",\"api_users_reset_password\"),this.doFetch(`${this.getUsersRoute()}/password/reset`,{method:\"post\",body:JSON.stringify({token:e,new_password:t})})),this.getKnownUsers=()=>this.doFetch(`${this.getUsersRoute()}/known`,{method:\"get\"}),this.sendPasswordResetEmail=e=>(this.trackEvent(\"api\",\"api_users_send_password_reset\"),this.doFetch(`${this.getUsersRoute()}/password/reset/send`,{method:\"post\",body:JSON.stringify({email:e})})),this.updateUserActive=(e,t)=>(this.trackEvent(\"api\",\"api_users_update_active\"),this.doFetch(`${this.getUserRoute(e)}/active`,{method:\"put\",body:JSON.stringify({active:t})})),this.uploadProfileImage=(e,t)=>{this.trackEvent(\"api\",\"api_users_update_profile_picture\");let s=new p.default;s.append(\"image\",t);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getUserRoute(e)}/image`,i)},this.setDefaultProfileImage=e=>(this.trackEvent(\"api\",\"api_users_set_default_profile_picture\"),this.doFetch(`${this.getUserRoute(e)}/image`,{method:\"delete\"})),this.verifyUserEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/verify`,{method:\"post\",body:JSON.stringify({token:e})}),this.updateMyTermsOfServiceStatus=(e,t)=>this.doFetch(`${this.getUserRoute(\"me\")}/terms_of_service`,{method:\"post\",body:JSON.stringify({termsOfServiceId:e,accepted:t})}),this.getTermsOfService=()=>this.doFetch(`${this.getBaseRoute()}/terms_of_service`,{method:\"get\"}),this.createTermsOfService=e=>this.doFetch(`${this.getBaseRoute()}/terms_of_service`,{method:\"post\",body:JSON.stringify({text:e})}),this.sendVerificationEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/verify/send`,{method:\"post\",body:JSON.stringify({email:e})}),this.login=(e,t,s=\"\",i=\"\",r=!1)=>g(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_users_login\"),r&&this.trackEvent(\"api\",\"api_users_login_ldap\");let h={device_id:i,login_id:e,password:t,token:s};r&&(h.ldap_only=\"true\");let{data:a,headers:d}=yield this.doFetchWithResponse(`${this.getUsersRoute()}/login`,{method:\"post\",body:JSON.stringify(h)});return d.has(\"Token\")&&this.setToken(d.get(\"Token\")),a}),this.loginById=(e,t,s=\"\",i=\"\")=>{this.trackEvent(\"api\",\"api_users_login\");let r={device_id:i,id:e,password:t,token:s};return this.doFetch(`${this.getUsersRoute()}/login`,{method:\"post\",body:JSON.stringify(r)})},this.logout=()=>g(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_users_logout\");let{response:e}=yield this.doFetchWithResponse(`${this.getUsersRoute()}/logout`,{method:\"post\"});return e.ok&&(this.token=\"\"),this.serverVersion=\"\",e}),this.getProfiles=(e=0,t=u,s={})=>this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(Object.assign({page:e,per_page:t},s))}`,{method:\"get\"}),this.getProfilesByIds=(e,t={})=>this.doFetch(`${this.getUsersRoute()}/ids${n.buildQueryString(t)}`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesByUsernames=e=>this.doFetch(`${this.getUsersRoute()}/usernames`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesInTeam=(e,t=0,s=u,i=\"\",r={})=>this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(Object.assign(Object.assign({},r),{in_team:e,page:t,per_page:s,sort:i}))}`,{method:\"get\"}),this.getProfilesNotInTeam=(e,t,s=0,i=u)=>{let r={not_in_team:e,page:s,per_page:i};return t&&(r.group_constrained=!0),this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(r)}`,{method:\"get\"})},this.getProfilesWithoutTeam=(e=0,t=u,s={})=>this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(Object.assign(Object.assign({},s),{without_team:1,page:e,per_page:t}))}`,{method:\"get\"}),this.getProfilesInChannel=(e,t=0,s=u,i=\"\",r={})=>{let h={in_channel:e,page:t,per_page:s,sort:i};return this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(Object.assign(Object.assign({},h),r))}`,{method:\"get\"})},this.getProfilesInGroupChannels=e=>this.doFetch(`${this.getUsersRoute()}/group_channels`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesNotInChannel=(e,t,s,i=0,r=u)=>{let h={in_team:e,not_in_channel:t,page:i,per_page:r};return s&&(h.group_constrained=!0),this.doFetch(`${this.getUsersRoute()}${n.buildQueryString(h)}`,{method:\"get\"})},this.getProfilesInGroup=(e,t=0,s=u)=>this.doFetch(`${this.getUsersRoute()}${n.buildQueryString({in_group:e,page:t,per_page:s})}`,{method:\"get\"}),this.getProfilesNotInGroup=(e,t=0,s=u)=>this.doFetch(`${this.getUsersRoute()}${n.buildQueryString({not_in_group:e,page:t,per_page:s})}`,{method:\"get\"}),this.getMe=()=>this.doFetch(`${this.getUserRoute(\"me\")}`,{method:\"get\"}),this.getUser=e=>this.doFetch(`${this.getUserRoute(e)}`,{method:\"get\"}),this.getUserByUsername=e=>this.doFetch(`${this.getUsersRoute()}/username/${e}`,{method:\"get\"}),this.getUserByEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/${e}`,{method:\"get\"}),this.getProfilePictureUrl=(e,t)=>{let s={};return t&&(s._=t),`${this.getUserRoute(e)}/image${n.buildQueryString(s)}`},this.getDefaultProfilePictureUrl=e=>`${this.getUserRoute(e)}/image/default`,this.autocompleteUsers=(e,t,s,i={limit:_e})=>this.doFetch(`${this.getUsersRoute()}/autocomplete${n.buildQueryString({in_team:t,in_channel:s,name:e,limit:i.limit})}`,{method:\"get\"}),this.getSessions=e=>this.doFetch(`${this.getUserRoute(e)}/sessions`,{method:\"get\"}),this.revokeSession=(e,t)=>this.doFetch(`${this.getUserRoute(e)}/sessions/revoke`,{method:\"post\",body:JSON.stringify({session_id:t})}),this.revokeAllSessionsForUser=e=>this.doFetch(`${this.getUserRoute(e)}/sessions/revoke/all`,{method:\"post\"}),this.revokeSessionsForAllUsers=()=>this.doFetch(`${this.getUsersRoute()}/sessions/revoke/all`,{method:\"post\"}),this.getUserAudits=(e,t=0,s=u)=>this.doFetch(`${this.getUserRoute(e)}/audits${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.checkUserMfa=e=>this.doFetch(`${this.getUsersRoute()}/mfa`,{method:\"post\",body:JSON.stringify({login_id:e})}),this.generateMfaSecret=e=>this.doFetch(`${this.getUserRoute(e)}/mfa/generate`,{method:\"post\"}),this.attachDevice=e=>this.doFetch(`${this.getUsersRoute()}/sessions/device`,{method:\"put\",body:JSON.stringify({device_id:e})}),this.searchUsers=(e,t)=>(this.trackEvent(\"api\",\"api_search_users\"),this.doFetch(`${this.getUsersRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))})),this.getStatusesByIds=e=>this.doFetch(`${this.getUsersRoute()}/status/ids`,{method:\"post\",body:JSON.stringify(e)}),this.getStatus=e=>this.doFetch(`${this.getUserRoute(e)}/status`,{method:\"get\"}),this.updateStatus=e=>this.doFetch(`${this.getUserRoute(e.user_id)}/status`,{method:\"put\",body:JSON.stringify(e)}),this.updateCustomStatus=e=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom`,{method:\"put\",body:JSON.stringify(e)}),this.unsetCustomStatus=()=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom`,{method:\"delete\"}),this.removeRecentCustomStatus=e=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom/recent/delete`,{method:\"post\",body:JSON.stringify(e)}),this.switchEmailToOAuth=(e,t,s,i=\"\")=>(this.trackEvent(\"api\",\"api_users_email_to_oauth\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"email\",new_service:e,email:t,password:s,mfa_code:i})})),this.switchOAuthToEmail=(e,t,s)=>(this.trackEvent(\"api\",\"api_users_oauth_to_email\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:e,new_service:\"email\",email:t,new_password:s})})),this.switchEmailToLdap=(e,t,s,i,r=\"\")=>(this.trackEvent(\"api\",\"api_users_email_to_ldap\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"email\",new_service:\"ldap\",email:e,password:t,ldap_id:s,new_password:i,mfa_code:r})})),this.switchLdapToEmail=(e,t,s,i=\"\")=>(this.trackEvent(\"api\",\"api_users_ldap_to_email\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"ldap\",new_service:\"email\",email:t,password:e,new_password:s,mfa_code:i})})),this.getAuthorizedOAuthApps=e=>this.doFetch(`${this.getUserRoute(e)}/oauth/apps/authorized`,{method:\"get\"}),this.authorizeOAuthApp=(e,t,s,i,r)=>this.doFetch(`${this.url}/oauth/authorize`,{method:\"post\",body:JSON.stringify({client_id:t,response_type:e,redirect_uri:s,state:i,scope:r})}),this.deauthorizeOAuthApp=e=>this.doFetch(`${this.url}/oauth/deauthorize`,{method:\"post\",body:JSON.stringify({client_id:e})}),this.createUserAccessToken=(e,t)=>(this.trackEvent(\"api\",\"api_users_create_access_token\"),this.doFetch(`${this.getUserRoute(e)}/tokens`,{method:\"post\",body:JSON.stringify({description:t})})),this.getUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/${e}`,{method:\"get\"}),this.getUserAccessTokensForUser=(e,t=0,s=u)=>this.doFetch(`${this.getUserRoute(e)}/tokens${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getUserAccessTokens=(e=0,t=u)=>this.doFetch(`${this.getUsersRoute()}/tokens${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.revokeUserAccessToken=e=>(this.trackEvent(\"api\",\"api_users_revoke_access_token\"),this.doFetch(`${this.getUsersRoute()}/tokens/revoke`,{method:\"post\",body:JSON.stringify({token_id:e})})),this.disableUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/disable`,{method:\"post\",body:JSON.stringify({token_id:e})}),this.enableUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/enable`,{method:\"post\",body:JSON.stringify({token_id:e})}),this.createTeam=e=>(this.trackEvent(\"api\",\"api_teams_create\"),this.doFetch(`${this.getTeamsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.deleteTeam=e=>(this.trackEvent(\"api\",\"api_teams_delete\"),this.doFetch(`${this.getTeamRoute(e)}`,{method:\"delete\"})),this.unarchiveTeam=e=>this.doFetch(`${this.getTeamRoute(e)}/restore`,{method:\"post\"}),this.updateTeam=e=>(this.trackEvent(\"api\",\"api_teams_update_name\",{team_id:e.id}),this.doFetch(`${this.getTeamRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.patchTeam=e=>(this.trackEvent(\"api\",\"api_teams_patch_name\",{team_id:e.id}),this.doFetch(`${this.getTeamRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.regenerateTeamInviteId=e=>(this.trackEvent(\"api\",\"api_teams_regenerate_invite_id\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/regenerate_invite_id`,{method:\"post\"})),this.updateTeamScheme=(e,t)=>{let s={scheme_id:t};return this.trackEvent(\"api\",\"api_teams_update_scheme\",Object.assign({team_id:e},s)),this.doFetch(`${this.getTeamSchemeRoute(e)}`,{method:\"put\",body:JSON.stringify(s)})},this.checkIfTeamExists=e=>this.doFetch(`${this.getTeamNameRoute(e)}/exists`,{method:\"get\"}),this.getTeams=(e=0,t=u,s=!1,i=!1)=>this.doFetch(`${this.getTeamsRoute()}${n.buildQueryString({page:e,per_page:t,include_total_count:s,exclude_policy_constrained:i})}`,{method:\"get\"}),this.searchTeams=(e,t)=>(this.trackEvent(\"api\",\"api_search_teams\"),this.doFetch(`${this.getTeamsRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))})),this.getTeam=e=>this.doFetch(this.getTeamRoute(e),{method:\"get\"}),this.getTeamByName=e=>(this.trackEvent(\"api\",\"api_teams_get_team_by_name\"),this.doFetch(this.getTeamNameRoute(e),{method:\"get\"})),this.getMyTeams=()=>this.doFetch(`${this.getUserRoute(\"me\")}/teams`,{method:\"get\"}),this.getTeamsForUser=e=>this.doFetch(`${this.getUserRoute(e)}/teams`,{method:\"get\"}),this.getMyTeamMembers=()=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/members`,{method:\"get\"}),this.getMyTeamUnreads=(e=!1)=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/unread${n.buildQueryString({include_collapsed_threads:e})}`,{method:\"get\"}),this.getTeamMembers=(e,t=0,s=u,i)=>this.doFetch(`${this.getTeamMembersRoute(e)}${n.buildQueryString(Object.assign({page:t,per_page:s},i))}`,{method:\"get\"}),this.getTeamMembersForUser=e=>this.doFetch(`${this.getUserRoute(e)}/teams/members`,{method:\"get\"}),this.getTeamMember=(e,t)=>this.doFetch(`${this.getTeamMemberRoute(e,t)}`,{method:\"get\"}),this.getTeamMembersByIds=(e,t)=>this.doFetch(`${this.getTeamMembersRoute(e)}/ids`,{method:\"post\",body:JSON.stringify(t)}),this.addToTeam=(e,t)=>{this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e});let s={user_id:t,team_id:e};return this.doFetch(`${this.getTeamMembersRoute(e)}`,{method:\"post\",body:JSON.stringify(s)})},this.addToTeamFromInvite=(e=\"\",t=\"\")=>{this.trackEvent(\"api\",\"api_teams_invite_members\");let s=n.buildQueryString({token:e,invite_id:t});return this.doFetch(`${this.getTeamsRoute()}/members/invite${s}`,{method:\"post\"})},this.addUsersToTeam=(e,t)=>{this.trackEvent(\"api\",\"api_teams_batch_add_members\",{team_id:e,count:t.length});let s=[];return t.forEach(i=>s.push({team_id:e,user_id:i})),this.doFetch(`${this.getTeamMembersRoute(e)}/batch`,{method:\"post\",body:JSON.stringify(s)})},this.addUsersToTeamGracefully=(e,t)=>{this.trackEvent(\"api\",\"api_teams_batch_add_members\",{team_id:e,count:t.length});let s=[];return t.forEach(i=>s.push({team_id:e,user_id:i})),this.doFetch(`${this.getTeamMembersRoute(e)}/batch?graceful=true`,{method:\"post\",body:JSON.stringify(s)})},this.joinTeam=e=>{let t=n.buildQueryString({invite_id:e});return this.doFetch(`${this.getTeamsRoute()}/members/invite${t}`,{method:\"post\"})},this.removeFromTeam=(e,t)=>(this.trackEvent(\"api\",\"api_teams_remove_members\",{team_id:e}),this.doFetch(`${this.getTeamMemberRoute(e,t)}`,{method:\"delete\"})),this.getTeamStats=e=>this.doFetch(`${this.getTeamRoute(e)}/stats`,{method:\"get\"}),this.getTotalUsersStats=()=>this.doFetch(`${this.getUsersRoute()}/stats`,{method:\"get\"}),this.getFilteredUsersStats=e=>this.doFetch(`${this.getUsersRoute()}/stats/filtered${n.buildQueryString(e)}`,{method:\"get\"}),this.invalidateAllEmailInvites=()=>this.doFetch(`${this.getTeamsRoute()}/invites/email`,{method:\"delete\"}),this.getTeamInviteInfo=e=>this.doFetch(`${this.getTeamsRoute()}/invite/${e}`,{method:\"get\"}),this.updateTeamMemberRoles=(e,t,s)=>(this.trackEvent(\"api\",\"api_teams_update_member_roles\",{team_id:e}),this.doFetch(`${this.getTeamMemberRoute(e,t)}/roles`,{method:\"put\",body:JSON.stringify({roles:s})})),this.sendEmailInvitesToTeam=(e,t)=>(this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/invite/email`,{method:\"post\",body:JSON.stringify(t)})),this.sendEmailGuestInvitesToChannels=(e,t,s,i)=>(this.trackEvent(\"api\",\"api_teams_invite_guests\",{team_id:e,channel_ids:t}),this.doFetch(`${this.getTeamRoute(e)}/invite-guests/email`,{method:\"post\",body:JSON.stringify({emails:s,channels:t,message:i})})),this.sendEmailInvitesToTeamGracefully=(e,t)=>(this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/invite/email?graceful=true`,{method:\"post\",body:JSON.stringify(t)})),this.sendEmailInvitesToTeamAndChannelsGracefully=(e,t,s,i)=>(this.trackEvent(\"api\",\"api_teams_invite_members_to_channels\",{team_id:e,channel_len:t.length}),this.doFetch(`${this.getTeamRoute(e)}/invite/email?graceful=true`,{method:\"post\",body:JSON.stringify({emails:s,channelIds:t,message:i})})),this.sendEmailGuestInvitesToChannelsGracefully=(e,t,s,i)=>g(this,void 0,void 0,function*(){return this.trackEvent(\"api\",\"api_teams_invite_guests\",{team_id:e,channel_ids:t}),this.doFetch(`${this.getTeamRoute(e)}/invite-guests/email?graceful=true`,{method:\"post\",body:JSON.stringify({emails:s,channels:t,message:i})})}),this.getTeamIconUrl=(e,t)=>{let s={};return t&&(s._=t),`${this.getTeamRoute(e)}/image${n.buildQueryString(s)}`},this.setTeamIcon=(e,t)=>{this.trackEvent(\"api\",\"api_team_set_team_icon\");let s=new p.default;s.append(\"image\",t);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getTeamRoute(e)}/image`,i)},this.removeTeamIcon=e=>(this.trackEvent(\"api\",\"api_team_remove_team_icon\"),this.doFetch(`${this.getTeamRoute(e)}/image`,{method:\"delete\"})),this.updateTeamMemberSchemeRoles=(e,t,s,i)=>{let r={scheme_user:s,scheme_admin:i};return this.doFetch(`${this.getTeamRoute(e)}/members/${t}/schemeRoles`,{method:\"put\",body:JSON.stringify(r)})},this.getAllChannels=(e=0,t=u,s=\"\",i=!1,r=!1,h=!1,a=!1)=>{let d={page:e,per_page:t,not_associated_to_group:s,exclude_default_channels:i,include_total_count:r,include_deleted:h,exclude_policy_constrained:a};return this.doFetch(`${this.getChannelsRoute()}${n.buildQueryString(d)}`,{method:\"get\"})},this.createChannel=e=>(this.trackEvent(\"api\",\"api_channels_create\",{team_id:e.team_id}),this.doFetch(`${this.getChannelsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.createDirectChannel=e=>(this.trackEvent(\"api\",\"api_channels_create_direct\"),this.doFetch(`${this.getChannelsRoute()}/direct`,{method:\"post\",body:JSON.stringify(e)})),this.createGroupChannel=e=>(this.trackEvent(\"api\",\"api_channels_create_group\"),this.doFetch(`${this.getChannelsRoute()}/group`,{method:\"post\",body:JSON.stringify(e)})),this.deleteChannel=e=>(this.trackEvent(\"api\",\"api_channels_delete\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}`,{method:\"delete\"})),this.unarchiveChannel=e=>(this.trackEvent(\"api\",\"api_channels_unarchive\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/restore`,{method:\"post\"})),this.updateChannel=e=>(this.trackEvent(\"api\",\"api_channels_update\",{channel_id:e.id}),this.doFetch(`${this.getChannelRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.updateChannelPrivacy=(e,t)=>(this.trackEvent(\"api\",\"api_channels_update_privacy\",{channel_id:e,privacy:t}),this.doFetch(`${this.getChannelRoute(e)}/privacy`,{method:\"put\",body:JSON.stringify({privacy:t})})),this.patchChannel=(e,t)=>(this.trackEvent(\"api\",\"api_channels_patch\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/patch`,{method:\"put\",body:JSON.stringify(t)})),this.updateChannelNotifyProps=e=>(this.trackEvent(\"api\",\"api_users_update_channel_notifications\",{channel_id:e.channel_id}),this.doFetch(`${this.getChannelMemberRoute(e.channel_id,e.user_id)}/notify_props`,{method:\"put\",body:JSON.stringify(e)})),this.updateChannelScheme=(e,t)=>{let s={scheme_id:t};return this.trackEvent(\"api\",\"api_channels_update_scheme\",Object.assign({channel_id:e},s)),this.doFetch(`${this.getChannelSchemeRoute(e)}`,{method:\"put\",body:JSON.stringify(s)})},this.getChannel=e=>this.doFetch(`${this.getChannelRoute(e)}`,{method:\"get\"}),this.getChannelByName=(e,t,s=!1)=>this.doFetch(`${this.getTeamRoute(e)}/channels/name/${t}?include_deleted=${s}`,{method:\"get\"}),this.getChannelByNameAndTeamName=(e,t,s=!1)=>this.doFetch(`${this.getTeamNameRoute(e)}/channels/name/${t}?include_deleted=${s}`,{method:\"get\"}),this.getChannels=(e,t=0,s=u)=>this.doFetch(`${this.getTeamRoute(e)}/channels${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getAllTeamsChannels=()=>this.doFetch(`${this.getUsersRoute()}/me/channels`,{method:\"get\"}),this.getArchivedChannels=(e,t=0,s=u)=>this.doFetch(`${this.getTeamRoute(e)}/channels/deleted${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getMyChannels=(e,t=!1)=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/${e}/channels${n.buildQueryString({include_deleted:t})}`,{method:\"get\"}),this.getAllChannelsMembers=(e,t=0,s=u)=>this.doFetch(`${this.getUserRoute(e)}/channel_members${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getMyChannelMember=e=>this.doFetch(`${this.getChannelMemberRoute(e,\"me\")}`,{method:\"get\"}),this.getMyChannelMembers=e=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/${e}/channels/members`,{method:\"get\"}),this.getChannelMembers=(e,t=0,s=u)=>this.doFetch(`${this.getChannelMembersRoute(e)}${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getChannelTimezones=e=>this.doFetch(`${this.getChannelRoute(e)}/timezones`,{method:\"get\"}),this.getChannelMember=(e,t)=>this.doFetch(`${this.getChannelMemberRoute(e,t)}`,{method:\"get\"}),this.getChannelMembersByIds=(e,t)=>this.doFetch(`${this.getChannelMembersRoute(e)}/ids`,{method:\"post\",body:JSON.stringify(t)}),this.addToChannel=(e,t,s=\"\")=>{this.trackEvent(\"api\",\"api_channels_add_member\",{channel_id:t});let i={user_id:e,channel_id:t,post_root_id:s};return this.doFetch(`${this.getChannelMembersRoute(t)}`,{method:\"post\",body:JSON.stringify(i)})},this.removeFromChannel=(e,t)=>(this.trackEvent(\"api\",\"api_channels_remove_member\",{channel_id:t}),this.doFetch(`${this.getChannelMemberRoute(t,e)}`,{method:\"delete\"})),this.updateChannelMemberRoles=(e,t,s)=>this.doFetch(`${this.getChannelMemberRoute(e,t)}/roles`,{method:\"put\",body:JSON.stringify({roles:s})}),this.getChannelStats=e=>this.doFetch(`${this.getChannelRoute(e)}/stats`,{method:\"get\"}),this.getChannelModerations=e=>this.doFetch(`${this.getChannelRoute(e)}/moderations`,{method:\"get\"}),this.patchChannelModerations=(e,t)=>this.doFetch(`${this.getChannelRoute(e)}/moderations/patch`,{method:\"put\",body:JSON.stringify(t)}),this.getChannelMemberCountsByGroup=(e,t)=>this.doFetch(`${this.getChannelRoute(e)}/member_counts_by_group?include_timezones=${t}`,{method:\"get\"}),this.viewMyChannel=(e,t)=>{let s={channel_id:e,prev_channel_id:t,collapsed_threads_supported:!0};return this.doFetch(`${this.getChannelsRoute()}/members/me/view`,{method:\"post\",body:JSON.stringify(s)})},this.autocompleteChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/autocomplete${n.buildQueryString({name:t})}`,{method:\"get\"}),this.autocompleteChannelsForSearch=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search_autocomplete${n.buildQueryString({name:t})}`,{method:\"get\"}),this.searchChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search`,{method:\"post\",body:JSON.stringify({term:t})}),this.searchArchivedChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search_archived`,{method:\"post\",body:JSON.stringify({term:t})}),this.searchAllChannels=(e,t={})=>{let s=Object.assign({term:e},t),i=Boolean(t.include_deleted),r=Boolean(t.nonAdminSearch),h={include_deleted:i};return r&&(h={system_console:!1},delete s.nonAdminSearch),this.doFetch(`${this.getChannelsRoute()}/search${n.buildQueryString(h)}`,{method:\"post\",body:JSON.stringify(s)})},this.searchGroupChannels=e=>this.doFetch(`${this.getChannelsRoute()}/group/search`,{method:\"post\",body:JSON.stringify({term:e})}),this.updateChannelMemberSchemeRoles=(e,t,s,i)=>{let r={scheme_user:s,scheme_admin:i};return this.doFetch(`${this.getChannelRoute(e)}/members/${t}/schemeRoles`,{method:\"put\",body:JSON.stringify(r)})},this.getChannelCategories=(e,t)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"get\"}),this.createChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"post\",body:JSON.stringify(s)}),this.updateChannelCategories=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"put\",body:JSON.stringify(s)}),this.getChannelCategoryOrder=(e,t)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/order`,{method:\"get\"}),this.updateChannelCategoryOrder=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/order`,{method:\"put\",body:JSON.stringify(s)}),this.getChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s}`,{method:\"get\"}),this.updateChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s.id}`,{method:\"put\",body:JSON.stringify(s)}),this.deleteChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s}`,{method:\"delete\"}),this.createPost=e=>g(this,void 0,void 0,function*(){let t=yield this.doFetch(`${this.getPostsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),s={channel_id:t.channel_id,post_id:t.id,user_actual_id:t.user_id,root_id:t.root_id};return this.trackEvent(\"api\",\"api_posts_create\",s),t.root_id!=null&&t.root_id!==\"\"&&this.trackEvent(\"api\",\"api_posts_replied\",s),t}),this.updatePost=e=>(this.trackEvent(\"api\",\"api_posts_update\",{channel_id:e.channel_id,post_id:e.id}),this.doFetch(`${this.getPostRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.getPost=e=>this.doFetch(`${this.getPostRoute(e)}`,{method:\"get\"}),this.patchPost=e=>(this.trackEvent(\"api\",\"api_posts_patch\",{channel_id:e.channel_id,post_id:e.id}),this.doFetch(`${this.getPostRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.deletePost=e=>(this.trackEvent(\"api\",\"api_posts_delete\"),this.doFetch(`${this.getPostRoute(e)}`,{method:\"delete\"})),this.getPostThread=(e,t=!0,s=!1,i=!1,r,h,a,d)=>this.doFetch(`${this.getPostRoute(e)}/thread${n.buildQueryString({skipFetchThreads:!t,collapsedThreads:s,collapsedThreadsExtended:i,direction:r,fromPost:d,fromCreateAt:a,perPage:h})}`,{method:\"get\"}),this.getPosts=(e,t=0,s=u,i=!0,r=!1,h=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${n.buildQueryString({page:t,per_page:s,skipFetchThreads:!i,collapsedThreads:r,collapsedThreadsExtended:h})}`,{method:\"get\"}),this.getPostsUnread=(e,t,s=c.DEFAULT_LIMIT_AFTER,i=c.DEFAULT_LIMIT_BEFORE,r=!0,h=!1,a=!1)=>this.doFetch(`${this.getUserRoute(t)}/channels/${e}/posts/unread${n.buildQueryString({limit_after:s,limit_before:i,skipFetchThreads:!r,collapsedThreads:h,collapsedThreadsExtended:a})}`,{method:\"get\"}),this.getPostsSince=(e,t,s=!0,i=!1,r=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${n.buildQueryString({since:t,skipFetchThreads:!s,collapsedThreads:i,collapsedThreadsExtended:r})}`,{method:\"get\"}),this.getPostsBefore=(e,t,s=0,i=u,r=!0,h=!1,a=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${n.buildQueryString({before:t,page:s,per_page:i,skipFetchThreads:!r,collapsedThreads:h,collapsedThreadsExtended:a})}`,{method:\"get\"}),this.getPostsAfter=(e,t,s=0,i=u,r=!0,h=!1,a=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${n.buildQueryString({after:t,page:s,per_page:i,skipFetchThreads:!r,collapsedThreads:h,collapsedThreadsExtended:a})}`,{method:\"get\"}),this.getUserThreads=(e=\"me\",t,{before:s=\"\",after:i=\"\",perPage:r=u,extended:h=!1,deleted:a=!1,unread:d=!1,since:l=0,totalsOnly:m=!1,threadsOnly:f=!1})=>this.doFetch(`${this.getUserThreadsRoute(e,t)}${n.buildQueryString({before:s,after:i,per_page:r,extended:h,deleted:a,unread:d,since:l,totalsOnly:m,threadsOnly:f})}`,{method:\"get\"}),this.getUserThread=(e,t,s,i=!1)=>{let r=`${this.getUserThreadRoute(e,t,s)}`;return this.doFetch(`${r}${n.buildQueryString({extended:i})}`,{method:\"get\"})},this.updateThreadsReadForUser=(e,t)=>{let s=`${this.getUserThreadsRoute(e,t)}/read`;return this.doFetch(s,{method:\"put\"})},this.updateThreadReadForUser=(e,t,s,i)=>{let r=`${this.getUserThreadRoute(e,t,s)}/read/${i}`;return this.doFetch(r,{method:\"put\"})},this.markThreadAsUnreadForUser=(e,t,s,i)=>{let r=`${this.getUserThreadRoute(e,t,s)}/set_unread/${i}`;return this.doFetch(r,{method:\"post\"})},this.updateThreadFollowForUser=(e,t,s,i)=>{let r=this.getUserThreadRoute(e,t,s)+\"/following\";return this.doFetch(r,{method:i?\"put\":\"delete\"})},this.getFileInfosForPost=e=>this.doFetch(`${this.getPostRoute(e)}/files/info`,{method:\"get\"}),this.getFlaggedPosts=(e,t=\"\",s=\"\",i=0,r=u)=>(this.trackEvent(\"api\",\"api_posts_get_flagged\",{team_id:s}),this.doFetch(`${this.getUserRoute(e)}/posts/flagged${n.buildQueryString({channel_id:t,team_id:s,page:i,per_page:r})}`,{method:\"get\"})),this.getPinnedPosts=e=>(this.trackEvent(\"api\",\"api_posts_get_pinned\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/pinned`,{method:\"get\"})),this.markPostAsUnread=(e,t)=>(this.trackEvent(\"api\",\"api_post_set_unread_post\"),this.doFetch(`${this.getUserRoute(e)}/posts/${t}/set_unread`,{method:\"post\",body:JSON.stringify({collapsed_threads_supported:!0})})),this.pinPost=e=>(this.trackEvent(\"api\",\"api_posts_pin\"),this.doFetch(`${this.getPostRoute(e)}/pin`,{method:\"post\"})),this.unpinPost=e=>(this.trackEvent(\"api\",\"api_posts_unpin\"),this.doFetch(`${this.getPostRoute(e)}/unpin`,{method:\"post\"})),this.getPostsByIds=e=>this.doFetch(`${this.getPostsRoute()}/ids`,{method:\"post\",body:JSON.stringify(e)}),this.addReaction=(e,t,s)=>(this.trackEvent(\"api\",\"api_reactions_save\",{post_id:t}),this.doFetch(`${this.getReactionsRoute()}`,{method:\"post\",body:JSON.stringify({user_id:e,post_id:t,emoji_name:s})})),this.removeReaction=(e,t,s)=>(this.trackEvent(\"api\",\"api_reactions_delete\",{post_id:t}),this.doFetch(`${this.getUserRoute(e)}/posts/${t}/reactions/${s}`,{method:\"delete\"})),this.getReactionsForPost=e=>this.doFetch(`${this.getPostRoute(e)}/reactions`,{method:\"get\"}),this.getTopReactionsForTeam=(e,t,s,i)=>this.doFetch(`${this.getTeamRoute(e)}/top/reactions${n.buildQueryString({page:t,per_page:s,time_range:i})}`,{method:\"get\"}),this.getMyTopReactions=(e,t,s,i)=>this.doFetch(`${this.getUsersRoute()}/me/top/reactions${n.buildQueryString({page:t,per_page:s,time_range:i,team_id:e})}`,{method:\"get\"}),this.searchPostsWithParams=(e,t)=>{this.trackEvent(\"api\",\"api_posts_search\",{team_id:e});let s=`${this.getPostsRoute()}/search`;return e&&(s=`${this.getTeamRoute(e)}/posts/search`),this.doFetch(s,{method:\"post\",body:JSON.stringify(t)})},this.searchPosts=(e,t,s)=>this.searchPostsWithParams(e,{terms:t,is_or_search:s}),this.searchFilesWithParams=(e,t)=>(this.trackEvent(\"api\",\"api_files_search\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/files/search`,{method:\"post\",body:JSON.stringify(t)})),this.searchFiles=(e,t,s)=>this.searchFilesWithParams(e,{terms:t,is_or_search:s}),this.getOpenGraphMetadata=e=>this.doFetch(`${this.getBaseRoute()}/opengraph`,{method:\"post\",body:JSON.stringify({url:e})}),this.doPostAction=(e,t,s=\"\")=>this.doPostActionWithCookie(e,t,\"\",s),this.doPostActionWithCookie=(e,t,s,i=\"\")=>{i?this.trackEvent(\"api\",\"api_interactive_messages_menu_selected\"):this.trackEvent(\"api\",\"api_interactive_messages_button_clicked\");let r={selected_option:i};return s!==\"\"&&(r.cookie=s),this.doFetch(`${this.getPostRoute(e)}/actions/${encodeURIComponent(t)}`,{method:\"post\",body:JSON.stringify(r)})},this.uploadFile=(e,t)=>{this.trackEvent(\"api\",\"api_files_upload\");let s={method:\"post\",body:e};return t&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t}`}),this.doFetch(`${this.getFilesRoute()}`,s)},this.getFilePublicLink=e=>this.doFetch(`${this.getFileRoute(e)}/link`,{method:\"get\"}),this.savePreferences=(e,t)=>this.doFetch(`${this.getPreferencesRoute(e)}`,{method:\"put\",body:JSON.stringify(t)}),this.getMyPreferences=()=>this.doFetch(`${this.getPreferencesRoute(\"me\")}`,{method:\"get\"}),this.deletePreferences=(e,t)=>this.doFetch(`${this.getPreferencesRoute(e)}/delete`,{method:\"post\",body:JSON.stringify(t)}),this.ping=()=>this.doFetch(`${this.getBaseRoute()}/system/ping?time=${Date.now()}`,{method:\"get\"}),this.upgradeToEnterprise=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/upgrade_to_enterprise`,{method:\"post\"})}),this.upgradeToEnterpriseStatus=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/upgrade_to_enterprise/status`,{method:\"get\"})}),this.restartServer=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/restart`,{method:\"post\"})}),this.logClientError=(e,t=ae.LogLevel.Error)=>{let s=`${this.getBaseRoute()}/logs`;if(!this.enableLogging)throw new y(this.getUrl(),{message:\"Logging disabled.\",url:s});return this.doFetch(s,{method:\"post\",body:JSON.stringify({message:e,level:t})})},this.getClientConfigOld=()=>this.doFetch(`${this.getBaseRoute()}/config/client?format=old`,{method:\"get\"}),this.getClientLicenseOld=()=>this.doFetch(`${this.getBaseRoute()}/license/client?format=old`,{method:\"get\"}),this.getWarnMetricsStatus=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/warn_metrics/status`,{method:\"get\"})}),this.sendWarnMetricAck=(e,t)=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/warn_metrics/ack/${encodeURI(e)}`,{method:\"post\",body:JSON.stringify({forceAck:t})})}),this.setFirstAdminVisitMarketplaceStatus=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getPluginsRoute()}/marketplace/first_admin_visit`,{method:\"post\",body:JSON.stringify({first_admin_visit_marketplace_status:!0})})}),this.getFirstAdminVisitMarketplaceStatus=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getPluginsRoute()}/marketplace/first_admin_visit`,{method:\"get\"})}),this.getFirstAdminSetupComplete=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getSystemRoute()}/onboarding/complete`,{method:\"get\"})}),this.getTranslations=e=>this.doFetch(e,{method:\"get\"}),this.getWebSocketUrl=()=>`${this.getBaseRoute()}/websocket`,this.createIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_created\",{team_id:e.team_id}),this.doFetch(`${this.getIncomingHooksRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getIncomingWebhook=e=>this.doFetch(`${this.getIncomingHookRoute(e)}`,{method:\"get\"}),this.getIncomingWebhooks=(e=\"\",t=0,s=u)=>{let i={page:t,per_page:s};return e&&(i.team_id=e),this.doFetch(`${this.getIncomingHooksRoute()}${n.buildQueryString(i)}`,{method:\"get\"})},this.removeIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getIncomingHookRoute(e)}`,{method:\"delete\"})),this.updateIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_updated\",{team_id:e.team_id}),this.doFetch(`${this.getIncomingHookRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.createOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_created\",{team_id:e.team_id}),this.doFetch(`${this.getOutgoingHooksRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getOutgoingWebhook=e=>this.doFetch(`${this.getOutgoingHookRoute(e)}`,{method:\"get\"}),this.getOutgoingWebhooks=(e=\"\",t=\"\",s=0,i=u)=>{let r={page:s,per_page:i};return e&&(r.channel_id=e),t&&(r.team_id=t),this.doFetch(`${this.getOutgoingHooksRoute()}${n.buildQueryString(r)}`,{method:\"get\"})},this.removeOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getOutgoingHookRoute(e)}`,{method:\"delete\"})),this.updateOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_updated\",{team_id:e.team_id}),this.doFetch(`${this.getOutgoingHookRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.regenOutgoingHookToken=e=>this.doFetch(`${this.getOutgoingHookRoute(e)}/regen_token`,{method:\"post\"}),this.getCommandsList=e=>this.doFetch(`${this.getCommandsRoute()}?team_id=${e}`,{method:\"get\"}),this.getCommandAutocompleteSuggestionsList=(e,t,s)=>this.doFetch(`${this.getTeamRoute(t)}/commands/autocomplete_suggestions${n.buildQueryString(Object.assign(Object.assign({},s),{user_input:e}))}`,{method:\"get\"}),this.getAutocompleteCommandsList=(e,t=0,s=u)=>this.doFetch(`${this.getTeamRoute(e)}/commands/autocomplete${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getCustomTeamCommands=e=>this.doFetch(`${this.getCommandsRoute()}?team_id=${e}&custom_only=true`,{method:\"get\"}),this.executeCommand=(e,t)=>(this.trackEvent(\"api\",\"api_integrations_used\"),this.doFetch(`${this.getCommandsRoute()}/execute`,{method:\"post\",body:JSON.stringify(Object.assign({command:e},t))})),this.addCommand=e=>(this.trackEvent(\"api\",\"api_integrations_created\"),this.doFetch(`${this.getCommandsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.editCommand=e=>(this.trackEvent(\"api\",\"api_integrations_created\"),this.doFetch(`${this.getCommandsRoute()}/${e.id}`,{method:\"put\",body:JSON.stringify(e)})),this.regenCommandToken=e=>this.doFetch(`${this.getCommandsRoute()}/${e}/regen_token`,{method:\"put\"}),this.deleteCommand=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getCommandsRoute()}/${e}`,{method:\"delete\"})),this.createOAuthApp=e=>(this.trackEvent(\"api\",\"api_apps_register\"),this.doFetch(`${this.getOAuthAppsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.editOAuthApp=e=>this.doFetch(`${this.getOAuthAppsRoute()}/${e.id}`,{method:\"put\",body:JSON.stringify(e)}),this.getOAuthApps=(e=0,t=u)=>this.doFetch(`${this.getOAuthAppsRoute()}${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getAppsOAuthAppIDs=()=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/oauth-app-ids`,{method:\"get\"}),this.getAppsBotIDs=()=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/bot-ids`,{method:\"get\"}),this.getOAuthApp=e=>this.doFetch(`${this.getOAuthAppRoute(e)}`,{method:\"get\"}),this.getOAuthAppInfo=e=>this.doFetch(`${this.getOAuthAppRoute(e)}/info`,{method:\"get\"}),this.deleteOAuthApp=e=>(this.trackEvent(\"api\",\"api_apps_delete\"),this.doFetch(`${this.getOAuthAppRoute(e)}`,{method:\"delete\"})),this.regenOAuthAppSecret=e=>this.doFetch(`${this.getOAuthAppRoute(e)}/regen_secret`,{method:\"post\"}),this.submitInteractiveDialog=e=>(this.trackEvent(\"api\",\"api_interactive_messages_dialog_submitted\"),this.doFetch(`${this.getBaseRoute()}/actions/dialogs/submit`,{method:\"post\",body:JSON.stringify(e)})),this.createCustomEmoji=(e,t)=>{this.trackEvent(\"api\",\"api_emoji_custom_add\");let s=new p.default;s.append(\"image\",t),s.append(\"emoji\",JSON.stringify(e));let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getEmojisRoute()}`,i)},this.getCustomEmoji=e=>this.doFetch(`${this.getEmojisRoute()}/${e}`,{method:\"get\"}),this.getCustomEmojiByName=e=>this.doFetch(`${this.getEmojisRoute()}/name/${e}`,{method:\"get\"}),this.getCustomEmojis=(e=0,t=u,s=\"\")=>this.doFetch(`${this.getEmojisRoute()}${n.buildQueryString({page:e,per_page:t,sort:s})}`,{method:\"get\"}),this.deleteCustomEmoji=e=>(this.trackEvent(\"api\",\"api_emoji_custom_delete\"),this.doFetch(`${this.getEmojiRoute(e)}`,{method:\"delete\"})),this.getSystemEmojiImageUrl=e=>{let t=e.endsWith(\".png\")?\"\":\".png\";return`${this.url}/static/emoji/${e}${t}`},this.getCustomEmojiImageUrl=e=>`${this.getEmojiRoute(e)}/image`,this.searchCustomEmoji=(e,t={})=>this.doFetch(`${this.getEmojisRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))}),this.autocompleteCustomEmoji=e=>this.doFetch(`${this.getEmojisRoute()}/autocomplete${n.buildQueryString({name:e})}`,{method:\"get\"}),this.getDataRetentionPolicy=()=>this.doFetch(`${this.getDataRetentionRoute()}/policy`,{method:\"get\"}),this.getDataRetentionCustomPolicies=(e=0,t=u)=>this.doFetch(`${this.getDataRetentionRoute()}/policies${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getDataRetentionCustomPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"get\"}),this.deleteDataRetentionCustomPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"delete\"}),this.searchDataRetentionCustomPolicyChannels=(e,t,s)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:t},s))}),this.searchDataRetentionCustomPolicyTeams=(e,t,s)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:t},s))}),this.getDataRetentionCustomPolicyTeams=(e,t=0,s=u)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getDataRetentionCustomPolicyChannels=(e,t=0,s=u)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.createDataRetentionPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies`,{method:\"post\",body:JSON.stringify(e)}),this.updateDataRetentionPolicy=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"PATCH\",body:JSON.stringify(t)}),this.addDataRetentionPolicyTeams=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams`,{method:\"post\",body:JSON.stringify(t)}),this.removeDataRetentionPolicyTeams=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams`,{method:\"delete\",body:JSON.stringify(t)}),this.addDataRetentionPolicyChannels=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels`,{method:\"post\",body:JSON.stringify(t)}),this.removeDataRetentionPolicyChannels=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels`,{method:\"delete\",body:JSON.stringify(t)}),this.getJob=e=>this.doFetch(`${this.getJobsRoute()}/${e}`,{method:\"get\"}),this.getJobs=(e=0,t=u)=>this.doFetch(`${this.getJobsRoute()}${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getJobsByType=(e,t=0,s=u)=>this.doFetch(`${this.getJobsRoute()}/type/${e}${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.createJob=e=>this.doFetch(`${this.getJobsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),this.cancelJob=e=>this.doFetch(`${this.getJobsRoute()}/${e}/cancel`,{method:\"post\"}),this.getLogs=(e=0,t=fe)=>this.doFetch(`${this.getBaseRoute()}/logs${n.buildQueryString({page:e,logs_per_page:t})}`,{method:\"get\"}),this.getAudits=(e=0,t=u)=>this.doFetch(`${this.getBaseRoute()}/audits${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getConfig=()=>this.doFetch(`${this.getBaseRoute()}/config`,{method:\"get\"}),this.updateConfig=e=>this.doFetch(`${this.getBaseRoute()}/config`,{method:\"put\",body:JSON.stringify(e)}),this.patchConfig=e=>this.doFetch(`${this.getBaseRoute()}/config/patch`,{method:\"put\",body:JSON.stringify(e)}),this.reloadConfig=()=>this.doFetch(`${this.getBaseRoute()}/config/reload`,{method:\"post\"}),this.getEnvironmentConfig=()=>this.doFetch(`${this.getBaseRoute()}/config/environment`,{method:\"get\"}),this.testEmail=e=>this.doFetch(`${this.getBaseRoute()}/email/test`,{method:\"post\",body:JSON.stringify(e)}),this.testSiteURL=e=>this.doFetch(`${this.getBaseRoute()}/site_url/test`,{method:\"post\",body:JSON.stringify({site_url:e})}),this.testS3Connection=e=>this.doFetch(`${this.getBaseRoute()}/file/s3_test`,{method:\"post\",body:JSON.stringify(e)}),this.invalidateCaches=()=>this.doFetch(`${this.getBaseRoute()}/caches/invalidate`,{method:\"post\"}),this.recycleDatabase=()=>this.doFetch(`${this.getBaseRoute()}/database/recycle`,{method:\"post\"}),this.createComplianceReport=e=>this.doFetch(`${this.getBaseRoute()}/compliance/reports`,{method:\"post\",body:JSON.stringify(e)}),this.getComplianceReport=e=>this.doFetch(`${this.getBaseRoute()}/compliance/reports/${e}`,{method:\"get\"}),this.getComplianceReports=(e=0,t=u)=>this.doFetch(`${this.getBaseRoute()}/compliance/reports${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.uploadBrandImage=e=>{let t=new p.default;t.append(\"image\",e);let s={method:\"post\",body:t};return t.getBoundary&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t.getBoundary()}`}),this.doFetch(`${this.getBrandRoute()}/image`,s)},this.deleteBrandImage=()=>this.doFetch(`${this.getBrandRoute()}/image`,{method:\"delete\"}),this.getClusterStatus=()=>this.doFetch(`${this.getBaseRoute()}/cluster/status`,{method:\"get\"}),this.testLdap=()=>this.doFetch(`${this.getBaseRoute()}/ldap/test`,{method:\"post\"}),this.syncLdap=()=>this.doFetch(`${this.getBaseRoute()}/ldap/sync`,{method:\"post\"}),this.getLdapGroups=(e=0,t=u,s={})=>{let i=Object.assign({page:e,per_page:t},s);return this.doFetch(`${this.getBaseRoute()}/ldap/groups${n.buildQueryString(i)}`,{method:\"get\"})},this.linkLdapGroup=e=>this.doFetch(`${this.getBaseRoute()}/ldap/groups/${encodeURI(e)}/link`,{method:\"post\"}),this.unlinkLdapGroup=e=>this.doFetch(`${this.getBaseRoute()}/ldap/groups/${encodeURI(e)}/link`,{method:\"delete\"}),this.getSamlCertificateStatus=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/status`,{method:\"get\"}),this.uploadPublicSamlCertificate=e=>{let t=new p.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/public`,{method:\"post\",body:t})},this.uploadPrivateSamlCertificate=e=>{let t=new p.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/private`,{method:\"post\",body:t})},this.uploadPublicLdapCertificate=e=>{let t=new p.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/ldap/certificate/public`,{method:\"post\",body:t})},this.uploadPrivateLdapCertificate=e=>{let t=new p.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/ldap/certificate/private`,{method:\"post\",body:t})},this.uploadIdpSamlCertificate=e=>{let t=new p.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,{method:\"post\",body:t})},this.deletePublicSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/public`,{method:\"delete\"}),this.deletePrivateSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/private`,{method:\"delete\"}),this.deletePublicLdapCertificate=()=>this.doFetch(`${this.getBaseRoute()}/ldap/certificate/public`,{method:\"delete\"}),this.deletePrivateLdapCertificate=()=>this.doFetch(`${this.getBaseRoute()}/ldap/certificate/private`,{method:\"delete\"}),this.deleteIdpSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,{method:\"delete\"}),this.testElasticsearch=e=>this.doFetch(`${this.getBaseRoute()}/elasticsearch/test`,{method:\"post\",body:JSON.stringify(e)}),this.purgeElasticsearchIndexes=()=>this.doFetch(`${this.getBaseRoute()}/elasticsearch/purge_indexes`,{method:\"post\"}),this.purgeBleveIndexes=()=>this.doFetch(`${this.getBaseRoute()}/bleve/purge_indexes`,{method:\"post\"}),this.uploadLicense=e=>{this.trackEvent(\"api\",\"api_license_upload\");let t=new p.default;t.append(\"license\",e);let s={method:\"post\",body:t};return t.getBoundary&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t.getBoundary()}`}),this.doFetch(`${this.getBaseRoute()}/license`,s)},this.requestTrialLicense=e=>this.doFetchWithResponse(`${this.getBaseRoute()}/trial-license`,{method:\"POST\",body:JSON.stringify(e)}),this.removeLicense=()=>this.doFetch(`${this.getBaseRoute()}/license`,{method:\"delete\"}),this.getPrevTrialLicense=()=>this.doFetch(`${this.getBaseRoute()}/trial-license/prev`,{method:\"get\"}),this.getAnalytics=(e=\"standard\",t=\"\")=>this.doFetch(`${this.getBaseRoute()}/analytics/old${n.buildQueryString({name:e,team_id:t})}`,{method:\"get\"}),this.getRole=e=>this.doFetch(`${this.getRolesRoute()}/${e}`,{method:\"get\"}),this.getRoleByName=e=>this.doFetch(`${this.getRolesRoute()}/name/${e}`,{method:\"get\"}),this.getRolesByNames=e=>this.doFetch(`${this.getRolesRoute()}/names`,{method:\"post\",body:JSON.stringify(e)}),this.patchRole=(e,t)=>this.doFetch(`${this.getRolesRoute()}/${e}/patch`,{method:\"put\",body:JSON.stringify(t)}),this.getSchemes=(e=\"\",t=0,s=u)=>this.doFetch(`${this.getSchemesRoute()}${n.buildQueryString({scope:e,page:t,per_page:s})}`,{method:\"get\"}),this.createScheme=e=>(this.trackEvent(\"api\",\"api_schemes_create\"),this.doFetch(`${this.getSchemesRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getScheme=e=>this.doFetch(`${this.getSchemesRoute()}/${e}`,{method:\"get\"}),this.deleteScheme=e=>(this.trackEvent(\"api\",\"api_schemes_delete\"),this.doFetch(`${this.getSchemesRoute()}/${e}`,{method:\"delete\"})),this.patchScheme=(e,t)=>(this.trackEvent(\"api\",\"api_schemes_patch\",{scheme_id:e}),this.doFetch(`${this.getSchemesRoute()}/${e}/patch`,{method:\"put\",body:JSON.stringify(t)})),this.getSchemeTeams=(e,t=0,s=u)=>this.doFetch(`${this.getSchemesRoute()}/${e}/teams${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getSchemeChannels=(e,t=0,s=u)=>this.doFetch(`${this.getSchemesRoute()}/${e}/channels${n.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.uploadPlugin=(e,t=!1)=>g(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_plugin_upload\");let s=new p.default;t&&s.append(\"force\",\"true\"),s.append(\"plugin\",e);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(this.getPluginsRoute(),i)}),this.installPluginFromUrl=(e,t=!1)=>{this.trackEvent(\"api\",\"api_install_plugin\");let s={plugin_download_url:e,force:t};return this.doFetch(`${this.getPluginsRoute()}/install_from_url${n.buildQueryString(s)}`,{method:\"post\"})},this.getPlugins=()=>this.doFetch(this.getPluginsRoute(),{method:\"get\"}),this.getMarketplacePlugins=(e,t=!1)=>this.doFetch(`${this.getPluginsMarketplaceRoute()}${n.buildQueryString({filter:e||\"\",local_only:t})}`,{method:\"get\"}),this.installMarketplacePlugin=(e,t)=>(this.trackEvent(\"api\",\"api_install_marketplace_plugin\"),this.doFetch(`${this.getPluginsMarketplaceRoute()}`,{method:\"post\",body:JSON.stringify({id:e,version:t})})),this.getMarketplaceApps=e=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/marketplace${n.buildQueryString({filter:e||\"\"})}`,{method:\"get\"}),this.getPluginStatuses=()=>this.doFetch(`${this.getPluginsRoute()}/statuses`,{method:\"get\"}),this.removePlugin=e=>this.doFetch(this.getPluginRoute(e),{method:\"delete\"}),this.getWebappPlugins=()=>this.doFetch(`${this.getPluginsRoute()}/webapp`,{method:\"get\"}),this.enablePlugin=e=>this.doFetch(`${this.getPluginRoute(e)}/enable`,{method:\"post\"}),this.disablePlugin=e=>this.doFetch(`${this.getPluginRoute(e)}/disable`,{method:\"post\"}),this.linkGroupSyncable=(e,t,s,i)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/link`,{method:\"post\",body:JSON.stringify(i)}),this.unlinkGroupSyncable=(e,t,s)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/link`,{method:\"delete\"}),this.getGroupSyncables=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/${t}s`,{method:\"get\"}),this.getGroup=(e,t=!1)=>this.doFetch(`${this.getGroupRoute(e)}${n.buildQueryString({include_member_count:t})}`,{method:\"get\"}),this.getGroupStats=e=>this.doFetch(`${this.getGroupRoute(e)}/stats`,{method:\"get\"}),this.getGroups=(e=!1,t=0,s=10,i=!1,r=!1)=>{let h={filter_allow_reference:e,page:t,per_page:s,include_member_count:i};return r&&(h.filter_has_member=r),this.doFetch(`${this.getGroupsRoute()}${n.buildQueryString(h)}`,{method:\"get\"})},this.getGroupsByUserId=e=>this.doFetch(`${this.getUsersRoute()}/${e}/groups`,{method:\"get\"}),this.getGroupsNotAssociatedToTeam=(e,t=\"\",s=0,i=u,r=\"ldap\")=>(this.trackEvent(\"api\",\"api_groups_get_not_associated_to_team\",{team_id:e}),this.doFetch(`${this.getGroupsRoute()}${n.buildQueryString({not_associated_to_team:e,page:s,per_page:i,q:t,include_member_count:!0,group_source:r})}`,{method:\"get\"})),this.getGroupsNotAssociatedToChannel=(e,t=\"\",s=0,i=u,r=!1,h=\"ldap\")=>{this.trackEvent(\"api\",\"api_groups_get_not_associated_to_channel\",{channel_id:e});let a={not_associated_to_channel:e,page:s,per_page:i,q:t,include_member_count:!0,filter_parent_team_permitted:r,group_source:h};return this.doFetch(`${this.getGroupsRoute()}${n.buildQueryString(a)}`,{method:\"get\"})},this.createGroupWithUserIds=e=>this.doFetch(this.getGroupsRoute(),{method:\"post\",body:JSON.stringify(e)}),this.addUsersToGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/members`,{method:\"post\",body:JSON.stringify({user_ids:t})}),this.removeUsersFromGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/members`,{method:\"delete\",body:JSON.stringify({user_ids:t})}),this.searchGroups=e=>this.doFetch(`${this.getGroupsRoute()}${n.buildQueryString(e)}`,{method:\"get\"}),this.executeAppCall=(e,t)=>g(this,void 0,void 0,function*(){let s=Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e.context),{track_as_submit:t,user_agent:\"webapp\"})});return this.doFetch(`${this.getAppsProxyRoute()}/api/v1/call`,{method:\"post\",body:JSON.stringify(s)})}),this.getAppsBindings=(e,t,s)=>g(this,void 0,void 0,function*(){let i={user_id:e,channel_id:t,team_id:s,user_agent:\"webapp\"};return this.doFetch(`${this.getAppsProxyRoute()}/api/v1/bindings${n.buildQueryString(i)}`,{method:\"get\"})}),this.getGroupsAssociatedToTeam=(e,t=\"\",s=0,i=u,r=!1)=>(this.trackEvent(\"api\",\"api_groups_get_associated_to_team\",{team_id:e}),this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups${n.buildQueryString({page:s,per_page:i,q:t,include_member_count:!0,filter_allow_reference:r})}`,{method:\"get\"})),this.getGroupsAssociatedToChannel=(e,t=\"\",s=0,i=u,r=!1)=>(this.trackEvent(\"api\",\"api_groups_get_associated_to_channel\",{channel_id:e}),this.doFetch(`${this.getBaseRoute()}/channels/${e}/groups${n.buildQueryString({page:s,per_page:i,q:t,include_member_count:!0,filter_allow_reference:r})}`,{method:\"get\"})),this.getAllGroupsAssociatedToTeam=(e,t=!1,s=!1)=>this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups${n.buildQueryString({paginate:!1,filter_allow_reference:t,include_member_count:s})}`,{method:\"get\"}),this.getAllGroupsAssociatedToChannelsInTeam=(e,t=!1)=>this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups_by_channels${n.buildQueryString({paginate:!1,filter_allow_reference:t})}`,{method:\"get\"}),this.getAllGroupsAssociatedToChannel=(e,t=!1,s=!1)=>this.doFetch(`${this.getBaseRoute()}/channels/${e}/groups${n.buildQueryString({paginate:!1,filter_allow_reference:t,include_member_count:s})}`,{method:\"get\"}),this.patchGroupSyncable=(e,t,s,i)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/patch`,{method:\"put\",body:JSON.stringify(i)}),this.patchGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/patch`,{method:\"put\",body:JSON.stringify(t)}),this.archiveGroup=e=>this.doFetch(`${this.getGroupRoute(e)}`,{method:\"delete\"}),this.getRedirectLocation=e=>{if(!e.length)return Promise.resolve();let t=`${this.getRedirectLocationRoute()}${n.buildQueryString({url:e})}`;return this.doFetch(t,{method:\"get\"})},this.createBot=e=>this.doFetch(`${this.getBotsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),this.patchBot=(e,t)=>this.doFetch(`${this.getBotRoute(e)}`,{method:\"put\",body:JSON.stringify(t)}),this.getBot=e=>this.doFetch(`${this.getBotRoute(e)}`,{method:\"get\"}),this.getBots=(e=0,t=u)=>this.doFetch(`${this.getBotsRoute()}${n.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getBotsIncludeDeleted=(e=0,t=u)=>this.doFetch(`${this.getBotsRoute()}${n.buildQueryString({include_deleted:!0,page:e,per_page:t})}`,{method:\"get\"}),this.getBotsOrphaned=(e=0,t=u)=>this.doFetch(`${this.getBotsRoute()}${n.buildQueryString({only_orphaned:!0,page:e,per_page:t})}`,{method:\"get\"}),this.disableBot=e=>this.doFetch(`${this.getBotRoute(e)}/disable`,{method:\"post\"}),this.enableBot=e=>this.doFetch(`${this.getBotRoute(e)}/enable`,{method:\"post\"}),this.assignBot=(e,t)=>this.doFetch(`${this.getBotRoute(e)}/assign/${t}`,{method:\"post\"}),this.getCloudProducts=e=>{let t=\"\";return e&&(t=\"?include_legacy=true\"),this.doFetch(`${this.getCloudRoute()}/products${t}`,{method:\"get\"})},this.createPaymentMethod=()=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getCloudRoute()}/payment`,{method:\"post\"})}),this.getCloudCustomer=()=>this.doFetch(`${this.getCloudRoute()}/customer`,{method:\"get\"}),this.updateCloudCustomer=e=>this.doFetch(`${this.getCloudRoute()}/customer`,{method:\"put\",body:JSON.stringify(e)}),this.updateCloudCustomerAddress=e=>this.doFetch(`${this.getCloudRoute()}/customer/address`,{method:\"put\",body:JSON.stringify(e)}),this.confirmPaymentMethod=e=>g(this,void 0,void 0,function*(){return this.doFetch(`${this.getCloudRoute()}/payment/confirm`,{method:\"post\",body:JSON.stringify({stripe_setup_intent_id:e})})}),this.subscribeCloudProduct=e=>this.doFetch(`${this.getCloudRoute()}/subscription`,{method:\"put\",body:JSON.stringify({product_id:e})}),this.requestCloudTrial=()=>this.doFetchWithResponse(`${this.getCloudRoute()}/request-trial`,{method:\"put\"}),this.getSubscription=()=>this.doFetch(`${this.getCloudRoute()}/subscription`,{method:\"get\"}),this.getRenewalLink=()=>this.doFetch(`${this.getBaseRoute()}/license/renewal`,{method:\"get\"}),this.getInvoices=()=>this.doFetch(`${this.getCloudRoute()}/subscription/invoices`,{method:\"get\"}),this.getInvoicePdfUrl=e=>`${this.getCloudRoute()}/subscription/invoices/${e}/pdf`,this.getCloudLimits=()=>this.doFetch(`${this.getCloudRoute()}/limits`,{method:\"get\"}),this.teamMembersMinusGroupMembers=(e,t,s,i)=>{let r=`group_ids=${t.join(\",\")}&page=${s}&per_page=${i}`;return this.doFetch(`${this.getTeamRoute(e)}/members_minus_group_members?${r}`,{method:\"get\"})},this.channelMembersMinusGroupMembers=(e,t,s,i)=>{let r=`group_ids=${t.join(\",\")}&page=${s}&per_page=${i}`;return this.doFetch(`${this.getChannelRoute(e)}/members_minus_group_members?${r}`,{method:\"get\"})},this.getSamlMetadataFromIdp=e=>this.doFetch(`${this.getBaseRoute()}/saml/metadatafromidp`,{method:\"post\",body:JSON.stringify({saml_metadata_url:e})}),this.setSamlIdpCertificateFromMetadata=e=>{let t={method:\"post\",body:e};return t.headers={\"Content-Type\":\"application/x-pem-file\"},this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,t)},this.getInProductNotices=(e,t,s)=>this.doFetch(`${this.getNoticesRoute()}/${e}?client=${t}&clientVersion=${s}`,{method:\"get\"}),this.updateNoticesAsViewed=e=>(this.trackEvent(\"ui\",`notice_seen_${e[0]}`),this.doFetch(`${this.getNoticesRoute()}/view`,{method:\"put\",body:JSON.stringify(e)})),this.getAncillaryPermissions=e=>this.doFetch(`${this.getPermissionsRoute()}/ancillary?subsection_permissions=${e.join(\",\")}`,{method:\"get\"}),this.completeSetup=e=>this.doFetch(`${this.getSystemRoute()}/onboarding/complete`,{method:\"post\",body:JSON.stringify(e)}),this.getAppliedSchemaMigrations=()=>this.doFetch(`${this.getSystemRoute()}/schema/version`,{method:\"get\"}),this.fetchWithGraphQL=e=>g(this,void 0,void 0,function*(){return this.doFetch(this.getGraphQLUrl(),{method:\"post\",body:e})}),this.doFetch=(e,t)=>g(this,void 0,void 0,function*(){let{data:s}=yield this.doFetchWithResponse(e,t);return s}),this.doFetchWithResponse=(e,t)=>g(this,void 0,void 0,function*(){let s=yield fetch(e,this.getOptions(t)),i=D(s.headers),r;try{r=yield s.json()}catch{throw new y(this.getUrl(),{message:\"Received invalid response from the server.\",intl:{id:\"mobile.request.invalid_response\",defaultMessage:\"Received invalid response from the server.\"},url:e})}if(i.has(c.HEADER_X_VERSION_ID)&&!i.get(\"Cache-Control\")){let a=i.get(c.HEADER_X_VERSION_ID);a&&this.serverVersion!==a&&(this.serverVersion=a)}if(i.has(c.HEADER_X_CLUSTER_ID)){let a=i.get(c.HEADER_X_CLUSTER_ID);a&&this.clusterId!==a&&(this.clusterId=a)}if(s.ok)return{response:s,headers:i,data:r};let h=r.message||\"\";throw this.logToConsole&&console.error(h),new y(this.getUrl(),{message:h,server_error_id:r.id,status_code:r.status_code,url:e})})}getUrl(){return this.url}getAbsoluteUrl(e){return typeof e!=\"string\"||!e.startsWith(\"/\")?e:this.getUrl()+e}getGraphQLUrl(){return`${this.url}${ye}`}setUrl(e){this.url=e}setUserAgent(e){this.userAgent=e}getToken(){return this.token}setToken(e){this.token=e}setCSRF(e){this.csrf=e}setAcceptLanguage(e){this.defaultHeaders[\"Accept-Language\"]=e}setEnableLogging(e){this.enableLogging=e}setIncludeCookies(e){this.includeCookies=e}setUserId(e){this.userId=e}setUserRoles(e){this.userRoles=e}setDiagnosticId(e){this.diagnosticId=e}setTelemetryHandler(e){this.telemetryHandler=e}getServerVersion(){return this.serverVersion}getUrlVersion(){return this.urlVersion}getBaseRoute(){return`${this.url}${this.urlVersion}`}getAppsProxyRoute(){return`${this.url}/plugins/com.mattermost.apps`}getUsersRoute(){return`${this.getBaseRoute()}/users`}getUserRoute(e){return`${this.getUsersRoute()}/${e}`}getTeamsRoute(){return`${this.getBaseRoute()}/teams`}getTeamRoute(e){return`${this.getTeamsRoute()}/${e}`}getTeamSchemeRoute(e){return`${this.getTeamRoute(e)}/scheme`}getTeamNameRoute(e){return`${this.getTeamsRoute()}/name/${e}`}getTeamMembersRoute(e){return`${this.getTeamRoute(e)}/members`}getTeamMemberRoute(e,t){return`${this.getTeamMembersRoute(e)}/${t}`}getChannelsRoute(){return`${this.getBaseRoute()}/channels`}getChannelRoute(e){return`${this.getChannelsRoute()}/${e}`}getChannelMembersRoute(e){return`${this.getChannelRoute(e)}/members`}getChannelMemberRoute(e,t){return`${this.getChannelMembersRoute(e)}/${t}`}getChannelSchemeRoute(e){return`${this.getChannelRoute(e)}/scheme`}getChannelCategoriesRoute(e,t){return`${this.getBaseRoute()}/users/${e}/teams/${t}/channels/categories`}getPostsRoute(){return`${this.getBaseRoute()}/posts`}getPostRoute(e){return`${this.getPostsRoute()}/${e}`}getReactionsRoute(){return`${this.getBaseRoute()}/reactions`}getCommandsRoute(){return`${this.getBaseRoute()}/commands`}getFilesRoute(){return`${this.getBaseRoute()}/files`}getFileRoute(e){return`${this.getFilesRoute()}/${e}`}getPreferencesRoute(e){return`${this.getUserRoute(e)}/preferences`}getIncomingHooksRoute(){return`${this.getBaseRoute()}/hooks/incoming`}getIncomingHookRoute(e){return`${this.getBaseRoute()}/hooks/incoming/${e}`}getOutgoingHooksRoute(){return`${this.getBaseRoute()}/hooks/outgoing`}getOutgoingHookRoute(e){return`${this.getBaseRoute()}/hooks/outgoing/${e}`}getOAuthRoute(){return`${this.url}/oauth`}getOAuthAppsRoute(){return`${this.getBaseRoute()}/oauth/apps`}getOAuthAppRoute(e){return`${this.getOAuthAppsRoute()}/${e}`}getEmojisRoute(){return`${this.getBaseRoute()}/emoji`}getEmojiRoute(e){return`${this.getEmojisRoute()}/${e}`}getBrandRoute(){return`${this.getBaseRoute()}/brand`}getBrandImageUrl(e){return`${this.getBrandRoute()}/image?t=${e}`}getDataRetentionRoute(){return`${this.getBaseRoute()}/data_retention`}getJobsRoute(){return`${this.getBaseRoute()}/jobs`}getPluginsRoute(){return`${this.getBaseRoute()}/plugins`}getPluginRoute(e){return`${this.getPluginsRoute()}/${e}`}getPluginsMarketplaceRoute(){return`${this.getPluginsRoute()}/marketplace`}getRolesRoute(){return`${this.getBaseRoute()}/roles`}getSchemesRoute(){return`${this.getBaseRoute()}/schemes`}getRedirectLocationRoute(){return`${this.getBaseRoute()}/redirect_location`}getBotsRoute(){return`${this.getBaseRoute()}/bots`}getBotRoute(e){return`${this.getBotsRoute()}/${e}`}getGroupsRoute(){return`${this.getBaseRoute()}/groups`}getGroupRoute(e){return`${this.getGroupsRoute()}/${e}`}getNoticesRoute(){return`${this.getBaseRoute()}/system/notices`}getCloudRoute(){return`${this.getBaseRoute()}/cloud`}getPermissionsRoute(){return`${this.getBaseRoute()}/permissions`}getUserThreadsRoute(e,t){return`${this.getUserRoute(e)}/teams/${t}/threads`}getUserThreadRoute(e,t,s){return`${this.getUserThreadsRoute(e,t)}/${s}`}getSystemRoute(){return`${this.getBaseRoute()}/system`}getCSRFFromCookie(){if(typeof document<\"u\"&&typeof document.cookie<\"u\"){let e=document.cookie.split(\";\");for(let t=0;t<e.length;t++){let s=e[t].trim();if(s.startsWith(\"MMCSRF=\"))return s.replace(\"MMCSRF=\",\"\")}}return\"\"}getOptions(e){let t=Object.assign({},e),s=Object.assign({[le]:\"XMLHttpRequest\"},this.defaultHeaders);this.setAuthHeader&&this.token&&(s[de]=`${ce} ${this.token}`);let i=this.csrf||this.getCSRFFromCookie();return e.method&&e.method.toLowerCase()!==\"get\"&&i&&(s[pe]=i),this.includeCookies&&(t.credentials=\"include\"),this.userAgent&&(s[me]=this.userAgent),e.body&&(e.body instanceof p.default||(s[ge]=\"application/json\")),t.headers&&Object.assign(s,t.headers),Object.assign(Object.assign({},t),{headers:s})}getFileUrl(e,t){let s=`${this.getFileRoute(e)}`;return t&&(s+=`?${t}`),s}getFileThumbnailUrl(e,t){let s=`${this.getFileRoute(e)}/thumbnail`;return t&&(s+=`?${t}`),s}getFilePreviewUrl(e,t){let s=`${this.getFileRoute(e)}/preview`;return t&&(s+=`?${t}`),s}trackEvent(e,t,s){this.telemetryHandler&&this.telemetryHandler.trackEvent(this.userId,this.userRoles,e,t,s)}pageVisited(e,t){this.telemetryHandler&&this.telemetryHandler.pageVisited(this.userId,this.userRoles,e,t)}};c.default=U;function D(o){let e=new Map,t=new Map;return o.forEach((s,i)=>{let r=i.replace(/\\b[a-z]/g,a=>a.toUpperCase()),h=s;if(s&&s.match(/\\n\\S+:\\s\\S+/)){let a=s.split(`\n`);h=a.shift();let d=new Map(a.map(l=>l.split(/:\\s/)));t=new Map([...t,...d])}e.set(r,h)}),new Map([...e,...t])}c.parseAndMergeNestedHeaders=D;var y=class extends Error{constructor(e,t){super(t.message+\": \"+ue.cleanUrlForLogging(e,t.url||\"\")),this.message=t.message,this.url=t.url,this.intl=t.intl,this.server_error_id=t.server_error_id,this.status_code=t.status_code,Object.defineProperty(this,\"message\",{enumerable:!0})}};c.ClientError=y});var Q=R(_=>{\"use strict\";var $e=_&&_.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_,\"__esModule\",{value:!0});_.DEFAULT_LIMIT_BEFORE=_.DEFAULT_LIMIT_AFTER=_.ClientError=_.Client4=void 0;var k=L();Object.defineProperty(_,\"Client4\",{enumerable:!0,get:function(){return $e(k).default}});Object.defineProperty(_,\"ClientError\",{enumerable:!0,get:function(){return k.ClientError}});Object.defineProperty(_,\"DEFAULT_LIMIT_AFTER\",{enumerable:!0,get:function(){return k.DEFAULT_LIMIT_AFTER}});Object.defineProperty(_,\"DEFAULT_LIMIT_BEFORE\",{enumerable:!0,get:function(){return k.DEFAULT_LIMIT_BEFORE}})});var Te={};se(Te,{default:()=>Se});var z=T(Q());function A(o,e){if(e(o))return[o];let t=[];if(o.children)for(let s of o.children)t=[...t,...A(s,e)];return t}function N(o,e){return A(o,t=>t.type===e)[0]}function j(o,e){A(o,e)}var Re=T(S(\"handlebars\")),be=T(S(\"yaml\"));typeof self>\"u\"&&(self={syscall:(o,...e)=>{throw new Error(\"Not implemented here\")}});var $=self.syscall;async function B(o){return $(\"space.readPage\",o)}function F(o){return o.toISOString().split(\"T\")[0]}function I(o,e){let t=[];if(o.filter.length===0)t=e.slice();else{e:for(let s of e){let i=s;for(let{op:r,prop:h,value:a}of o.filter)switch(r){case\"=\":let d=i[h];if(Array.isArray(d)&&!Array.isArray(a)){if(!d.includes(a))continue e}else if(Array.isArray(d)&&Array.isArray(a)){if(!d.some(l=>a.includes(l)))continue e}else if(d!=a)continue e;break;case\"!=\":if(i[h]==a)continue e;break;case\"<\":if(!(i[h]<a))continue e;break;case\"<=\":if(!(i[h]<=a))continue e;break;case\">\":if(!(i[h]>a))continue e;break;case\">=\":if(!(i[h]>=a))continue e;break;case\"=~\":if(!new RegExp(a).exec(i[h]))continue e;break;case\"!=~\":if(new RegExp(a).exec(i[h]))continue e;break;case\"in\":if(!a.includes(i[h]))continue e;break}t.push(i)}}return o.orderBy&&(t=t.sort((s,i)=>{let r=o.orderBy,h=o.orderDesc;return s[r]===i[r]?0:s[r]<i[r]?h?1:-1:h?-1:1})),o.limit&&(t=t.slice(0,o.limit)),o.select&&(t=t.map(s=>{let i={};for(let r of o.select)i[r]=s[r];return i})),t}var O=class{constructor(e){this.client=e;this.channelCache=new Map;this.teamCache=new Map;this.userCache=new Map}async getChannelCached(e){let t=this.channelCache.get(e);return t||(t=await this.client.getChannel(e),this.channelCache.set(e,t),t)}async getTeamCached(e){let t=this.teamCache.get(e);return t||(t=await this.client.getTeam(e),this.teamCache.set(e,t),t)}async getUserCached(e){let t=this.userCache.get(e);return t||(t=await this.client.getUser(e),this.userCache.set(e,t),t)}};async function G(o){return $(\"markdown.parseMarkdown\",o)}var H=T(S(\"yaml\"));async function E(o,e=[\"yaml\"]){let{text:t}=await B(o),s=await G(t),i={};return j(s,r=>{if(r.type!==\"FencedCode\")return!1;let h=N(r,\"CodeInfo\");if(!h||!e.includes(h.children[0].text))return!1;let a=N(r,\"CodeText\");if(!a)return!1;let d=a.children[0].text;try{i=H.default.parse(d)}catch(l){throw console.error(\"YAML Page parser error\",l),new Error(`YAML Error: ${l.message}`)}return!0}),i}async function W(o){try{let e=await E(\"SETTINGS\",[\"yaml\"])||{},t={};for(let[s,i]of Object.entries(o))e[s]?t[s]=e[s]:t[s]=i;return t}catch(e){if(e.message===\"Page not found\")return o;throw e}}async function q(o){try{let e=await E(\"SECRETS\",[\"yaml\",\"secrets\"]),t=[];for(let s of o){let i=e[s];if(i)t.push(i);else throw new Error(`No such secret: ${s}`)}return t}catch(e){throw e.message===\"Page not found\"?new Error(`No such secret: ${o[0]}`):e}}function V(o,e,t,s=!1){return`${s?o.replace(\"https://\",\"mattermost://\"):o}/${e}/pl/${t}`}function Fe(o){o.create_at&&(o.createdAt=F(new Date(o.create_at))),o.update_at&&(o.updatedAt=F(new Date(o.update_at))),o.edit_at&&(o.editedAt=F(new Date(o.edit_at)))}async function X({query:o}){let{client:e,config:t}=await ve(),s=new O(e),i=await e.getMe(),r=await e.getFlaggedPosts(i.id),h=[];for(let d of r.order){let l=r.posts[d];Fe(l),h.push(l)}o.limit||(o.limit=15),h=h.slice(0,o.limit);let a=[];return await Promise.all(h.map(async d=>{let l=await s.getChannelCached(d.channel_id),m=t.mattermostDefaultTeam;l.team_id&&(m=(await s.getTeamCached(l.team_id)).name),a.push({...d,username:(await s.getUserCached(d.user_id)).username,channelName:l.display_name,teamName:m,url:V(e.url,m,d.id,!1),desktopUrl:V(e.url,m,d.id,!0)})})),a=I(o,a),a}async function ve(){let o=await W({mattermostUrl:\"https://community.mattermost.com\",mattermostDefaultTeam:\"core\"}),[e]=await q([\"mattermostToken\"]),t=new z.Client4;return t.setUrl(o.mattermostUrl),t.setToken(e),{client:t,config:o}}var Se=X;return ie(Te);})();\n return mod;})()"
    },
    "unsavePostCommand": {
      "command": {
        "name": "Unsave",
        "contexts": [
          "CommandLink"
        ]
      },
      "code": "(() => { var mod=(()=>{var j=Object.create;var F=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty;var v=(n=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(n,{get:(e,t)=>(typeof require!=\"undefined\"?require:e)[t]}):n)(function(n){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+n+'\" is not supported')});var R=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),q=(n,e)=>{for(var t in e)F(n,t,{get:e[t],enumerable:!0})},E=(n,e,t,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of G(e))!W.call(n,i)&&i!==t&&F(n,i,{get:()=>e[i],enumerable:!(s=I(e,i))||s.enumerable});return n};var S=(n,e,t)=>(t=n!=null?j(H(n)):{},E(e||!n||!n.__esModule?F(t,\"default\",{value:n,enumerable:!0}):t,n)),V=n=>E(F({},\"__esModule\",{value:!0}),n);var U=R(b=>{\"use strict\";Object.defineProperty(b,\"__esModule\",{value:!0});b.LogLevel=void 0;var z;(function(n){n.Error=\"ERROR\",n.Warning=\"WARNING\",n.Info=\"INFO\",n.Debug=\"DEBUG\"})(z=b.LogLevel||(b.LogLevel={}))});var A=R(T=>{\"use strict\";Object.defineProperty(T,\"__esModule\",{value:!0});T.cleanUrlForLogging=void 0;function X(n,e){let t=e;t=t.substring(n.length);let s=t.indexOf(\"?\");s!==-1&&(t=t.substring(0,s));let i=[\"api\",\"v4\",\"users\",\"teams\",\"scheme\",\"name\",\"members\",\"channels\",\"posts\",\"reactions\",\"commands\",\"files\",\"preferences\",\"hooks\",\"incoming\",\"outgoing\",\"oauth\",\"apps\",\"emoji\",\"brand\",\"image\",\"data_retention\",\"jobs\",\"plugins\",\"roles\",\"system\",\"timezones\",\"schemes\",\"redirect_location\",\"patch\",\"mfa\",\"password\",\"reset\",\"send\",\"active\",\"verify\",\"terms_of_service\",\"login\",\"logout\",\"ids\",\"usernames\",\"me\",\"username\",\"email\",\"default\",\"sessions\",\"revoke\",\"all\",\"audits\",\"device\",\"status\",\"search\",\"switch\",\"authorized\",\"authorize\",\"deauthorize\",\"tokens\",\"disable\",\"enable\",\"exists\",\"unread\",\"invite\",\"batch\",\"stats\",\"import\",\"schemeRoles\",\"direct\",\"group\",\"convert\",\"view\",\"search_autocomplete\",\"thread\",\"info\",\"flagged\",\"pinned\",\"pin\",\"unpin\",\"opengraph\",\"actions\",\"thumbnail\",\"preview\",\"link\",\"delete\",\"logs\",\"ping\",\"config\",\"client\",\"license\",\"websocket\",\"webrtc\",\"token\",\"regen_token\",\"autocomplete\",\"execute\",\"regen_secret\",\"policy\",\"type\",\"cancel\",\"reload\",\"environment\",\"s3_test\",\"file\",\"caches\",\"invalidate\",\"database\",\"recycle\",\"compliance\",\"reports\",\"cluster\",\"ldap\",\"test\",\"sync\",\"saml\",\"certificate\",\"public\",\"private\",\"idp\",\"elasticsearch\",\"purge_indexes\",\"analytics\",\"old\",\"webapp\",\"fake\"];return t=t.split(\"/\").map(r=>r!==\"\"&&i.indexOf(r)===-1?\"<filtered>\":r).join(\"/\"),s!==-1&&(t+=\"?<filtered>\"),t}T.cleanUrlForLogging=X});var N=R(C=>{\"use strict\";Object.defineProperty(C,\"__esModule\",{value:!0});C.buildQueryString=void 0;function Y(n){let e=Object.keys(n);if(e.length===0)return\"\";let t=\"?\";for(let s=0;s<e.length;s++){let i=e[s];n[i]!==void 0&&(s>0&&(t+=\"&\"),t+=i+\"=\"+encodeURIComponent(n[i]))}return t}C.buildQueryString=Y});var w=R(d=>{\"use strict\";var c=d&&d.__awaiter||function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function u(p){try{f(s.next(p))}catch($){a($)}}function g(p){try{f(s.throw(p))}catch($){a($)}}function f(p){p.done?r(p.value):i(p.value).then(u,g)}f((s=s.apply(n,e||[])).next())})},K=d&&d.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(d,\"__esModule\",{value:!0});d.ClientError=d.parseAndMergeNestedHeaders=d.DEFAULT_LIMIT_AFTER=d.DEFAULT_LIMIT_BEFORE=d.HEADER_X_VERSION_ID=d.HEADER_X_CLUSTER_ID=void 0;var l=K(v(\"form-data\")),Z=U(),ee=A(),o=N(),te=\"Authorization\",se=\"BEARER\",ie=\"Content-Type\",re=\"X-Requested-With\",oe=\"User-Agent\";d.HEADER_X_CLUSTER_ID=\"X-Cluster-Id\";var ne=\"X-CSRF-Token\";d.HEADER_X_VERSION_ID=\"X-Version-Id\";var he=25,h=60,ae=1e4;d.DEFAULT_LIMIT_BEFORE=30;d.DEFAULT_LIMIT_AFTER=30;var ue=\"/api/v5/graphql\",k=class{constructor(){this.logToConsole=!1,this.serverVersion=\"\",this.clusterId=\"\",this.token=\"\",this.csrf=\"\",this.url=\"\",this.urlVersion=\"/api/v4\",this.userAgent=null,this.enableLogging=!1,this.defaultHeaders={},this.userId=\"\",this.diagnosticId=\"\",this.includeCookies=!0,this.setAuthHeader=!0,this.translations={connectionError:\"There appears to be a problem with your internet connection.\",unknownError:\"We received an unexpected status code from the server.\"},this.userRoles=\"\",this.createUser=(e,t,s,i)=>{this.trackEvent(\"api\",\"api_users_create\");let r={};return t&&(r.t=t),s&&(r.iid=s),i&&(r.r=i),this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(r)}`,{method:\"post\",body:JSON.stringify(e)})},this.patchMe=e=>this.doFetch(`${this.getUserRoute(\"me\")}/patch`,{method:\"put\",body:JSON.stringify(e)}),this.patchUser=e=>(this.trackEvent(\"api\",\"api_users_patch\"),this.doFetch(`${this.getUserRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.updateUser=e=>(this.trackEvent(\"api\",\"api_users_update\"),this.doFetch(`${this.getUserRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.promoteGuestToUser=e=>(this.trackEvent(\"api\",\"api_users_promote_guest_to_user\"),this.doFetch(`${this.getUserRoute(e)}/promote`,{method:\"post\"})),this.demoteUserToGuest=e=>(this.trackEvent(\"api\",\"api_users_demote_user_to_guest\"),this.doFetch(`${this.getUserRoute(e)}/demote`,{method:\"post\"})),this.updateUserRoles=(e,t)=>(this.trackEvent(\"api\",\"api_users_update_roles\"),this.doFetch(`${this.getUserRoute(e)}/roles`,{method:\"put\",body:JSON.stringify({roles:t})})),this.updateUserMfa=(e,t,s)=>{let i={activate:t};return t&&(i.code=s),this.doFetch(`${this.getUserRoute(e)}/mfa`,{method:\"put\",body:JSON.stringify(i)})},this.updateUserPassword=(e,t,s)=>(this.trackEvent(\"api\",\"api_users_newpassword\"),this.doFetch(`${this.getUserRoute(e)}/password`,{method:\"put\",body:JSON.stringify({current_password:t,new_password:s})})),this.resetUserPassword=(e,t)=>(this.trackEvent(\"api\",\"api_users_reset_password\"),this.doFetch(`${this.getUsersRoute()}/password/reset`,{method:\"post\",body:JSON.stringify({token:e,new_password:t})})),this.getKnownUsers=()=>this.doFetch(`${this.getUsersRoute()}/known`,{method:\"get\"}),this.sendPasswordResetEmail=e=>(this.trackEvent(\"api\",\"api_users_send_password_reset\"),this.doFetch(`${this.getUsersRoute()}/password/reset/send`,{method:\"post\",body:JSON.stringify({email:e})})),this.updateUserActive=(e,t)=>(this.trackEvent(\"api\",\"api_users_update_active\"),this.doFetch(`${this.getUserRoute(e)}/active`,{method:\"put\",body:JSON.stringify({active:t})})),this.uploadProfileImage=(e,t)=>{this.trackEvent(\"api\",\"api_users_update_profile_picture\");let s=new l.default;s.append(\"image\",t);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getUserRoute(e)}/image`,i)},this.setDefaultProfileImage=e=>(this.trackEvent(\"api\",\"api_users_set_default_profile_picture\"),this.doFetch(`${this.getUserRoute(e)}/image`,{method:\"delete\"})),this.verifyUserEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/verify`,{method:\"post\",body:JSON.stringify({token:e})}),this.updateMyTermsOfServiceStatus=(e,t)=>this.doFetch(`${this.getUserRoute(\"me\")}/terms_of_service`,{method:\"post\",body:JSON.stringify({termsOfServiceId:e,accepted:t})}),this.getTermsOfService=()=>this.doFetch(`${this.getBaseRoute()}/terms_of_service`,{method:\"get\"}),this.createTermsOfService=e=>this.doFetch(`${this.getBaseRoute()}/terms_of_service`,{method:\"post\",body:JSON.stringify({text:e})}),this.sendVerificationEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/verify/send`,{method:\"post\",body:JSON.stringify({email:e})}),this.login=(e,t,s=\"\",i=\"\",r=!1)=>c(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_users_login\"),r&&this.trackEvent(\"api\",\"api_users_login_ldap\");let a={device_id:i,login_id:e,password:t,token:s};r&&(a.ldap_only=\"true\");let{data:u,headers:g}=yield this.doFetchWithResponse(`${this.getUsersRoute()}/login`,{method:\"post\",body:JSON.stringify(a)});return g.has(\"Token\")&&this.setToken(g.get(\"Token\")),u}),this.loginById=(e,t,s=\"\",i=\"\")=>{this.trackEvent(\"api\",\"api_users_login\");let r={device_id:i,id:e,password:t,token:s};return this.doFetch(`${this.getUsersRoute()}/login`,{method:\"post\",body:JSON.stringify(r)})},this.logout=()=>c(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_users_logout\");let{response:e}=yield this.doFetchWithResponse(`${this.getUsersRoute()}/logout`,{method:\"post\"});return e.ok&&(this.token=\"\"),this.serverVersion=\"\",e}),this.getProfiles=(e=0,t=h,s={})=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign({page:e,per_page:t},s))}`,{method:\"get\"}),this.getProfilesByIds=(e,t={})=>this.doFetch(`${this.getUsersRoute()}/ids${o.buildQueryString(t)}`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesByUsernames=e=>this.doFetch(`${this.getUsersRoute()}/usernames`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesInTeam=(e,t=0,s=h,i=\"\",r={})=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign(Object.assign({},r),{in_team:e,page:t,per_page:s,sort:i}))}`,{method:\"get\"}),this.getProfilesNotInTeam=(e,t,s=0,i=h)=>{let r={not_in_team:e,page:s,per_page:i};return t&&(r.group_constrained=!0),this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(r)}`,{method:\"get\"})},this.getProfilesWithoutTeam=(e=0,t=h,s={})=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign(Object.assign({},s),{without_team:1,page:e,per_page:t}))}`,{method:\"get\"}),this.getProfilesInChannel=(e,t=0,s=h,i=\"\",r={})=>{let a={in_channel:e,page:t,per_page:s,sort:i};return this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign(Object.assign({},a),r))}`,{method:\"get\"})},this.getProfilesInGroupChannels=e=>this.doFetch(`${this.getUsersRoute()}/group_channels`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesNotInChannel=(e,t,s,i=0,r=h)=>{let a={in_team:e,not_in_channel:t,page:i,per_page:r};return s&&(a.group_constrained=!0),this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(a)}`,{method:\"get\"})},this.getProfilesInGroup=(e,t=0,s=h)=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString({in_group:e,page:t,per_page:s})}`,{method:\"get\"}),this.getProfilesNotInGroup=(e,t=0,s=h)=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString({not_in_group:e,page:t,per_page:s})}`,{method:\"get\"}),this.getMe=()=>this.doFetch(`${this.getUserRoute(\"me\")}`,{method:\"get\"}),this.getUser=e=>this.doFetch(`${this.getUserRoute(e)}`,{method:\"get\"}),this.getUserByUsername=e=>this.doFetch(`${this.getUsersRoute()}/username/${e}`,{method:\"get\"}),this.getUserByEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/${e}`,{method:\"get\"}),this.getProfilePictureUrl=(e,t)=>{let s={};return t&&(s._=t),`${this.getUserRoute(e)}/image${o.buildQueryString(s)}`},this.getDefaultProfilePictureUrl=e=>`${this.getUserRoute(e)}/image/default`,this.autocompleteUsers=(e,t,s,i={limit:he})=>this.doFetch(`${this.getUsersRoute()}/autocomplete${o.buildQueryString({in_team:t,in_channel:s,name:e,limit:i.limit})}`,{method:\"get\"}),this.getSessions=e=>this.doFetch(`${this.getUserRoute(e)}/sessions`,{method:\"get\"}),this.revokeSession=(e,t)=>this.doFetch(`${this.getUserRoute(e)}/sessions/revoke`,{method:\"post\",body:JSON.stringify({session_id:t})}),this.revokeAllSessionsForUser=e=>this.doFetch(`${this.getUserRoute(e)}/sessions/revoke/all`,{method:\"post\"}),this.revokeSessionsForAllUsers=()=>this.doFetch(`${this.getUsersRoute()}/sessions/revoke/all`,{method:\"post\"}),this.getUserAudits=(e,t=0,s=h)=>this.doFetch(`${this.getUserRoute(e)}/audits${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.checkUserMfa=e=>this.doFetch(`${this.getUsersRoute()}/mfa`,{method:\"post\",body:JSON.stringify({login_id:e})}),this.generateMfaSecret=e=>this.doFetch(`${this.getUserRoute(e)}/mfa/generate`,{method:\"post\"}),this.attachDevice=e=>this.doFetch(`${this.getUsersRoute()}/sessions/device`,{method:\"put\",body:JSON.stringify({device_id:e})}),this.searchUsers=(e,t)=>(this.trackEvent(\"api\",\"api_search_users\"),this.doFetch(`${this.getUsersRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))})),this.getStatusesByIds=e=>this.doFetch(`${this.getUsersRoute()}/status/ids`,{method:\"post\",body:JSON.stringify(e)}),this.getStatus=e=>this.doFetch(`${this.getUserRoute(e)}/status`,{method:\"get\"}),this.updateStatus=e=>this.doFetch(`${this.getUserRoute(e.user_id)}/status`,{method:\"put\",body:JSON.stringify(e)}),this.updateCustomStatus=e=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom`,{method:\"put\",body:JSON.stringify(e)}),this.unsetCustomStatus=()=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom`,{method:\"delete\"}),this.removeRecentCustomStatus=e=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom/recent/delete`,{method:\"post\",body:JSON.stringify(e)}),this.switchEmailToOAuth=(e,t,s,i=\"\")=>(this.trackEvent(\"api\",\"api_users_email_to_oauth\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"email\",new_service:e,email:t,password:s,mfa_code:i})})),this.switchOAuthToEmail=(e,t,s)=>(this.trackEvent(\"api\",\"api_users_oauth_to_email\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:e,new_service:\"email\",email:t,new_password:s})})),this.switchEmailToLdap=(e,t,s,i,r=\"\")=>(this.trackEvent(\"api\",\"api_users_email_to_ldap\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"email\",new_service:\"ldap\",email:e,password:t,ldap_id:s,new_password:i,mfa_code:r})})),this.switchLdapToEmail=(e,t,s,i=\"\")=>(this.trackEvent(\"api\",\"api_users_ldap_to_email\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"ldap\",new_service:\"email\",email:t,password:e,new_password:s,mfa_code:i})})),this.getAuthorizedOAuthApps=e=>this.doFetch(`${this.getUserRoute(e)}/oauth/apps/authorized`,{method:\"get\"}),this.authorizeOAuthApp=(e,t,s,i,r)=>this.doFetch(`${this.url}/oauth/authorize`,{method:\"post\",body:JSON.stringify({client_id:t,response_type:e,redirect_uri:s,state:i,scope:r})}),this.deauthorizeOAuthApp=e=>this.doFetch(`${this.url}/oauth/deauthorize`,{method:\"post\",body:JSON.stringify({client_id:e})}),this.createUserAccessToken=(e,t)=>(this.trackEvent(\"api\",\"api_users_create_access_token\"),this.doFetch(`${this.getUserRoute(e)}/tokens`,{method:\"post\",body:JSON.stringify({description:t})})),this.getUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/${e}`,{method:\"get\"}),this.getUserAccessTokensForUser=(e,t=0,s=h)=>this.doFetch(`${this.getUserRoute(e)}/tokens${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getUserAccessTokens=(e=0,t=h)=>this.doFetch(`${this.getUsersRoute()}/tokens${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.revokeUserAccessToken=e=>(this.trackEvent(\"api\",\"api_users_revoke_access_token\"),this.doFetch(`${this.getUsersRoute()}/tokens/revoke`,{method:\"post\",body:JSON.stringify({token_id:e})})),this.disableUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/disable`,{method:\"post\",body:JSON.stringify({token_id:e})}),this.enableUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/enable`,{method:\"post\",body:JSON.stringify({token_id:e})}),this.createTeam=e=>(this.trackEvent(\"api\",\"api_teams_create\"),this.doFetch(`${this.getTeamsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.deleteTeam=e=>(this.trackEvent(\"api\",\"api_teams_delete\"),this.doFetch(`${this.getTeamRoute(e)}`,{method:\"delete\"})),this.unarchiveTeam=e=>this.doFetch(`${this.getTeamRoute(e)}/restore`,{method:\"post\"}),this.updateTeam=e=>(this.trackEvent(\"api\",\"api_teams_update_name\",{team_id:e.id}),this.doFetch(`${this.getTeamRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.patchTeam=e=>(this.trackEvent(\"api\",\"api_teams_patch_name\",{team_id:e.id}),this.doFetch(`${this.getTeamRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.regenerateTeamInviteId=e=>(this.trackEvent(\"api\",\"api_teams_regenerate_invite_id\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/regenerate_invite_id`,{method:\"post\"})),this.updateTeamScheme=(e,t)=>{let s={scheme_id:t};return this.trackEvent(\"api\",\"api_teams_update_scheme\",Object.assign({team_id:e},s)),this.doFetch(`${this.getTeamSchemeRoute(e)}`,{method:\"put\",body:JSON.stringify(s)})},this.checkIfTeamExists=e=>this.doFetch(`${this.getTeamNameRoute(e)}/exists`,{method:\"get\"}),this.getTeams=(e=0,t=h,s=!1,i=!1)=>this.doFetch(`${this.getTeamsRoute()}${o.buildQueryString({page:e,per_page:t,include_total_count:s,exclude_policy_constrained:i})}`,{method:\"get\"}),this.searchTeams=(e,t)=>(this.trackEvent(\"api\",\"api_search_teams\"),this.doFetch(`${this.getTeamsRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))})),this.getTeam=e=>this.doFetch(this.getTeamRoute(e),{method:\"get\"}),this.getTeamByName=e=>(this.trackEvent(\"api\",\"api_teams_get_team_by_name\"),this.doFetch(this.getTeamNameRoute(e),{method:\"get\"})),this.getMyTeams=()=>this.doFetch(`${this.getUserRoute(\"me\")}/teams`,{method:\"get\"}),this.getTeamsForUser=e=>this.doFetch(`${this.getUserRoute(e)}/teams`,{method:\"get\"}),this.getMyTeamMembers=()=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/members`,{method:\"get\"}),this.getMyTeamUnreads=(e=!1)=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/unread${o.buildQueryString({include_collapsed_threads:e})}`,{method:\"get\"}),this.getTeamMembers=(e,t=0,s=h,i)=>this.doFetch(`${this.getTeamMembersRoute(e)}${o.buildQueryString(Object.assign({page:t,per_page:s},i))}`,{method:\"get\"}),this.getTeamMembersForUser=e=>this.doFetch(`${this.getUserRoute(e)}/teams/members`,{method:\"get\"}),this.getTeamMember=(e,t)=>this.doFetch(`${this.getTeamMemberRoute(e,t)}`,{method:\"get\"}),this.getTeamMembersByIds=(e,t)=>this.doFetch(`${this.getTeamMembersRoute(e)}/ids`,{method:\"post\",body:JSON.stringify(t)}),this.addToTeam=(e,t)=>{this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e});let s={user_id:t,team_id:e};return this.doFetch(`${this.getTeamMembersRoute(e)}`,{method:\"post\",body:JSON.stringify(s)})},this.addToTeamFromInvite=(e=\"\",t=\"\")=>{this.trackEvent(\"api\",\"api_teams_invite_members\");let s=o.buildQueryString({token:e,invite_id:t});return this.doFetch(`${this.getTeamsRoute()}/members/invite${s}`,{method:\"post\"})},this.addUsersToTeam=(e,t)=>{this.trackEvent(\"api\",\"api_teams_batch_add_members\",{team_id:e,count:t.length});let s=[];return t.forEach(i=>s.push({team_id:e,user_id:i})),this.doFetch(`${this.getTeamMembersRoute(e)}/batch`,{method:\"post\",body:JSON.stringify(s)})},this.addUsersToTeamGracefully=(e,t)=>{this.trackEvent(\"api\",\"api_teams_batch_add_members\",{team_id:e,count:t.length});let s=[];return t.forEach(i=>s.push({team_id:e,user_id:i})),this.doFetch(`${this.getTeamMembersRoute(e)}/batch?graceful=true`,{method:\"post\",body:JSON.stringify(s)})},this.joinTeam=e=>{let t=o.buildQueryString({invite_id:e});return this.doFetch(`${this.getTeamsRoute()}/members/invite${t}`,{method:\"post\"})},this.removeFromTeam=(e,t)=>(this.trackEvent(\"api\",\"api_teams_remove_members\",{team_id:e}),this.doFetch(`${this.getTeamMemberRoute(e,t)}`,{method:\"delete\"})),this.getTeamStats=e=>this.doFetch(`${this.getTeamRoute(e)}/stats`,{method:\"get\"}),this.getTotalUsersStats=()=>this.doFetch(`${this.getUsersRoute()}/stats`,{method:\"get\"}),this.getFilteredUsersStats=e=>this.doFetch(`${this.getUsersRoute()}/stats/filtered${o.buildQueryString(e)}`,{method:\"get\"}),this.invalidateAllEmailInvites=()=>this.doFetch(`${this.getTeamsRoute()}/invites/email`,{method:\"delete\"}),this.getTeamInviteInfo=e=>this.doFetch(`${this.getTeamsRoute()}/invite/${e}`,{method:\"get\"}),this.updateTeamMemberRoles=(e,t,s)=>(this.trackEvent(\"api\",\"api_teams_update_member_roles\",{team_id:e}),this.doFetch(`${this.getTeamMemberRoute(e,t)}/roles`,{method:\"put\",body:JSON.stringify({roles:s})})),this.sendEmailInvitesToTeam=(e,t)=>(this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/invite/email`,{method:\"post\",body:JSON.stringify(t)})),this.sendEmailGuestInvitesToChannels=(e,t,s,i)=>(this.trackEvent(\"api\",\"api_teams_invite_guests\",{team_id:e,channel_ids:t}),this.doFetch(`${this.getTeamRoute(e)}/invite-guests/email`,{method:\"post\",body:JSON.stringify({emails:s,channels:t,message:i})})),this.sendEmailInvitesToTeamGracefully=(e,t)=>(this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/invite/email?graceful=true`,{method:\"post\",body:JSON.stringify(t)})),this.sendEmailInvitesToTeamAndChannelsGracefully=(e,t,s,i)=>(this.trackEvent(\"api\",\"api_teams_invite_members_to_channels\",{team_id:e,channel_len:t.length}),this.doFetch(`${this.getTeamRoute(e)}/invite/email?graceful=true`,{method:\"post\",body:JSON.stringify({emails:s,channelIds:t,message:i})})),this.sendEmailGuestInvitesToChannelsGracefully=(e,t,s,i)=>c(this,void 0,void 0,function*(){return this.trackEvent(\"api\",\"api_teams_invite_guests\",{team_id:e,channel_ids:t}),this.doFetch(`${this.getTeamRoute(e)}/invite-guests/email?graceful=true`,{method:\"post\",body:JSON.stringify({emails:s,channels:t,message:i})})}),this.getTeamIconUrl=(e,t)=>{let s={};return t&&(s._=t),`${this.getTeamRoute(e)}/image${o.buildQueryString(s)}`},this.setTeamIcon=(e,t)=>{this.trackEvent(\"api\",\"api_team_set_team_icon\");let s=new l.default;s.append(\"image\",t);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getTeamRoute(e)}/image`,i)},this.removeTeamIcon=e=>(this.trackEvent(\"api\",\"api_team_remove_team_icon\"),this.doFetch(`${this.getTeamRoute(e)}/image`,{method:\"delete\"})),this.updateTeamMemberSchemeRoles=(e,t,s,i)=>{let r={scheme_user:s,scheme_admin:i};return this.doFetch(`${this.getTeamRoute(e)}/members/${t}/schemeRoles`,{method:\"put\",body:JSON.stringify(r)})},this.getAllChannels=(e=0,t=h,s=\"\",i=!1,r=!1,a=!1,u=!1)=>{let g={page:e,per_page:t,not_associated_to_group:s,exclude_default_channels:i,include_total_count:r,include_deleted:a,exclude_policy_constrained:u};return this.doFetch(`${this.getChannelsRoute()}${o.buildQueryString(g)}`,{method:\"get\"})},this.createChannel=e=>(this.trackEvent(\"api\",\"api_channels_create\",{team_id:e.team_id}),this.doFetch(`${this.getChannelsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.createDirectChannel=e=>(this.trackEvent(\"api\",\"api_channels_create_direct\"),this.doFetch(`${this.getChannelsRoute()}/direct`,{method:\"post\",body:JSON.stringify(e)})),this.createGroupChannel=e=>(this.trackEvent(\"api\",\"api_channels_create_group\"),this.doFetch(`${this.getChannelsRoute()}/group`,{method:\"post\",body:JSON.stringify(e)})),this.deleteChannel=e=>(this.trackEvent(\"api\",\"api_channels_delete\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}`,{method:\"delete\"})),this.unarchiveChannel=e=>(this.trackEvent(\"api\",\"api_channels_unarchive\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/restore`,{method:\"post\"})),this.updateChannel=e=>(this.trackEvent(\"api\",\"api_channels_update\",{channel_id:e.id}),this.doFetch(`${this.getChannelRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.updateChannelPrivacy=(e,t)=>(this.trackEvent(\"api\",\"api_channels_update_privacy\",{channel_id:e,privacy:t}),this.doFetch(`${this.getChannelRoute(e)}/privacy`,{method:\"put\",body:JSON.stringify({privacy:t})})),this.patchChannel=(e,t)=>(this.trackEvent(\"api\",\"api_channels_patch\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/patch`,{method:\"put\",body:JSON.stringify(t)})),this.updateChannelNotifyProps=e=>(this.trackEvent(\"api\",\"api_users_update_channel_notifications\",{channel_id:e.channel_id}),this.doFetch(`${this.getChannelMemberRoute(e.channel_id,e.user_id)}/notify_props`,{method:\"put\",body:JSON.stringify(e)})),this.updateChannelScheme=(e,t)=>{let s={scheme_id:t};return this.trackEvent(\"api\",\"api_channels_update_scheme\",Object.assign({channel_id:e},s)),this.doFetch(`${this.getChannelSchemeRoute(e)}`,{method:\"put\",body:JSON.stringify(s)})},this.getChannel=e=>this.doFetch(`${this.getChannelRoute(e)}`,{method:\"get\"}),this.getChannelByName=(e,t,s=!1)=>this.doFetch(`${this.getTeamRoute(e)}/channels/name/${t}?include_deleted=${s}`,{method:\"get\"}),this.getChannelByNameAndTeamName=(e,t,s=!1)=>this.doFetch(`${this.getTeamNameRoute(e)}/channels/name/${t}?include_deleted=${s}`,{method:\"get\"}),this.getChannels=(e,t=0,s=h)=>this.doFetch(`${this.getTeamRoute(e)}/channels${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getAllTeamsChannels=()=>this.doFetch(`${this.getUsersRoute()}/me/channels`,{method:\"get\"}),this.getArchivedChannels=(e,t=0,s=h)=>this.doFetch(`${this.getTeamRoute(e)}/channels/deleted${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getMyChannels=(e,t=!1)=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/${e}/channels${o.buildQueryString({include_deleted:t})}`,{method:\"get\"}),this.getAllChannelsMembers=(e,t=0,s=h)=>this.doFetch(`${this.getUserRoute(e)}/channel_members${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getMyChannelMember=e=>this.doFetch(`${this.getChannelMemberRoute(e,\"me\")}`,{method:\"get\"}),this.getMyChannelMembers=e=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/${e}/channels/members`,{method:\"get\"}),this.getChannelMembers=(e,t=0,s=h)=>this.doFetch(`${this.getChannelMembersRoute(e)}${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getChannelTimezones=e=>this.doFetch(`${this.getChannelRoute(e)}/timezones`,{method:\"get\"}),this.getChannelMember=(e,t)=>this.doFetch(`${this.getChannelMemberRoute(e,t)}`,{method:\"get\"}),this.getChannelMembersByIds=(e,t)=>this.doFetch(`${this.getChannelMembersRoute(e)}/ids`,{method:\"post\",body:JSON.stringify(t)}),this.addToChannel=(e,t,s=\"\")=>{this.trackEvent(\"api\",\"api_channels_add_member\",{channel_id:t});let i={user_id:e,channel_id:t,post_root_id:s};return this.doFetch(`${this.getChannelMembersRoute(t)}`,{method:\"post\",body:JSON.stringify(i)})},this.removeFromChannel=(e,t)=>(this.trackEvent(\"api\",\"api_channels_remove_member\",{channel_id:t}),this.doFetch(`${this.getChannelMemberRoute(t,e)}`,{method:\"delete\"})),this.updateChannelMemberRoles=(e,t,s)=>this.doFetch(`${this.getChannelMemberRoute(e,t)}/roles`,{method:\"put\",body:JSON.stringify({roles:s})}),this.getChannelStats=e=>this.doFetch(`${this.getChannelRoute(e)}/stats`,{method:\"get\"}),this.getChannelModerations=e=>this.doFetch(`${this.getChannelRoute(e)}/moderations`,{method:\"get\"}),this.patchChannelModerations=(e,t)=>this.doFetch(`${this.getChannelRoute(e)}/moderations/patch`,{method:\"put\",body:JSON.stringify(t)}),this.getChannelMemberCountsByGroup=(e,t)=>this.doFetch(`${this.getChannelRoute(e)}/member_counts_by_group?include_timezones=${t}`,{method:\"get\"}),this.viewMyChannel=(e,t)=>{let s={channel_id:e,prev_channel_id:t,collapsed_threads_supported:!0};return this.doFetch(`${this.getChannelsRoute()}/members/me/view`,{method:\"post\",body:JSON.stringify(s)})},this.autocompleteChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/autocomplete${o.buildQueryString({name:t})}`,{method:\"get\"}),this.autocompleteChannelsForSearch=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search_autocomplete${o.buildQueryString({name:t})}`,{method:\"get\"}),this.searchChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search`,{method:\"post\",body:JSON.stringify({term:t})}),this.searchArchivedChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search_archived`,{method:\"post\",body:JSON.stringify({term:t})}),this.searchAllChannels=(e,t={})=>{let s=Object.assign({term:e},t),i=Boolean(t.include_deleted),r=Boolean(t.nonAdminSearch),a={include_deleted:i};return r&&(a={system_console:!1},delete s.nonAdminSearch),this.doFetch(`${this.getChannelsRoute()}/search${o.buildQueryString(a)}`,{method:\"post\",body:JSON.stringify(s)})},this.searchGroupChannels=e=>this.doFetch(`${this.getChannelsRoute()}/group/search`,{method:\"post\",body:JSON.stringify({term:e})}),this.updateChannelMemberSchemeRoles=(e,t,s,i)=>{let r={scheme_user:s,scheme_admin:i};return this.doFetch(`${this.getChannelRoute(e)}/members/${t}/schemeRoles`,{method:\"put\",body:JSON.stringify(r)})},this.getChannelCategories=(e,t)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"get\"}),this.createChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"post\",body:JSON.stringify(s)}),this.updateChannelCategories=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"put\",body:JSON.stringify(s)}),this.getChannelCategoryOrder=(e,t)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/order`,{method:\"get\"}),this.updateChannelCategoryOrder=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/order`,{method:\"put\",body:JSON.stringify(s)}),this.getChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s}`,{method:\"get\"}),this.updateChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s.id}`,{method:\"put\",body:JSON.stringify(s)}),this.deleteChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s}`,{method:\"delete\"}),this.createPost=e=>c(this,void 0,void 0,function*(){let t=yield this.doFetch(`${this.getPostsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),s={channel_id:t.channel_id,post_id:t.id,user_actual_id:t.user_id,root_id:t.root_id};return this.trackEvent(\"api\",\"api_posts_create\",s),t.root_id!=null&&t.root_id!==\"\"&&this.trackEvent(\"api\",\"api_posts_replied\",s),t}),this.updatePost=e=>(this.trackEvent(\"api\",\"api_posts_update\",{channel_id:e.channel_id,post_id:e.id}),this.doFetch(`${this.getPostRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.getPost=e=>this.doFetch(`${this.getPostRoute(e)}`,{method:\"get\"}),this.patchPost=e=>(this.trackEvent(\"api\",\"api_posts_patch\",{channel_id:e.channel_id,post_id:e.id}),this.doFetch(`${this.getPostRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.deletePost=e=>(this.trackEvent(\"api\",\"api_posts_delete\"),this.doFetch(`${this.getPostRoute(e)}`,{method:\"delete\"})),this.getPostThread=(e,t=!0,s=!1,i=!1,r,a,u,g)=>this.doFetch(`${this.getPostRoute(e)}/thread${o.buildQueryString({skipFetchThreads:!t,collapsedThreads:s,collapsedThreadsExtended:i,direction:r,fromPost:g,fromCreateAt:u,perPage:a})}`,{method:\"get\"}),this.getPosts=(e,t=0,s=h,i=!0,r=!1,a=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({page:t,per_page:s,skipFetchThreads:!i,collapsedThreads:r,collapsedThreadsExtended:a})}`,{method:\"get\"}),this.getPostsUnread=(e,t,s=d.DEFAULT_LIMIT_AFTER,i=d.DEFAULT_LIMIT_BEFORE,r=!0,a=!1,u=!1)=>this.doFetch(`${this.getUserRoute(t)}/channels/${e}/posts/unread${o.buildQueryString({limit_after:s,limit_before:i,skipFetchThreads:!r,collapsedThreads:a,collapsedThreadsExtended:u})}`,{method:\"get\"}),this.getPostsSince=(e,t,s=!0,i=!1,r=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({since:t,skipFetchThreads:!s,collapsedThreads:i,collapsedThreadsExtended:r})}`,{method:\"get\"}),this.getPostsBefore=(e,t,s=0,i=h,r=!0,a=!1,u=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({before:t,page:s,per_page:i,skipFetchThreads:!r,collapsedThreads:a,collapsedThreadsExtended:u})}`,{method:\"get\"}),this.getPostsAfter=(e,t,s=0,i=h,r=!0,a=!1,u=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({after:t,page:s,per_page:i,skipFetchThreads:!r,collapsedThreads:a,collapsedThreadsExtended:u})}`,{method:\"get\"}),this.getUserThreads=(e=\"me\",t,{before:s=\"\",after:i=\"\",perPage:r=h,extended:a=!1,deleted:u=!1,unread:g=!1,since:f=0,totalsOnly:p=!1,threadsOnly:$=!1})=>this.doFetch(`${this.getUserThreadsRoute(e,t)}${o.buildQueryString({before:s,after:i,per_page:r,extended:a,deleted:u,unread:g,since:f,totalsOnly:p,threadsOnly:$})}`,{method:\"get\"}),this.getUserThread=(e,t,s,i=!1)=>{let r=`${this.getUserThreadRoute(e,t,s)}`;return this.doFetch(`${r}${o.buildQueryString({extended:i})}`,{method:\"get\"})},this.updateThreadsReadForUser=(e,t)=>{let s=`${this.getUserThreadsRoute(e,t)}/read`;return this.doFetch(s,{method:\"put\"})},this.updateThreadReadForUser=(e,t,s,i)=>{let r=`${this.getUserThreadRoute(e,t,s)}/read/${i}`;return this.doFetch(r,{method:\"put\"})},this.markThreadAsUnreadForUser=(e,t,s,i)=>{let r=`${this.getUserThreadRoute(e,t,s)}/set_unread/${i}`;return this.doFetch(r,{method:\"post\"})},this.updateThreadFollowForUser=(e,t,s,i)=>{let r=this.getUserThreadRoute(e,t,s)+\"/following\";return this.doFetch(r,{method:i?\"put\":\"delete\"})},this.getFileInfosForPost=e=>this.doFetch(`${this.getPostRoute(e)}/files/info`,{method:\"get\"}),this.getFlaggedPosts=(e,t=\"\",s=\"\",i=0,r=h)=>(this.trackEvent(\"api\",\"api_posts_get_flagged\",{team_id:s}),this.doFetch(`${this.getUserRoute(e)}/posts/flagged${o.buildQueryString({channel_id:t,team_id:s,page:i,per_page:r})}`,{method:\"get\"})),this.getPinnedPosts=e=>(this.trackEvent(\"api\",\"api_posts_get_pinned\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/pinned`,{method:\"get\"})),this.markPostAsUnread=(e,t)=>(this.trackEvent(\"api\",\"api_post_set_unread_post\"),this.doFetch(`${this.getUserRoute(e)}/posts/${t}/set_unread`,{method:\"post\",body:JSON.stringify({collapsed_threads_supported:!0})})),this.pinPost=e=>(this.trackEvent(\"api\",\"api_posts_pin\"),this.doFetch(`${this.getPostRoute(e)}/pin`,{method:\"post\"})),this.unpinPost=e=>(this.trackEvent(\"api\",\"api_posts_unpin\"),this.doFetch(`${this.getPostRoute(e)}/unpin`,{method:\"post\"})),this.getPostsByIds=e=>this.doFetch(`${this.getPostsRoute()}/ids`,{method:\"post\",body:JSON.stringify(e)}),this.addReaction=(e,t,s)=>(this.trackEvent(\"api\",\"api_reactions_save\",{post_id:t}),this.doFetch(`${this.getReactionsRoute()}`,{method:\"post\",body:JSON.stringify({user_id:e,post_id:t,emoji_name:s})})),this.removeReaction=(e,t,s)=>(this.trackEvent(\"api\",\"api_reactions_delete\",{post_id:t}),this.doFetch(`${this.getUserRoute(e)}/posts/${t}/reactions/${s}`,{method:\"delete\"})),this.getReactionsForPost=e=>this.doFetch(`${this.getPostRoute(e)}/reactions`,{method:\"get\"}),this.getTopReactionsForTeam=(e,t,s,i)=>this.doFetch(`${this.getTeamRoute(e)}/top/reactions${o.buildQueryString({page:t,per_page:s,time_range:i})}`,{method:\"get\"}),this.getMyTopReactions=(e,t,s,i)=>this.doFetch(`${this.getUsersRoute()}/me/top/reactions${o.buildQueryString({page:t,per_page:s,time_range:i,team_id:e})}`,{method:\"get\"}),this.searchPostsWithParams=(e,t)=>{this.trackEvent(\"api\",\"api_posts_search\",{team_id:e});let s=`${this.getPostsRoute()}/search`;return e&&(s=`${this.getTeamRoute(e)}/posts/search`),this.doFetch(s,{method:\"post\",body:JSON.stringify(t)})},this.searchPosts=(e,t,s)=>this.searchPostsWithParams(e,{terms:t,is_or_search:s}),this.searchFilesWithParams=(e,t)=>(this.trackEvent(\"api\",\"api_files_search\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/files/search`,{method:\"post\",body:JSON.stringify(t)})),this.searchFiles=(e,t,s)=>this.searchFilesWithParams(e,{terms:t,is_or_search:s}),this.getOpenGraphMetadata=e=>this.doFetch(`${this.getBaseRoute()}/opengraph`,{method:\"post\",body:JSON.stringify({url:e})}),this.doPostAction=(e,t,s=\"\")=>this.doPostActionWithCookie(e,t,\"\",s),this.doPostActionWithCookie=(e,t,s,i=\"\")=>{i?this.trackEvent(\"api\",\"api_interactive_messages_menu_selected\"):this.trackEvent(\"api\",\"api_interactive_messages_button_clicked\");let r={selected_option:i};return s!==\"\"&&(r.cookie=s),this.doFetch(`${this.getPostRoute(e)}/actions/${encodeURIComponent(t)}`,{method:\"post\",body:JSON.stringify(r)})},this.uploadFile=(e,t)=>{this.trackEvent(\"api\",\"api_files_upload\");let s={method:\"post\",body:e};return t&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t}`}),this.doFetch(`${this.getFilesRoute()}`,s)},this.getFilePublicLink=e=>this.doFetch(`${this.getFileRoute(e)}/link`,{method:\"get\"}),this.savePreferences=(e,t)=>this.doFetch(`${this.getPreferencesRoute(e)}`,{method:\"put\",body:JSON.stringify(t)}),this.getMyPreferences=()=>this.doFetch(`${this.getPreferencesRoute(\"me\")}`,{method:\"get\"}),this.deletePreferences=(e,t)=>this.doFetch(`${this.getPreferencesRoute(e)}/delete`,{method:\"post\",body:JSON.stringify(t)}),this.ping=()=>this.doFetch(`${this.getBaseRoute()}/system/ping?time=${Date.now()}`,{method:\"get\"}),this.upgradeToEnterprise=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/upgrade_to_enterprise`,{method:\"post\"})}),this.upgradeToEnterpriseStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/upgrade_to_enterprise/status`,{method:\"get\"})}),this.restartServer=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/restart`,{method:\"post\"})}),this.logClientError=(e,t=Z.LogLevel.Error)=>{let s=`${this.getBaseRoute()}/logs`;if(!this.enableLogging)throw new y(this.getUrl(),{message:\"Logging disabled.\",url:s});return this.doFetch(s,{method:\"post\",body:JSON.stringify({message:e,level:t})})},this.getClientConfigOld=()=>this.doFetch(`${this.getBaseRoute()}/config/client?format=old`,{method:\"get\"}),this.getClientLicenseOld=()=>this.doFetch(`${this.getBaseRoute()}/license/client?format=old`,{method:\"get\"}),this.getWarnMetricsStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/warn_metrics/status`,{method:\"get\"})}),this.sendWarnMetricAck=(e,t)=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/warn_metrics/ack/${encodeURI(e)}`,{method:\"post\",body:JSON.stringify({forceAck:t})})}),this.setFirstAdminVisitMarketplaceStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getPluginsRoute()}/marketplace/first_admin_visit`,{method:\"post\",body:JSON.stringify({first_admin_visit_marketplace_status:!0})})}),this.getFirstAdminVisitMarketplaceStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getPluginsRoute()}/marketplace/first_admin_visit`,{method:\"get\"})}),this.getFirstAdminSetupComplete=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getSystemRoute()}/onboarding/complete`,{method:\"get\"})}),this.getTranslations=e=>this.doFetch(e,{method:\"get\"}),this.getWebSocketUrl=()=>`${this.getBaseRoute()}/websocket`,this.createIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_created\",{team_id:e.team_id}),this.doFetch(`${this.getIncomingHooksRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getIncomingWebhook=e=>this.doFetch(`${this.getIncomingHookRoute(e)}`,{method:\"get\"}),this.getIncomingWebhooks=(e=\"\",t=0,s=h)=>{let i={page:t,per_page:s};return e&&(i.team_id=e),this.doFetch(`${this.getIncomingHooksRoute()}${o.buildQueryString(i)}`,{method:\"get\"})},this.removeIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getIncomingHookRoute(e)}`,{method:\"delete\"})),this.updateIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_updated\",{team_id:e.team_id}),this.doFetch(`${this.getIncomingHookRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.createOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_created\",{team_id:e.team_id}),this.doFetch(`${this.getOutgoingHooksRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getOutgoingWebhook=e=>this.doFetch(`${this.getOutgoingHookRoute(e)}`,{method:\"get\"}),this.getOutgoingWebhooks=(e=\"\",t=\"\",s=0,i=h)=>{let r={page:s,per_page:i};return e&&(r.channel_id=e),t&&(r.team_id=t),this.doFetch(`${this.getOutgoingHooksRoute()}${o.buildQueryString(r)}`,{method:\"get\"})},this.removeOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getOutgoingHookRoute(e)}`,{method:\"delete\"})),this.updateOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_updated\",{team_id:e.team_id}),this.doFetch(`${this.getOutgoingHookRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.regenOutgoingHookToken=e=>this.doFetch(`${this.getOutgoingHookRoute(e)}/regen_token`,{method:\"post\"}),this.getCommandsList=e=>this.doFetch(`${this.getCommandsRoute()}?team_id=${e}`,{method:\"get\"}),this.getCommandAutocompleteSuggestionsList=(e,t,s)=>this.doFetch(`${this.getTeamRoute(t)}/commands/autocomplete_suggestions${o.buildQueryString(Object.assign(Object.assign({},s),{user_input:e}))}`,{method:\"get\"}),this.getAutocompleteCommandsList=(e,t=0,s=h)=>this.doFetch(`${this.getTeamRoute(e)}/commands/autocomplete${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getCustomTeamCommands=e=>this.doFetch(`${this.getCommandsRoute()}?team_id=${e}&custom_only=true`,{method:\"get\"}),this.executeCommand=(e,t)=>(this.trackEvent(\"api\",\"api_integrations_used\"),this.doFetch(`${this.getCommandsRoute()}/execute`,{method:\"post\",body:JSON.stringify(Object.assign({command:e},t))})),this.addCommand=e=>(this.trackEvent(\"api\",\"api_integrations_created\"),this.doFetch(`${this.getCommandsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.editCommand=e=>(this.trackEvent(\"api\",\"api_integrations_created\"),this.doFetch(`${this.getCommandsRoute()}/${e.id}`,{method:\"put\",body:JSON.stringify(e)})),this.regenCommandToken=e=>this.doFetch(`${this.getCommandsRoute()}/${e}/regen_token`,{method:\"put\"}),this.deleteCommand=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getCommandsRoute()}/${e}`,{method:\"delete\"})),this.createOAuthApp=e=>(this.trackEvent(\"api\",\"api_apps_register\"),this.doFetch(`${this.getOAuthAppsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.editOAuthApp=e=>this.doFetch(`${this.getOAuthAppsRoute()}/${e.id}`,{method:\"put\",body:JSON.stringify(e)}),this.getOAuthApps=(e=0,t=h)=>this.doFetch(`${this.getOAuthAppsRoute()}${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getAppsOAuthAppIDs=()=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/oauth-app-ids`,{method:\"get\"}),this.getAppsBotIDs=()=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/bot-ids`,{method:\"get\"}),this.getOAuthApp=e=>this.doFetch(`${this.getOAuthAppRoute(e)}`,{method:\"get\"}),this.getOAuthAppInfo=e=>this.doFetch(`${this.getOAuthAppRoute(e)}/info`,{method:\"get\"}),this.deleteOAuthApp=e=>(this.trackEvent(\"api\",\"api_apps_delete\"),this.doFetch(`${this.getOAuthAppRoute(e)}`,{method:\"delete\"})),this.regenOAuthAppSecret=e=>this.doFetch(`${this.getOAuthAppRoute(e)}/regen_secret`,{method:\"post\"}),this.submitInteractiveDialog=e=>(this.trackEvent(\"api\",\"api_interactive_messages_dialog_submitted\"),this.doFetch(`${this.getBaseRoute()}/actions/dialogs/submit`,{method:\"post\",body:JSON.stringify(e)})),this.createCustomEmoji=(e,t)=>{this.trackEvent(\"api\",\"api_emoji_custom_add\");let s=new l.default;s.append(\"image\",t),s.append(\"emoji\",JSON.stringify(e));let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getEmojisRoute()}`,i)},this.getCustomEmoji=e=>this.doFetch(`${this.getEmojisRoute()}/${e}`,{method:\"get\"}),this.getCustomEmojiByName=e=>this.doFetch(`${this.getEmojisRoute()}/name/${e}`,{method:\"get\"}),this.getCustomEmojis=(e=0,t=h,s=\"\")=>this.doFetch(`${this.getEmojisRoute()}${o.buildQueryString({page:e,per_page:t,sort:s})}`,{method:\"get\"}),this.deleteCustomEmoji=e=>(this.trackEvent(\"api\",\"api_emoji_custom_delete\"),this.doFetch(`${this.getEmojiRoute(e)}`,{method:\"delete\"})),this.getSystemEmojiImageUrl=e=>{let t=e.endsWith(\".png\")?\"\":\".png\";return`${this.url}/static/emoji/${e}${t}`},this.getCustomEmojiImageUrl=e=>`${this.getEmojiRoute(e)}/image`,this.searchCustomEmoji=(e,t={})=>this.doFetch(`${this.getEmojisRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))}),this.autocompleteCustomEmoji=e=>this.doFetch(`${this.getEmojisRoute()}/autocomplete${o.buildQueryString({name:e})}`,{method:\"get\"}),this.getDataRetentionPolicy=()=>this.doFetch(`${this.getDataRetentionRoute()}/policy`,{method:\"get\"}),this.getDataRetentionCustomPolicies=(e=0,t=h)=>this.doFetch(`${this.getDataRetentionRoute()}/policies${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getDataRetentionCustomPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"get\"}),this.deleteDataRetentionCustomPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"delete\"}),this.searchDataRetentionCustomPolicyChannels=(e,t,s)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:t},s))}),this.searchDataRetentionCustomPolicyTeams=(e,t,s)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:t},s))}),this.getDataRetentionCustomPolicyTeams=(e,t=0,s=h)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getDataRetentionCustomPolicyChannels=(e,t=0,s=h)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.createDataRetentionPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies`,{method:\"post\",body:JSON.stringify(e)}),this.updateDataRetentionPolicy=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"PATCH\",body:JSON.stringify(t)}),this.addDataRetentionPolicyTeams=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams`,{method:\"post\",body:JSON.stringify(t)}),this.removeDataRetentionPolicyTeams=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams`,{method:\"delete\",body:JSON.stringify(t)}),this.addDataRetentionPolicyChannels=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels`,{method:\"post\",body:JSON.stringify(t)}),this.removeDataRetentionPolicyChannels=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels`,{method:\"delete\",body:JSON.stringify(t)}),this.getJob=e=>this.doFetch(`${this.getJobsRoute()}/${e}`,{method:\"get\"}),this.getJobs=(e=0,t=h)=>this.doFetch(`${this.getJobsRoute()}${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getJobsByType=(e,t=0,s=h)=>this.doFetch(`${this.getJobsRoute()}/type/${e}${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.createJob=e=>this.doFetch(`${this.getJobsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),this.cancelJob=e=>this.doFetch(`${this.getJobsRoute()}/${e}/cancel`,{method:\"post\"}),this.getLogs=(e=0,t=ae)=>this.doFetch(`${this.getBaseRoute()}/logs${o.buildQueryString({page:e,logs_per_page:t})}`,{method:\"get\"}),this.getAudits=(e=0,t=h)=>this.doFetch(`${this.getBaseRoute()}/audits${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getConfig=()=>this.doFetch(`${this.getBaseRoute()}/config`,{method:\"get\"}),this.updateConfig=e=>this.doFetch(`${this.getBaseRoute()}/config`,{method:\"put\",body:JSON.stringify(e)}),this.patchConfig=e=>this.doFetch(`${this.getBaseRoute()}/config/patch`,{method:\"put\",body:JSON.stringify(e)}),this.reloadConfig=()=>this.doFetch(`${this.getBaseRoute()}/config/reload`,{method:\"post\"}),this.getEnvironmentConfig=()=>this.doFetch(`${this.getBaseRoute()}/config/environment`,{method:\"get\"}),this.testEmail=e=>this.doFetch(`${this.getBaseRoute()}/email/test`,{method:\"post\",body:JSON.stringify(e)}),this.testSiteURL=e=>this.doFetch(`${this.getBaseRoute()}/site_url/test`,{method:\"post\",body:JSON.stringify({site_url:e})}),this.testS3Connection=e=>this.doFetch(`${this.getBaseRoute()}/file/s3_test`,{method:\"post\",body:JSON.stringify(e)}),this.invalidateCaches=()=>this.doFetch(`${this.getBaseRoute()}/caches/invalidate`,{method:\"post\"}),this.recycleDatabase=()=>this.doFetch(`${this.getBaseRoute()}/database/recycle`,{method:\"post\"}),this.createComplianceReport=e=>this.doFetch(`${this.getBaseRoute()}/compliance/reports`,{method:\"post\",body:JSON.stringify(e)}),this.getComplianceReport=e=>this.doFetch(`${this.getBaseRoute()}/compliance/reports/${e}`,{method:\"get\"}),this.getComplianceReports=(e=0,t=h)=>this.doFetch(`${this.getBaseRoute()}/compliance/reports${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.uploadBrandImage=e=>{let t=new l.default;t.append(\"image\",e);let s={method:\"post\",body:t};return t.getBoundary&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t.getBoundary()}`}),this.doFetch(`${this.getBrandRoute()}/image`,s)},this.deleteBrandImage=()=>this.doFetch(`${this.getBrandRoute()}/image`,{method:\"delete\"}),this.getClusterStatus=()=>this.doFetch(`${this.getBaseRoute()}/cluster/status`,{method:\"get\"}),this.testLdap=()=>this.doFetch(`${this.getBaseRoute()}/ldap/test`,{method:\"post\"}),this.syncLdap=()=>this.doFetch(`${this.getBaseRoute()}/ldap/sync`,{method:\"post\"}),this.getLdapGroups=(e=0,t=h,s={})=>{let i=Object.assign({page:e,per_page:t},s);return this.doFetch(`${this.getBaseRoute()}/ldap/groups${o.buildQueryString(i)}`,{method:\"get\"})},this.linkLdapGroup=e=>this.doFetch(`${this.getBaseRoute()}/ldap/groups/${encodeURI(e)}/link`,{method:\"post\"}),this.unlinkLdapGroup=e=>this.doFetch(`${this.getBaseRoute()}/ldap/groups/${encodeURI(e)}/link`,{method:\"delete\"}),this.getSamlCertificateStatus=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/status`,{method:\"get\"}),this.uploadPublicSamlCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/public`,{method:\"post\",body:t})},this.uploadPrivateSamlCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/private`,{method:\"post\",body:t})},this.uploadPublicLdapCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/ldap/certificate/public`,{method:\"post\",body:t})},this.uploadPrivateLdapCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/ldap/certificate/private`,{method:\"post\",body:t})},this.uploadIdpSamlCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,{method:\"post\",body:t})},this.deletePublicSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/public`,{method:\"delete\"}),this.deletePrivateSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/private`,{method:\"delete\"}),this.deletePublicLdapCertificate=()=>this.doFetch(`${this.getBaseRoute()}/ldap/certificate/public`,{method:\"delete\"}),this.deletePrivateLdapCertificate=()=>this.doFetch(`${this.getBaseRoute()}/ldap/certificate/private`,{method:\"delete\"}),this.deleteIdpSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,{method:\"delete\"}),this.testElasticsearch=e=>this.doFetch(`${this.getBaseRoute()}/elasticsearch/test`,{method:\"post\",body:JSON.stringify(e)}),this.purgeElasticsearchIndexes=()=>this.doFetch(`${this.getBaseRoute()}/elasticsearch/purge_indexes`,{method:\"post\"}),this.purgeBleveIndexes=()=>this.doFetch(`${this.getBaseRoute()}/bleve/purge_indexes`,{method:\"post\"}),this.uploadLicense=e=>{this.trackEvent(\"api\",\"api_license_upload\");let t=new l.default;t.append(\"license\",e);let s={method:\"post\",body:t};return t.getBoundary&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t.getBoundary()}`}),this.doFetch(`${this.getBaseRoute()}/license`,s)},this.requestTrialLicense=e=>this.doFetchWithResponse(`${this.getBaseRoute()}/trial-license`,{method:\"POST\",body:JSON.stringify(e)}),this.removeLicense=()=>this.doFetch(`${this.getBaseRoute()}/license`,{method:\"delete\"}),this.getPrevTrialLicense=()=>this.doFetch(`${this.getBaseRoute()}/trial-license/prev`,{method:\"get\"}),this.getAnalytics=(e=\"standard\",t=\"\")=>this.doFetch(`${this.getBaseRoute()}/analytics/old${o.buildQueryString({name:e,team_id:t})}`,{method:\"get\"}),this.getRole=e=>this.doFetch(`${this.getRolesRoute()}/${e}`,{method:\"get\"}),this.getRoleByName=e=>this.doFetch(`${this.getRolesRoute()}/name/${e}`,{method:\"get\"}),this.getRolesByNames=e=>this.doFetch(`${this.getRolesRoute()}/names`,{method:\"post\",body:JSON.stringify(e)}),this.patchRole=(e,t)=>this.doFetch(`${this.getRolesRoute()}/${e}/patch`,{method:\"put\",body:JSON.stringify(t)}),this.getSchemes=(e=\"\",t=0,s=h)=>this.doFetch(`${this.getSchemesRoute()}${o.buildQueryString({scope:e,page:t,per_page:s})}`,{method:\"get\"}),this.createScheme=e=>(this.trackEvent(\"api\",\"api_schemes_create\"),this.doFetch(`${this.getSchemesRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getScheme=e=>this.doFetch(`${this.getSchemesRoute()}/${e}`,{method:\"get\"}),this.deleteScheme=e=>(this.trackEvent(\"api\",\"api_schemes_delete\"),this.doFetch(`${this.getSchemesRoute()}/${e}`,{method:\"delete\"})),this.patchScheme=(e,t)=>(this.trackEvent(\"api\",\"api_schemes_patch\",{scheme_id:e}),this.doFetch(`${this.getSchemesRoute()}/${e}/patch`,{method:\"put\",body:JSON.stringify(t)})),this.getSchemeTeams=(e,t=0,s=h)=>this.doFetch(`${this.getSchemesRoute()}/${e}/teams${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getSchemeChannels=(e,t=0,s=h)=>this.doFetch(`${this.getSchemesRoute()}/${e}/channels${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.uploadPlugin=(e,t=!1)=>c(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_plugin_upload\");let s=new l.default;t&&s.append(\"force\",\"true\"),s.append(\"plugin\",e);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(this.getPluginsRoute(),i)}),this.installPluginFromUrl=(e,t=!1)=>{this.trackEvent(\"api\",\"api_install_plugin\");let s={plugin_download_url:e,force:t};return this.doFetch(`${this.getPluginsRoute()}/install_from_url${o.buildQueryString(s)}`,{method:\"post\"})},this.getPlugins=()=>this.doFetch(this.getPluginsRoute(),{method:\"get\"}),this.getMarketplacePlugins=(e,t=!1)=>this.doFetch(`${this.getPluginsMarketplaceRoute()}${o.buildQueryString({filter:e||\"\",local_only:t})}`,{method:\"get\"}),this.installMarketplacePlugin=(e,t)=>(this.trackEvent(\"api\",\"api_install_marketplace_plugin\"),this.doFetch(`${this.getPluginsMarketplaceRoute()}`,{method:\"post\",body:JSON.stringify({id:e,version:t})})),this.getMarketplaceApps=e=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/marketplace${o.buildQueryString({filter:e||\"\"})}`,{method:\"get\"}),this.getPluginStatuses=()=>this.doFetch(`${this.getPluginsRoute()}/statuses`,{method:\"get\"}),this.removePlugin=e=>this.doFetch(this.getPluginRoute(e),{method:\"delete\"}),this.getWebappPlugins=()=>this.doFetch(`${this.getPluginsRoute()}/webapp`,{method:\"get\"}),this.enablePlugin=e=>this.doFetch(`${this.getPluginRoute(e)}/enable`,{method:\"post\"}),this.disablePlugin=e=>this.doFetch(`${this.getPluginRoute(e)}/disable`,{method:\"post\"}),this.linkGroupSyncable=(e,t,s,i)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/link`,{method:\"post\",body:JSON.stringify(i)}),this.unlinkGroupSyncable=(e,t,s)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/link`,{method:\"delete\"}),this.getGroupSyncables=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/${t}s`,{method:\"get\"}),this.getGroup=(e,t=!1)=>this.doFetch(`${this.getGroupRoute(e)}${o.buildQueryString({include_member_count:t})}`,{method:\"get\"}),this.getGroupStats=e=>this.doFetch(`${this.getGroupRoute(e)}/stats`,{method:\"get\"}),this.getGroups=(e=!1,t=0,s=10,i=!1,r=!1)=>{let a={filter_allow_reference:e,page:t,per_page:s,include_member_count:i};return r&&(a.filter_has_member=r),this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString(a)}`,{method:\"get\"})},this.getGroupsByUserId=e=>this.doFetch(`${this.getUsersRoute()}/${e}/groups`,{method:\"get\"}),this.getGroupsNotAssociatedToTeam=(e,t=\"\",s=0,i=h,r=\"ldap\")=>(this.trackEvent(\"api\",\"api_groups_get_not_associated_to_team\",{team_id:e}),this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString({not_associated_to_team:e,page:s,per_page:i,q:t,include_member_count:!0,group_source:r})}`,{method:\"get\"})),this.getGroupsNotAssociatedToChannel=(e,t=\"\",s=0,i=h,r=!1,a=\"ldap\")=>{this.trackEvent(\"api\",\"api_groups_get_not_associated_to_channel\",{channel_id:e});let u={not_associated_to_channel:e,page:s,per_page:i,q:t,include_member_count:!0,filter_parent_team_permitted:r,group_source:a};return this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString(u)}`,{method:\"get\"})},this.createGroupWithUserIds=e=>this.doFetch(this.getGroupsRoute(),{method:\"post\",body:JSON.stringify(e)}),this.addUsersToGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/members`,{method:\"post\",body:JSON.stringify({user_ids:t})}),this.removeUsersFromGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/members`,{method:\"delete\",body:JSON.stringify({user_ids:t})}),this.searchGroups=e=>this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString(e)}`,{method:\"get\"}),this.executeAppCall=(e,t)=>c(this,void 0,void 0,function*(){let s=Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e.context),{track_as_submit:t,user_agent:\"webapp\"})});return this.doFetch(`${this.getAppsProxyRoute()}/api/v1/call`,{method:\"post\",body:JSON.stringify(s)})}),this.getAppsBindings=(e,t,s)=>c(this,void 0,void 0,function*(){let i={user_id:e,channel_id:t,team_id:s,user_agent:\"webapp\"};return this.doFetch(`${this.getAppsProxyRoute()}/api/v1/bindings${o.buildQueryString(i)}`,{method:\"get\"})}),this.getGroupsAssociatedToTeam=(e,t=\"\",s=0,i=h,r=!1)=>(this.trackEvent(\"api\",\"api_groups_get_associated_to_team\",{team_id:e}),this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups${o.buildQueryString({page:s,per_page:i,q:t,include_member_count:!0,filter_allow_reference:r})}`,{method:\"get\"})),this.getGroupsAssociatedToChannel=(e,t=\"\",s=0,i=h,r=!1)=>(this.trackEvent(\"api\",\"api_groups_get_associated_to_channel\",{channel_id:e}),this.doFetch(`${this.getBaseRoute()}/channels/${e}/groups${o.buildQueryString({page:s,per_page:i,q:t,include_member_count:!0,filter_allow_reference:r})}`,{method:\"get\"})),this.getAllGroupsAssociatedToTeam=(e,t=!1,s=!1)=>this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups${o.buildQueryString({paginate:!1,filter_allow_reference:t,include_member_count:s})}`,{method:\"get\"}),this.getAllGroupsAssociatedToChannelsInTeam=(e,t=!1)=>this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups_by_channels${o.buildQueryString({paginate:!1,filter_allow_reference:t})}`,{method:\"get\"}),this.getAllGroupsAssociatedToChannel=(e,t=!1,s=!1)=>this.doFetch(`${this.getBaseRoute()}/channels/${e}/groups${o.buildQueryString({paginate:!1,filter_allow_reference:t,include_member_count:s})}`,{method:\"get\"}),this.patchGroupSyncable=(e,t,s,i)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/patch`,{method:\"put\",body:JSON.stringify(i)}),this.patchGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/patch`,{method:\"put\",body:JSON.stringify(t)}),this.archiveGroup=e=>this.doFetch(`${this.getGroupRoute(e)}`,{method:\"delete\"}),this.getRedirectLocation=e=>{if(!e.length)return Promise.resolve();let t=`${this.getRedirectLocationRoute()}${o.buildQueryString({url:e})}`;return this.doFetch(t,{method:\"get\"})},this.createBot=e=>this.doFetch(`${this.getBotsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),this.patchBot=(e,t)=>this.doFetch(`${this.getBotRoute(e)}`,{method:\"put\",body:JSON.stringify(t)}),this.getBot=e=>this.doFetch(`${this.getBotRoute(e)}`,{method:\"get\"}),this.getBots=(e=0,t=h)=>this.doFetch(`${this.getBotsRoute()}${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getBotsIncludeDeleted=(e=0,t=h)=>this.doFetch(`${this.getBotsRoute()}${o.buildQueryString({include_deleted:!0,page:e,per_page:t})}`,{method:\"get\"}),this.getBotsOrphaned=(e=0,t=h)=>this.doFetch(`${this.getBotsRoute()}${o.buildQueryString({only_orphaned:!0,page:e,per_page:t})}`,{method:\"get\"}),this.disableBot=e=>this.doFetch(`${this.getBotRoute(e)}/disable`,{method:\"post\"}),this.enableBot=e=>this.doFetch(`${this.getBotRoute(e)}/enable`,{method:\"post\"}),this.assignBot=(e,t)=>this.doFetch(`${this.getBotRoute(e)}/assign/${t}`,{method:\"post\"}),this.getCloudProducts=e=>{let t=\"\";return e&&(t=\"?include_legacy=true\"),this.doFetch(`${this.getCloudRoute()}/products${t}`,{method:\"get\"})},this.createPaymentMethod=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getCloudRoute()}/payment`,{method:\"post\"})}),this.getCloudCustomer=()=>this.doFetch(`${this.getCloudRoute()}/customer`,{method:\"get\"}),this.updateCloudCustomer=e=>this.doFetch(`${this.getCloudRoute()}/customer`,{method:\"put\",body:JSON.stringify(e)}),this.updateCloudCustomerAddress=e=>this.doFetch(`${this.getCloudRoute()}/customer/address`,{method:\"put\",body:JSON.stringify(e)}),this.confirmPaymentMethod=e=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getCloudRoute()}/payment/confirm`,{method:\"post\",body:JSON.stringify({stripe_setup_intent_id:e})})}),this.subscribeCloudProduct=e=>this.doFetch(`${this.getCloudRoute()}/subscription`,{method:\"put\",body:JSON.stringify({product_id:e})}),this.requestCloudTrial=()=>this.doFetchWithResponse(`${this.getCloudRoute()}/request-trial`,{method:\"put\"}),this.getSubscription=()=>this.doFetch(`${this.getCloudRoute()}/subscription`,{method:\"get\"}),this.getRenewalLink=()=>this.doFetch(`${this.getBaseRoute()}/license/renewal`,{method:\"get\"}),this.getInvoices=()=>this.doFetch(`${this.getCloudRoute()}/subscription/invoices`,{method:\"get\"}),this.getInvoicePdfUrl=e=>`${this.getCloudRoute()}/subscription/invoices/${e}/pdf`,this.getCloudLimits=()=>this.doFetch(`${this.getCloudRoute()}/limits`,{method:\"get\"}),this.teamMembersMinusGroupMembers=(e,t,s,i)=>{let r=`group_ids=${t.join(\",\")}&page=${s}&per_page=${i}`;return this.doFetch(`${this.getTeamRoute(e)}/members_minus_group_members?${r}`,{method:\"get\"})},this.channelMembersMinusGroupMembers=(e,t,s,i)=>{let r=`group_ids=${t.join(\",\")}&page=${s}&per_page=${i}`;return this.doFetch(`${this.getChannelRoute(e)}/members_minus_group_members?${r}`,{method:\"get\"})},this.getSamlMetadataFromIdp=e=>this.doFetch(`${this.getBaseRoute()}/saml/metadatafromidp`,{method:\"post\",body:JSON.stringify({saml_metadata_url:e})}),this.setSamlIdpCertificateFromMetadata=e=>{let t={method:\"post\",body:e};return t.headers={\"Content-Type\":\"application/x-pem-file\"},this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,t)},this.getInProductNotices=(e,t,s)=>this.doFetch(`${this.getNoticesRoute()}/${e}?client=${t}&clientVersion=${s}`,{method:\"get\"}),this.updateNoticesAsViewed=e=>(this.trackEvent(\"ui\",`notice_seen_${e[0]}`),this.doFetch(`${this.getNoticesRoute()}/view`,{method:\"put\",body:JSON.stringify(e)})),this.getAncillaryPermissions=e=>this.doFetch(`${this.getPermissionsRoute()}/ancillary?subsection_permissions=${e.join(\",\")}`,{method:\"get\"}),this.completeSetup=e=>this.doFetch(`${this.getSystemRoute()}/onboarding/complete`,{method:\"post\",body:JSON.stringify(e)}),this.getAppliedSchemaMigrations=()=>this.doFetch(`${this.getSystemRoute()}/schema/version`,{method:\"get\"}),this.fetchWithGraphQL=e=>c(this,void 0,void 0,function*(){return this.doFetch(this.getGraphQLUrl(),{method:\"post\",body:e})}),this.doFetch=(e,t)=>c(this,void 0,void 0,function*(){let{data:s}=yield this.doFetchWithResponse(e,t);return s}),this.doFetchWithResponse=(e,t)=>c(this,void 0,void 0,function*(){let s=yield fetch(e,this.getOptions(t)),i=B(s.headers),r;try{r=yield s.json()}catch{throw new y(this.getUrl(),{message:\"Received invalid response from the server.\",intl:{id:\"mobile.request.invalid_response\",defaultMessage:\"Received invalid response from the server.\"},url:e})}if(i.has(d.HEADER_X_VERSION_ID)&&!i.get(\"Cache-Control\")){let u=i.get(d.HEADER_X_VERSION_ID);u&&this.serverVersion!==u&&(this.serverVersion=u)}if(i.has(d.HEADER_X_CLUSTER_ID)){let u=i.get(d.HEADER_X_CLUSTER_ID);u&&this.clusterId!==u&&(this.clusterId=u)}if(s.ok)return{response:s,headers:i,data:r};let a=r.message||\"\";throw this.logToConsole&&console.error(a),new y(this.getUrl(),{message:a,server_error_id:r.id,status_code:r.status_code,url:e})})}getUrl(){return this.url}getAbsoluteUrl(e){return typeof e!=\"string\"||!e.startsWith(\"/\")?e:this.getUrl()+e}getGraphQLUrl(){return`${this.url}${ue}`}setUrl(e){this.url=e}setUserAgent(e){this.userAgent=e}getToken(){return this.token}setToken(e){this.token=e}setCSRF(e){this.csrf=e}setAcceptLanguage(e){this.defaultHeaders[\"Accept-Language\"]=e}setEnableLogging(e){this.enableLogging=e}setIncludeCookies(e){this.includeCookies=e}setUserId(e){this.userId=e}setUserRoles(e){this.userRoles=e}setDiagnosticId(e){this.diagnosticId=e}setTelemetryHandler(e){this.telemetryHandler=e}getServerVersion(){return this.serverVersion}getUrlVersion(){return this.urlVersion}getBaseRoute(){return`${this.url}${this.urlVersion}`}getAppsProxyRoute(){return`${this.url}/plugins/com.mattermost.apps`}getUsersRoute(){return`${this.getBaseRoute()}/users`}getUserRoute(e){return`${this.getUsersRoute()}/${e}`}getTeamsRoute(){return`${this.getBaseRoute()}/teams`}getTeamRoute(e){return`${this.getTeamsRoute()}/${e}`}getTeamSchemeRoute(e){return`${this.getTeamRoute(e)}/scheme`}getTeamNameRoute(e){return`${this.getTeamsRoute()}/name/${e}`}getTeamMembersRoute(e){return`${this.getTeamRoute(e)}/members`}getTeamMemberRoute(e,t){return`${this.getTeamMembersRoute(e)}/${t}`}getChannelsRoute(){return`${this.getBaseRoute()}/channels`}getChannelRoute(e){return`${this.getChannelsRoute()}/${e}`}getChannelMembersRoute(e){return`${this.getChannelRoute(e)}/members`}getChannelMemberRoute(e,t){return`${this.getChannelMembersRoute(e)}/${t}`}getChannelSchemeRoute(e){return`${this.getChannelRoute(e)}/scheme`}getChannelCategoriesRoute(e,t){return`${this.getBaseRoute()}/users/${e}/teams/${t}/channels/categories`}getPostsRoute(){return`${this.getBaseRoute()}/posts`}getPostRoute(e){return`${this.getPostsRoute()}/${e}`}getReactionsRoute(){return`${this.getBaseRoute()}/reactions`}getCommandsRoute(){return`${this.getBaseRoute()}/commands`}getFilesRoute(){return`${this.getBaseRoute()}/files`}getFileRoute(e){return`${this.getFilesRoute()}/${e}`}getPreferencesRoute(e){return`${this.getUserRoute(e)}/preferences`}getIncomingHooksRoute(){return`${this.getBaseRoute()}/hooks/incoming`}getIncomingHookRoute(e){return`${this.getBaseRoute()}/hooks/incoming/${e}`}getOutgoingHooksRoute(){return`${this.getBaseRoute()}/hooks/outgoing`}getOutgoingHookRoute(e){return`${this.getBaseRoute()}/hooks/outgoing/${e}`}getOAuthRoute(){return`${this.url}/oauth`}getOAuthAppsRoute(){return`${this.getBaseRoute()}/oauth/apps`}getOAuthAppRoute(e){return`${this.getOAuthAppsRoute()}/${e}`}getEmojisRoute(){return`${this.getBaseRoute()}/emoji`}getEmojiRoute(e){return`${this.getEmojisRoute()}/${e}`}getBrandRoute(){return`${this.getBaseRoute()}/brand`}getBrandImageUrl(e){return`${this.getBrandRoute()}/image?t=${e}`}getDataRetentionRoute(){return`${this.getBaseRoute()}/data_retention`}getJobsRoute(){return`${this.getBaseRoute()}/jobs`}getPluginsRoute(){return`${this.getBaseRoute()}/plugins`}getPluginRoute(e){return`${this.getPluginsRoute()}/${e}`}getPluginsMarketplaceRoute(){return`${this.getPluginsRoute()}/marketplace`}getRolesRoute(){return`${this.getBaseRoute()}/roles`}getSchemesRoute(){return`${this.getBaseRoute()}/schemes`}getRedirectLocationRoute(){return`${this.getBaseRoute()}/redirect_location`}getBotsRoute(){return`${this.getBaseRoute()}/bots`}getBotRoute(e){return`${this.getBotsRoute()}/${e}`}getGroupsRoute(){return`${this.getBaseRoute()}/groups`}getGroupRoute(e){return`${this.getGroupsRoute()}/${e}`}getNoticesRoute(){return`${this.getBaseRoute()}/system/notices`}getCloudRoute(){return`${this.getBaseRoute()}/cloud`}getPermissionsRoute(){return`${this.getBaseRoute()}/permissions`}getUserThreadsRoute(e,t){return`${this.getUserRoute(e)}/teams/${t}/threads`}getUserThreadRoute(e,t,s){return`${this.getUserThreadsRoute(e,t)}/${s}`}getSystemRoute(){return`${this.getBaseRoute()}/system`}getCSRFFromCookie(){if(typeof document<\"u\"&&typeof document.cookie<\"u\"){let e=document.cookie.split(\";\");for(let t=0;t<e.length;t++){let s=e[t].trim();if(s.startsWith(\"MMCSRF=\"))return s.replace(\"MMCSRF=\",\"\")}}return\"\"}getOptions(e){let t=Object.assign({},e),s=Object.assign({[re]:\"XMLHttpRequest\"},this.defaultHeaders);this.setAuthHeader&&this.token&&(s[te]=`${se} ${this.token}`);let i=this.csrf||this.getCSRFFromCookie();return e.method&&e.method.toLowerCase()!==\"get\"&&i&&(s[ne]=i),this.includeCookies&&(t.credentials=\"include\"),this.userAgent&&(s[oe]=this.userAgent),e.body&&(e.body instanceof l.default||(s[ie]=\"application/json\")),t.headers&&Object.assign(s,t.headers),Object.assign(Object.assign({},t),{headers:s})}getFileUrl(e,t){let s=`${this.getFileRoute(e)}`;return t&&(s+=`?${t}`),s}getFileThumbnailUrl(e,t){let s=`${this.getFileRoute(e)}/thumbnail`;return t&&(s+=`?${t}`),s}getFilePreviewUrl(e,t){let s=`${this.getFileRoute(e)}/preview`;return t&&(s+=`?${t}`),s}trackEvent(e,t,s){this.telemetryHandler&&this.telemetryHandler.trackEvent(this.userId,this.userRoles,e,t,s)}pageVisited(e,t){this.telemetryHandler&&this.telemetryHandler.pageVisited(this.userId,this.userRoles,e,t)}};d.default=k;function B(n){let e=new Map,t=new Map;return n.forEach((s,i)=>{let r=i.replace(/\\b[a-z]/g,u=>u.toUpperCase()),a=s;if(s&&s.match(/\\n\\S+:\\s\\S+/)){let u=s.split(`\n`);a=u.shift();let g=new Map(u.map(f=>f.split(/:\\s/)));t=new Map([...t,...g])}e.set(r,a)}),new Map([...e,...t])}d.parseAndMergeNestedHeaders=B;var y=class extends Error{constructor(e,t){super(t.message+\": \"+ee.cleanUrlForLogging(e,t.url||\"\")),this.message=t.message,this.url=t.url,this.intl=t.intl,this.server_error_id=t.server_error_id,this.status_code=t.status_code,Object.defineProperty(this,\"message\",{enumerable:!0})}};d.ClientError=y});var J=R(m=>{\"use strict\";var de=m&&m.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(m,\"__esModule\",{value:!0});m.DEFAULT_LIMIT_BEFORE=m.DEFAULT_LIMIT_AFTER=m.ClientError=m.Client4=void 0;var P=w();Object.defineProperty(m,\"Client4\",{enumerable:!0,get:function(){return de(P).default}});Object.defineProperty(m,\"ClientError\",{enumerable:!0,get:function(){return P.ClientError}});Object.defineProperty(m,\"DEFAULT_LIMIT_AFTER\",{enumerable:!0,get:function(){return P.DEFAULT_LIMIT_AFTER}});Object.defineProperty(m,\"DEFAULT_LIMIT_BEFORE\",{enumerable:!0,get:function(){return P.DEFAULT_LIMIT_BEFORE}})});var $e={};q($e,{default:()=>ye});var fe=S(J());var le=S(v(\"handlebars\")),me=S(v(\"yaml\"));typeof self>\"u\"&&(self={syscall:(n,...e)=>{throw new Error(\"Not implemented here\")}});var _=self.syscall;var pe=S(v(\"yaml\"));function M(){return _(\"editor.getText\")}function x(){return _(\"editor.getCursor\")}function O(n,e=\"info\"){return _(\"editor.flashNotification\",n,e)}async function D(n,e,...t){return _(\"system.invokeFunction\",n,e,...t)}async function L(n){return _(\"system.invokeCommand\",n)}async function Q(){let n=await M(),e=await x();for(;e>0&&n[e]!==`\n`;)e--;let t=e+1;for(;t<n.length&&n[t]!==`\n`;)t++;let s=n.substring(e,t),i=/\\/pl\\/(\\w{10,})/.exec(s);if(i){let r=i[1];await O(\"Unsaving post...\"),await D(\"server\",\"unsavePost\",r),await L(\"Materialized Queries: Update\")}else await O(\"Could not find post in current line\",\"error\")}var ye=Q;return V($e);})();\n return mod;})()"
    },
    "unsavePost": {
      "env": "server",
      "code": "(() => { var mod=(()=>{var q=Object.create;var F=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty;var v=(n=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(n,{get:(e,t)=>(typeof require!=\"undefined\"?require:e)[t]}):n)(function(n){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+n+'\" is not supported')});var R=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),K=(n,e)=>{for(var t in e)F(n,t,{get:e[t],enumerable:!0})},N=(n,e,t,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of z(e))!Y.call(n,i)&&i!==t&&F(n,i,{get:()=>e[i],enumerable:!(s=V(e,i))||s.enumerable});return n};var S=(n,e,t)=>(t=n!=null?q(X(n)):{},N(e||!n||!n.__esModule?F(t,\"default\",{value:n,enumerable:!0}):t,n)),Z=n=>N(F({},\"__esModule\",{value:!0}),n);var B=R(b=>{\"use strict\";Object.defineProperty(b,\"__esModule\",{value:!0});b.LogLevel=void 0;var ee;(function(n){n.Error=\"ERROR\",n.Warning=\"WARNING\",n.Info=\"INFO\",n.Debug=\"DEBUG\"})(ee=b.LogLevel||(b.LogLevel={}))});var w=R(T=>{\"use strict\";Object.defineProperty(T,\"__esModule\",{value:!0});T.cleanUrlForLogging=void 0;function te(n,e){let t=e;t=t.substring(n.length);let s=t.indexOf(\"?\");s!==-1&&(t=t.substring(0,s));let i=[\"api\",\"v4\",\"users\",\"teams\",\"scheme\",\"name\",\"members\",\"channels\",\"posts\",\"reactions\",\"commands\",\"files\",\"preferences\",\"hooks\",\"incoming\",\"outgoing\",\"oauth\",\"apps\",\"emoji\",\"brand\",\"image\",\"data_retention\",\"jobs\",\"plugins\",\"roles\",\"system\",\"timezones\",\"schemes\",\"redirect_location\",\"patch\",\"mfa\",\"password\",\"reset\",\"send\",\"active\",\"verify\",\"terms_of_service\",\"login\",\"logout\",\"ids\",\"usernames\",\"me\",\"username\",\"email\",\"default\",\"sessions\",\"revoke\",\"all\",\"audits\",\"device\",\"status\",\"search\",\"switch\",\"authorized\",\"authorize\",\"deauthorize\",\"tokens\",\"disable\",\"enable\",\"exists\",\"unread\",\"invite\",\"batch\",\"stats\",\"import\",\"schemeRoles\",\"direct\",\"group\",\"convert\",\"view\",\"search_autocomplete\",\"thread\",\"info\",\"flagged\",\"pinned\",\"pin\",\"unpin\",\"opengraph\",\"actions\",\"thumbnail\",\"preview\",\"link\",\"delete\",\"logs\",\"ping\",\"config\",\"client\",\"license\",\"websocket\",\"webrtc\",\"token\",\"regen_token\",\"autocomplete\",\"execute\",\"regen_secret\",\"policy\",\"type\",\"cancel\",\"reload\",\"environment\",\"s3_test\",\"file\",\"caches\",\"invalidate\",\"database\",\"recycle\",\"compliance\",\"reports\",\"cluster\",\"ldap\",\"test\",\"sync\",\"saml\",\"certificate\",\"public\",\"private\",\"idp\",\"elasticsearch\",\"purge_indexes\",\"analytics\",\"old\",\"webapp\",\"fake\"];return t=t.split(\"/\").map(r=>r!==\"\"&&i.indexOf(r)===-1?\"<filtered>\":r).join(\"/\"),s!==-1&&(t+=\"?<filtered>\"),t}T.cleanUrlForLogging=te});var J=R(C=>{\"use strict\";Object.defineProperty(C,\"__esModule\",{value:!0});C.buildQueryString=void 0;function se(n){let e=Object.keys(n);if(e.length===0)return\"\";let t=\"?\";for(let s=0;s<e.length;s++){let i=e[s];n[i]!==void 0&&(s>0&&(t+=\"&\"),t+=i+\"=\"+encodeURIComponent(n[i]))}return t}C.buildQueryString=se});var x=R(d=>{\"use strict\";var c=d&&d.__awaiter||function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function u(_){try{p(s.next(_))}catch($){a($)}}function g(_){try{p(s.throw(_))}catch($){a($)}}function p(_){_.done?r(_.value):i(_.value).then(u,g)}p((s=s.apply(n,e||[])).next())})},ie=d&&d.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(d,\"__esModule\",{value:!0});d.ClientError=d.parseAndMergeNestedHeaders=d.DEFAULT_LIMIT_AFTER=d.DEFAULT_LIMIT_BEFORE=d.HEADER_X_VERSION_ID=d.HEADER_X_CLUSTER_ID=void 0;var l=ie(v(\"form-data\")),re=B(),oe=w(),o=J(),ne=\"Authorization\",he=\"BEARER\",ae=\"Content-Type\",ue=\"X-Requested-With\",de=\"User-Agent\";d.HEADER_X_CLUSTER_ID=\"X-Cluster-Id\";var ce=\"X-CSRF-Token\";d.HEADER_X_VERSION_ID=\"X-Version-Id\";var ge=25,h=60,le=1e4;d.DEFAULT_LIMIT_BEFORE=30;d.DEFAULT_LIMIT_AFTER=30;var me=\"/api/v5/graphql\",O=class{constructor(){this.logToConsole=!1,this.serverVersion=\"\",this.clusterId=\"\",this.token=\"\",this.csrf=\"\",this.url=\"\",this.urlVersion=\"/api/v4\",this.userAgent=null,this.enableLogging=!1,this.defaultHeaders={},this.userId=\"\",this.diagnosticId=\"\",this.includeCookies=!0,this.setAuthHeader=!0,this.translations={connectionError:\"There appears to be a problem with your internet connection.\",unknownError:\"We received an unexpected status code from the server.\"},this.userRoles=\"\",this.createUser=(e,t,s,i)=>{this.trackEvent(\"api\",\"api_users_create\");let r={};return t&&(r.t=t),s&&(r.iid=s),i&&(r.r=i),this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(r)}`,{method:\"post\",body:JSON.stringify(e)})},this.patchMe=e=>this.doFetch(`${this.getUserRoute(\"me\")}/patch`,{method:\"put\",body:JSON.stringify(e)}),this.patchUser=e=>(this.trackEvent(\"api\",\"api_users_patch\"),this.doFetch(`${this.getUserRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.updateUser=e=>(this.trackEvent(\"api\",\"api_users_update\"),this.doFetch(`${this.getUserRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.promoteGuestToUser=e=>(this.trackEvent(\"api\",\"api_users_promote_guest_to_user\"),this.doFetch(`${this.getUserRoute(e)}/promote`,{method:\"post\"})),this.demoteUserToGuest=e=>(this.trackEvent(\"api\",\"api_users_demote_user_to_guest\"),this.doFetch(`${this.getUserRoute(e)}/demote`,{method:\"post\"})),this.updateUserRoles=(e,t)=>(this.trackEvent(\"api\",\"api_users_update_roles\"),this.doFetch(`${this.getUserRoute(e)}/roles`,{method:\"put\",body:JSON.stringify({roles:t})})),this.updateUserMfa=(e,t,s)=>{let i={activate:t};return t&&(i.code=s),this.doFetch(`${this.getUserRoute(e)}/mfa`,{method:\"put\",body:JSON.stringify(i)})},this.updateUserPassword=(e,t,s)=>(this.trackEvent(\"api\",\"api_users_newpassword\"),this.doFetch(`${this.getUserRoute(e)}/password`,{method:\"put\",body:JSON.stringify({current_password:t,new_password:s})})),this.resetUserPassword=(e,t)=>(this.trackEvent(\"api\",\"api_users_reset_password\"),this.doFetch(`${this.getUsersRoute()}/password/reset`,{method:\"post\",body:JSON.stringify({token:e,new_password:t})})),this.getKnownUsers=()=>this.doFetch(`${this.getUsersRoute()}/known`,{method:\"get\"}),this.sendPasswordResetEmail=e=>(this.trackEvent(\"api\",\"api_users_send_password_reset\"),this.doFetch(`${this.getUsersRoute()}/password/reset/send`,{method:\"post\",body:JSON.stringify({email:e})})),this.updateUserActive=(e,t)=>(this.trackEvent(\"api\",\"api_users_update_active\"),this.doFetch(`${this.getUserRoute(e)}/active`,{method:\"put\",body:JSON.stringify({active:t})})),this.uploadProfileImage=(e,t)=>{this.trackEvent(\"api\",\"api_users_update_profile_picture\");let s=new l.default;s.append(\"image\",t);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getUserRoute(e)}/image`,i)},this.setDefaultProfileImage=e=>(this.trackEvent(\"api\",\"api_users_set_default_profile_picture\"),this.doFetch(`${this.getUserRoute(e)}/image`,{method:\"delete\"})),this.verifyUserEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/verify`,{method:\"post\",body:JSON.stringify({token:e})}),this.updateMyTermsOfServiceStatus=(e,t)=>this.doFetch(`${this.getUserRoute(\"me\")}/terms_of_service`,{method:\"post\",body:JSON.stringify({termsOfServiceId:e,accepted:t})}),this.getTermsOfService=()=>this.doFetch(`${this.getBaseRoute()}/terms_of_service`,{method:\"get\"}),this.createTermsOfService=e=>this.doFetch(`${this.getBaseRoute()}/terms_of_service`,{method:\"post\",body:JSON.stringify({text:e})}),this.sendVerificationEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/verify/send`,{method:\"post\",body:JSON.stringify({email:e})}),this.login=(e,t,s=\"\",i=\"\",r=!1)=>c(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_users_login\"),r&&this.trackEvent(\"api\",\"api_users_login_ldap\");let a={device_id:i,login_id:e,password:t,token:s};r&&(a.ldap_only=\"true\");let{data:u,headers:g}=yield this.doFetchWithResponse(`${this.getUsersRoute()}/login`,{method:\"post\",body:JSON.stringify(a)});return g.has(\"Token\")&&this.setToken(g.get(\"Token\")),u}),this.loginById=(e,t,s=\"\",i=\"\")=>{this.trackEvent(\"api\",\"api_users_login\");let r={device_id:i,id:e,password:t,token:s};return this.doFetch(`${this.getUsersRoute()}/login`,{method:\"post\",body:JSON.stringify(r)})},this.logout=()=>c(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_users_logout\");let{response:e}=yield this.doFetchWithResponse(`${this.getUsersRoute()}/logout`,{method:\"post\"});return e.ok&&(this.token=\"\"),this.serverVersion=\"\",e}),this.getProfiles=(e=0,t=h,s={})=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign({page:e,per_page:t},s))}`,{method:\"get\"}),this.getProfilesByIds=(e,t={})=>this.doFetch(`${this.getUsersRoute()}/ids${o.buildQueryString(t)}`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesByUsernames=e=>this.doFetch(`${this.getUsersRoute()}/usernames`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesInTeam=(e,t=0,s=h,i=\"\",r={})=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign(Object.assign({},r),{in_team:e,page:t,per_page:s,sort:i}))}`,{method:\"get\"}),this.getProfilesNotInTeam=(e,t,s=0,i=h)=>{let r={not_in_team:e,page:s,per_page:i};return t&&(r.group_constrained=!0),this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(r)}`,{method:\"get\"})},this.getProfilesWithoutTeam=(e=0,t=h,s={})=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign(Object.assign({},s),{without_team:1,page:e,per_page:t}))}`,{method:\"get\"}),this.getProfilesInChannel=(e,t=0,s=h,i=\"\",r={})=>{let a={in_channel:e,page:t,per_page:s,sort:i};return this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(Object.assign(Object.assign({},a),r))}`,{method:\"get\"})},this.getProfilesInGroupChannels=e=>this.doFetch(`${this.getUsersRoute()}/group_channels`,{method:\"post\",body:JSON.stringify(e)}),this.getProfilesNotInChannel=(e,t,s,i=0,r=h)=>{let a={in_team:e,not_in_channel:t,page:i,per_page:r};return s&&(a.group_constrained=!0),this.doFetch(`${this.getUsersRoute()}${o.buildQueryString(a)}`,{method:\"get\"})},this.getProfilesInGroup=(e,t=0,s=h)=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString({in_group:e,page:t,per_page:s})}`,{method:\"get\"}),this.getProfilesNotInGroup=(e,t=0,s=h)=>this.doFetch(`${this.getUsersRoute()}${o.buildQueryString({not_in_group:e,page:t,per_page:s})}`,{method:\"get\"}),this.getMe=()=>this.doFetch(`${this.getUserRoute(\"me\")}`,{method:\"get\"}),this.getUser=e=>this.doFetch(`${this.getUserRoute(e)}`,{method:\"get\"}),this.getUserByUsername=e=>this.doFetch(`${this.getUsersRoute()}/username/${e}`,{method:\"get\"}),this.getUserByEmail=e=>this.doFetch(`${this.getUsersRoute()}/email/${e}`,{method:\"get\"}),this.getProfilePictureUrl=(e,t)=>{let s={};return t&&(s._=t),`${this.getUserRoute(e)}/image${o.buildQueryString(s)}`},this.getDefaultProfilePictureUrl=e=>`${this.getUserRoute(e)}/image/default`,this.autocompleteUsers=(e,t,s,i={limit:ge})=>this.doFetch(`${this.getUsersRoute()}/autocomplete${o.buildQueryString({in_team:t,in_channel:s,name:e,limit:i.limit})}`,{method:\"get\"}),this.getSessions=e=>this.doFetch(`${this.getUserRoute(e)}/sessions`,{method:\"get\"}),this.revokeSession=(e,t)=>this.doFetch(`${this.getUserRoute(e)}/sessions/revoke`,{method:\"post\",body:JSON.stringify({session_id:t})}),this.revokeAllSessionsForUser=e=>this.doFetch(`${this.getUserRoute(e)}/sessions/revoke/all`,{method:\"post\"}),this.revokeSessionsForAllUsers=()=>this.doFetch(`${this.getUsersRoute()}/sessions/revoke/all`,{method:\"post\"}),this.getUserAudits=(e,t=0,s=h)=>this.doFetch(`${this.getUserRoute(e)}/audits${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.checkUserMfa=e=>this.doFetch(`${this.getUsersRoute()}/mfa`,{method:\"post\",body:JSON.stringify({login_id:e})}),this.generateMfaSecret=e=>this.doFetch(`${this.getUserRoute(e)}/mfa/generate`,{method:\"post\"}),this.attachDevice=e=>this.doFetch(`${this.getUsersRoute()}/sessions/device`,{method:\"put\",body:JSON.stringify({device_id:e})}),this.searchUsers=(e,t)=>(this.trackEvent(\"api\",\"api_search_users\"),this.doFetch(`${this.getUsersRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))})),this.getStatusesByIds=e=>this.doFetch(`${this.getUsersRoute()}/status/ids`,{method:\"post\",body:JSON.stringify(e)}),this.getStatus=e=>this.doFetch(`${this.getUserRoute(e)}/status`,{method:\"get\"}),this.updateStatus=e=>this.doFetch(`${this.getUserRoute(e.user_id)}/status`,{method:\"put\",body:JSON.stringify(e)}),this.updateCustomStatus=e=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom`,{method:\"put\",body:JSON.stringify(e)}),this.unsetCustomStatus=()=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom`,{method:\"delete\"}),this.removeRecentCustomStatus=e=>this.doFetch(`${this.getUserRoute(\"me\")}/status/custom/recent/delete`,{method:\"post\",body:JSON.stringify(e)}),this.switchEmailToOAuth=(e,t,s,i=\"\")=>(this.trackEvent(\"api\",\"api_users_email_to_oauth\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"email\",new_service:e,email:t,password:s,mfa_code:i})})),this.switchOAuthToEmail=(e,t,s)=>(this.trackEvent(\"api\",\"api_users_oauth_to_email\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:e,new_service:\"email\",email:t,new_password:s})})),this.switchEmailToLdap=(e,t,s,i,r=\"\")=>(this.trackEvent(\"api\",\"api_users_email_to_ldap\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"email\",new_service:\"ldap\",email:e,password:t,ldap_id:s,new_password:i,mfa_code:r})})),this.switchLdapToEmail=(e,t,s,i=\"\")=>(this.trackEvent(\"api\",\"api_users_ldap_to_email\"),this.doFetch(`${this.getUsersRoute()}/login/switch`,{method:\"post\",body:JSON.stringify({current_service:\"ldap\",new_service:\"email\",email:t,password:e,new_password:s,mfa_code:i})})),this.getAuthorizedOAuthApps=e=>this.doFetch(`${this.getUserRoute(e)}/oauth/apps/authorized`,{method:\"get\"}),this.authorizeOAuthApp=(e,t,s,i,r)=>this.doFetch(`${this.url}/oauth/authorize`,{method:\"post\",body:JSON.stringify({client_id:t,response_type:e,redirect_uri:s,state:i,scope:r})}),this.deauthorizeOAuthApp=e=>this.doFetch(`${this.url}/oauth/deauthorize`,{method:\"post\",body:JSON.stringify({client_id:e})}),this.createUserAccessToken=(e,t)=>(this.trackEvent(\"api\",\"api_users_create_access_token\"),this.doFetch(`${this.getUserRoute(e)}/tokens`,{method:\"post\",body:JSON.stringify({description:t})})),this.getUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/${e}`,{method:\"get\"}),this.getUserAccessTokensForUser=(e,t=0,s=h)=>this.doFetch(`${this.getUserRoute(e)}/tokens${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getUserAccessTokens=(e=0,t=h)=>this.doFetch(`${this.getUsersRoute()}/tokens${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.revokeUserAccessToken=e=>(this.trackEvent(\"api\",\"api_users_revoke_access_token\"),this.doFetch(`${this.getUsersRoute()}/tokens/revoke`,{method:\"post\",body:JSON.stringify({token_id:e})})),this.disableUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/disable`,{method:\"post\",body:JSON.stringify({token_id:e})}),this.enableUserAccessToken=e=>this.doFetch(`${this.getUsersRoute()}/tokens/enable`,{method:\"post\",body:JSON.stringify({token_id:e})}),this.createTeam=e=>(this.trackEvent(\"api\",\"api_teams_create\"),this.doFetch(`${this.getTeamsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.deleteTeam=e=>(this.trackEvent(\"api\",\"api_teams_delete\"),this.doFetch(`${this.getTeamRoute(e)}`,{method:\"delete\"})),this.unarchiveTeam=e=>this.doFetch(`${this.getTeamRoute(e)}/restore`,{method:\"post\"}),this.updateTeam=e=>(this.trackEvent(\"api\",\"api_teams_update_name\",{team_id:e.id}),this.doFetch(`${this.getTeamRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.patchTeam=e=>(this.trackEvent(\"api\",\"api_teams_patch_name\",{team_id:e.id}),this.doFetch(`${this.getTeamRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.regenerateTeamInviteId=e=>(this.trackEvent(\"api\",\"api_teams_regenerate_invite_id\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/regenerate_invite_id`,{method:\"post\"})),this.updateTeamScheme=(e,t)=>{let s={scheme_id:t};return this.trackEvent(\"api\",\"api_teams_update_scheme\",Object.assign({team_id:e},s)),this.doFetch(`${this.getTeamSchemeRoute(e)}`,{method:\"put\",body:JSON.stringify(s)})},this.checkIfTeamExists=e=>this.doFetch(`${this.getTeamNameRoute(e)}/exists`,{method:\"get\"}),this.getTeams=(e=0,t=h,s=!1,i=!1)=>this.doFetch(`${this.getTeamsRoute()}${o.buildQueryString({page:e,per_page:t,include_total_count:s,exclude_policy_constrained:i})}`,{method:\"get\"}),this.searchTeams=(e,t)=>(this.trackEvent(\"api\",\"api_search_teams\"),this.doFetch(`${this.getTeamsRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))})),this.getTeam=e=>this.doFetch(this.getTeamRoute(e),{method:\"get\"}),this.getTeamByName=e=>(this.trackEvent(\"api\",\"api_teams_get_team_by_name\"),this.doFetch(this.getTeamNameRoute(e),{method:\"get\"})),this.getMyTeams=()=>this.doFetch(`${this.getUserRoute(\"me\")}/teams`,{method:\"get\"}),this.getTeamsForUser=e=>this.doFetch(`${this.getUserRoute(e)}/teams`,{method:\"get\"}),this.getMyTeamMembers=()=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/members`,{method:\"get\"}),this.getMyTeamUnreads=(e=!1)=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/unread${o.buildQueryString({include_collapsed_threads:e})}`,{method:\"get\"}),this.getTeamMembers=(e,t=0,s=h,i)=>this.doFetch(`${this.getTeamMembersRoute(e)}${o.buildQueryString(Object.assign({page:t,per_page:s},i))}`,{method:\"get\"}),this.getTeamMembersForUser=e=>this.doFetch(`${this.getUserRoute(e)}/teams/members`,{method:\"get\"}),this.getTeamMember=(e,t)=>this.doFetch(`${this.getTeamMemberRoute(e,t)}`,{method:\"get\"}),this.getTeamMembersByIds=(e,t)=>this.doFetch(`${this.getTeamMembersRoute(e)}/ids`,{method:\"post\",body:JSON.stringify(t)}),this.addToTeam=(e,t)=>{this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e});let s={user_id:t,team_id:e};return this.doFetch(`${this.getTeamMembersRoute(e)}`,{method:\"post\",body:JSON.stringify(s)})},this.addToTeamFromInvite=(e=\"\",t=\"\")=>{this.trackEvent(\"api\",\"api_teams_invite_members\");let s=o.buildQueryString({token:e,invite_id:t});return this.doFetch(`${this.getTeamsRoute()}/members/invite${s}`,{method:\"post\"})},this.addUsersToTeam=(e,t)=>{this.trackEvent(\"api\",\"api_teams_batch_add_members\",{team_id:e,count:t.length});let s=[];return t.forEach(i=>s.push({team_id:e,user_id:i})),this.doFetch(`${this.getTeamMembersRoute(e)}/batch`,{method:\"post\",body:JSON.stringify(s)})},this.addUsersToTeamGracefully=(e,t)=>{this.trackEvent(\"api\",\"api_teams_batch_add_members\",{team_id:e,count:t.length});let s=[];return t.forEach(i=>s.push({team_id:e,user_id:i})),this.doFetch(`${this.getTeamMembersRoute(e)}/batch?graceful=true`,{method:\"post\",body:JSON.stringify(s)})},this.joinTeam=e=>{let t=o.buildQueryString({invite_id:e});return this.doFetch(`${this.getTeamsRoute()}/members/invite${t}`,{method:\"post\"})},this.removeFromTeam=(e,t)=>(this.trackEvent(\"api\",\"api_teams_remove_members\",{team_id:e}),this.doFetch(`${this.getTeamMemberRoute(e,t)}`,{method:\"delete\"})),this.getTeamStats=e=>this.doFetch(`${this.getTeamRoute(e)}/stats`,{method:\"get\"}),this.getTotalUsersStats=()=>this.doFetch(`${this.getUsersRoute()}/stats`,{method:\"get\"}),this.getFilteredUsersStats=e=>this.doFetch(`${this.getUsersRoute()}/stats/filtered${o.buildQueryString(e)}`,{method:\"get\"}),this.invalidateAllEmailInvites=()=>this.doFetch(`${this.getTeamsRoute()}/invites/email`,{method:\"delete\"}),this.getTeamInviteInfo=e=>this.doFetch(`${this.getTeamsRoute()}/invite/${e}`,{method:\"get\"}),this.updateTeamMemberRoles=(e,t,s)=>(this.trackEvent(\"api\",\"api_teams_update_member_roles\",{team_id:e}),this.doFetch(`${this.getTeamMemberRoute(e,t)}/roles`,{method:\"put\",body:JSON.stringify({roles:s})})),this.sendEmailInvitesToTeam=(e,t)=>(this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/invite/email`,{method:\"post\",body:JSON.stringify(t)})),this.sendEmailGuestInvitesToChannels=(e,t,s,i)=>(this.trackEvent(\"api\",\"api_teams_invite_guests\",{team_id:e,channel_ids:t}),this.doFetch(`${this.getTeamRoute(e)}/invite-guests/email`,{method:\"post\",body:JSON.stringify({emails:s,channels:t,message:i})})),this.sendEmailInvitesToTeamGracefully=(e,t)=>(this.trackEvent(\"api\",\"api_teams_invite_members\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/invite/email?graceful=true`,{method:\"post\",body:JSON.stringify(t)})),this.sendEmailInvitesToTeamAndChannelsGracefully=(e,t,s,i)=>(this.trackEvent(\"api\",\"api_teams_invite_members_to_channels\",{team_id:e,channel_len:t.length}),this.doFetch(`${this.getTeamRoute(e)}/invite/email?graceful=true`,{method:\"post\",body:JSON.stringify({emails:s,channelIds:t,message:i})})),this.sendEmailGuestInvitesToChannelsGracefully=(e,t,s,i)=>c(this,void 0,void 0,function*(){return this.trackEvent(\"api\",\"api_teams_invite_guests\",{team_id:e,channel_ids:t}),this.doFetch(`${this.getTeamRoute(e)}/invite-guests/email?graceful=true`,{method:\"post\",body:JSON.stringify({emails:s,channels:t,message:i})})}),this.getTeamIconUrl=(e,t)=>{let s={};return t&&(s._=t),`${this.getTeamRoute(e)}/image${o.buildQueryString(s)}`},this.setTeamIcon=(e,t)=>{this.trackEvent(\"api\",\"api_team_set_team_icon\");let s=new l.default;s.append(\"image\",t);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getTeamRoute(e)}/image`,i)},this.removeTeamIcon=e=>(this.trackEvent(\"api\",\"api_team_remove_team_icon\"),this.doFetch(`${this.getTeamRoute(e)}/image`,{method:\"delete\"})),this.updateTeamMemberSchemeRoles=(e,t,s,i)=>{let r={scheme_user:s,scheme_admin:i};return this.doFetch(`${this.getTeamRoute(e)}/members/${t}/schemeRoles`,{method:\"put\",body:JSON.stringify(r)})},this.getAllChannels=(e=0,t=h,s=\"\",i=!1,r=!1,a=!1,u=!1)=>{let g={page:e,per_page:t,not_associated_to_group:s,exclude_default_channels:i,include_total_count:r,include_deleted:a,exclude_policy_constrained:u};return this.doFetch(`${this.getChannelsRoute()}${o.buildQueryString(g)}`,{method:\"get\"})},this.createChannel=e=>(this.trackEvent(\"api\",\"api_channels_create\",{team_id:e.team_id}),this.doFetch(`${this.getChannelsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.createDirectChannel=e=>(this.trackEvent(\"api\",\"api_channels_create_direct\"),this.doFetch(`${this.getChannelsRoute()}/direct`,{method:\"post\",body:JSON.stringify(e)})),this.createGroupChannel=e=>(this.trackEvent(\"api\",\"api_channels_create_group\"),this.doFetch(`${this.getChannelsRoute()}/group`,{method:\"post\",body:JSON.stringify(e)})),this.deleteChannel=e=>(this.trackEvent(\"api\",\"api_channels_delete\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}`,{method:\"delete\"})),this.unarchiveChannel=e=>(this.trackEvent(\"api\",\"api_channels_unarchive\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/restore`,{method:\"post\"})),this.updateChannel=e=>(this.trackEvent(\"api\",\"api_channels_update\",{channel_id:e.id}),this.doFetch(`${this.getChannelRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.updateChannelPrivacy=(e,t)=>(this.trackEvent(\"api\",\"api_channels_update_privacy\",{channel_id:e,privacy:t}),this.doFetch(`${this.getChannelRoute(e)}/privacy`,{method:\"put\",body:JSON.stringify({privacy:t})})),this.patchChannel=(e,t)=>(this.trackEvent(\"api\",\"api_channels_patch\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/patch`,{method:\"put\",body:JSON.stringify(t)})),this.updateChannelNotifyProps=e=>(this.trackEvent(\"api\",\"api_users_update_channel_notifications\",{channel_id:e.channel_id}),this.doFetch(`${this.getChannelMemberRoute(e.channel_id,e.user_id)}/notify_props`,{method:\"put\",body:JSON.stringify(e)})),this.updateChannelScheme=(e,t)=>{let s={scheme_id:t};return this.trackEvent(\"api\",\"api_channels_update_scheme\",Object.assign({channel_id:e},s)),this.doFetch(`${this.getChannelSchemeRoute(e)}`,{method:\"put\",body:JSON.stringify(s)})},this.getChannel=e=>this.doFetch(`${this.getChannelRoute(e)}`,{method:\"get\"}),this.getChannelByName=(e,t,s=!1)=>this.doFetch(`${this.getTeamRoute(e)}/channels/name/${t}?include_deleted=${s}`,{method:\"get\"}),this.getChannelByNameAndTeamName=(e,t,s=!1)=>this.doFetch(`${this.getTeamNameRoute(e)}/channels/name/${t}?include_deleted=${s}`,{method:\"get\"}),this.getChannels=(e,t=0,s=h)=>this.doFetch(`${this.getTeamRoute(e)}/channels${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getAllTeamsChannels=()=>this.doFetch(`${this.getUsersRoute()}/me/channels`,{method:\"get\"}),this.getArchivedChannels=(e,t=0,s=h)=>this.doFetch(`${this.getTeamRoute(e)}/channels/deleted${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getMyChannels=(e,t=!1)=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/${e}/channels${o.buildQueryString({include_deleted:t})}`,{method:\"get\"}),this.getAllChannelsMembers=(e,t=0,s=h)=>this.doFetch(`${this.getUserRoute(e)}/channel_members${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getMyChannelMember=e=>this.doFetch(`${this.getChannelMemberRoute(e,\"me\")}`,{method:\"get\"}),this.getMyChannelMembers=e=>this.doFetch(`${this.getUserRoute(\"me\")}/teams/${e}/channels/members`,{method:\"get\"}),this.getChannelMembers=(e,t=0,s=h)=>this.doFetch(`${this.getChannelMembersRoute(e)}${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getChannelTimezones=e=>this.doFetch(`${this.getChannelRoute(e)}/timezones`,{method:\"get\"}),this.getChannelMember=(e,t)=>this.doFetch(`${this.getChannelMemberRoute(e,t)}`,{method:\"get\"}),this.getChannelMembersByIds=(e,t)=>this.doFetch(`${this.getChannelMembersRoute(e)}/ids`,{method:\"post\",body:JSON.stringify(t)}),this.addToChannel=(e,t,s=\"\")=>{this.trackEvent(\"api\",\"api_channels_add_member\",{channel_id:t});let i={user_id:e,channel_id:t,post_root_id:s};return this.doFetch(`${this.getChannelMembersRoute(t)}`,{method:\"post\",body:JSON.stringify(i)})},this.removeFromChannel=(e,t)=>(this.trackEvent(\"api\",\"api_channels_remove_member\",{channel_id:t}),this.doFetch(`${this.getChannelMemberRoute(t,e)}`,{method:\"delete\"})),this.updateChannelMemberRoles=(e,t,s)=>this.doFetch(`${this.getChannelMemberRoute(e,t)}/roles`,{method:\"put\",body:JSON.stringify({roles:s})}),this.getChannelStats=e=>this.doFetch(`${this.getChannelRoute(e)}/stats`,{method:\"get\"}),this.getChannelModerations=e=>this.doFetch(`${this.getChannelRoute(e)}/moderations`,{method:\"get\"}),this.patchChannelModerations=(e,t)=>this.doFetch(`${this.getChannelRoute(e)}/moderations/patch`,{method:\"put\",body:JSON.stringify(t)}),this.getChannelMemberCountsByGroup=(e,t)=>this.doFetch(`${this.getChannelRoute(e)}/member_counts_by_group?include_timezones=${t}`,{method:\"get\"}),this.viewMyChannel=(e,t)=>{let s={channel_id:e,prev_channel_id:t,collapsed_threads_supported:!0};return this.doFetch(`${this.getChannelsRoute()}/members/me/view`,{method:\"post\",body:JSON.stringify(s)})},this.autocompleteChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/autocomplete${o.buildQueryString({name:t})}`,{method:\"get\"}),this.autocompleteChannelsForSearch=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search_autocomplete${o.buildQueryString({name:t})}`,{method:\"get\"}),this.searchChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search`,{method:\"post\",body:JSON.stringify({term:t})}),this.searchArchivedChannels=(e,t)=>this.doFetch(`${this.getTeamRoute(e)}/channels/search_archived`,{method:\"post\",body:JSON.stringify({term:t})}),this.searchAllChannels=(e,t={})=>{let s=Object.assign({term:e},t),i=Boolean(t.include_deleted),r=Boolean(t.nonAdminSearch),a={include_deleted:i};return r&&(a={system_console:!1},delete s.nonAdminSearch),this.doFetch(`${this.getChannelsRoute()}/search${o.buildQueryString(a)}`,{method:\"post\",body:JSON.stringify(s)})},this.searchGroupChannels=e=>this.doFetch(`${this.getChannelsRoute()}/group/search`,{method:\"post\",body:JSON.stringify({term:e})}),this.updateChannelMemberSchemeRoles=(e,t,s,i)=>{let r={scheme_user:s,scheme_admin:i};return this.doFetch(`${this.getChannelRoute(e)}/members/${t}/schemeRoles`,{method:\"put\",body:JSON.stringify(r)})},this.getChannelCategories=(e,t)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"get\"}),this.createChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"post\",body:JSON.stringify(s)}),this.updateChannelCategories=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}`,{method:\"put\",body:JSON.stringify(s)}),this.getChannelCategoryOrder=(e,t)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/order`,{method:\"get\"}),this.updateChannelCategoryOrder=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/order`,{method:\"put\",body:JSON.stringify(s)}),this.getChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s}`,{method:\"get\"}),this.updateChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s.id}`,{method:\"put\",body:JSON.stringify(s)}),this.deleteChannelCategory=(e,t,s)=>this.doFetch(`${this.getChannelCategoriesRoute(e,t)}/${s}`,{method:\"delete\"}),this.createPost=e=>c(this,void 0,void 0,function*(){let t=yield this.doFetch(`${this.getPostsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),s={channel_id:t.channel_id,post_id:t.id,user_actual_id:t.user_id,root_id:t.root_id};return this.trackEvent(\"api\",\"api_posts_create\",s),t.root_id!=null&&t.root_id!==\"\"&&this.trackEvent(\"api\",\"api_posts_replied\",s),t}),this.updatePost=e=>(this.trackEvent(\"api\",\"api_posts_update\",{channel_id:e.channel_id,post_id:e.id}),this.doFetch(`${this.getPostRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.getPost=e=>this.doFetch(`${this.getPostRoute(e)}`,{method:\"get\"}),this.patchPost=e=>(this.trackEvent(\"api\",\"api_posts_patch\",{channel_id:e.channel_id,post_id:e.id}),this.doFetch(`${this.getPostRoute(e.id)}/patch`,{method:\"put\",body:JSON.stringify(e)})),this.deletePost=e=>(this.trackEvent(\"api\",\"api_posts_delete\"),this.doFetch(`${this.getPostRoute(e)}`,{method:\"delete\"})),this.getPostThread=(e,t=!0,s=!1,i=!1,r,a,u,g)=>this.doFetch(`${this.getPostRoute(e)}/thread${o.buildQueryString({skipFetchThreads:!t,collapsedThreads:s,collapsedThreadsExtended:i,direction:r,fromPost:g,fromCreateAt:u,perPage:a})}`,{method:\"get\"}),this.getPosts=(e,t=0,s=h,i=!0,r=!1,a=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({page:t,per_page:s,skipFetchThreads:!i,collapsedThreads:r,collapsedThreadsExtended:a})}`,{method:\"get\"}),this.getPostsUnread=(e,t,s=d.DEFAULT_LIMIT_AFTER,i=d.DEFAULT_LIMIT_BEFORE,r=!0,a=!1,u=!1)=>this.doFetch(`${this.getUserRoute(t)}/channels/${e}/posts/unread${o.buildQueryString({limit_after:s,limit_before:i,skipFetchThreads:!r,collapsedThreads:a,collapsedThreadsExtended:u})}`,{method:\"get\"}),this.getPostsSince=(e,t,s=!0,i=!1,r=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({since:t,skipFetchThreads:!s,collapsedThreads:i,collapsedThreadsExtended:r})}`,{method:\"get\"}),this.getPostsBefore=(e,t,s=0,i=h,r=!0,a=!1,u=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({before:t,page:s,per_page:i,skipFetchThreads:!r,collapsedThreads:a,collapsedThreadsExtended:u})}`,{method:\"get\"}),this.getPostsAfter=(e,t,s=0,i=h,r=!0,a=!1,u=!1)=>this.doFetch(`${this.getChannelRoute(e)}/posts${o.buildQueryString({after:t,page:s,per_page:i,skipFetchThreads:!r,collapsedThreads:a,collapsedThreadsExtended:u})}`,{method:\"get\"}),this.getUserThreads=(e=\"me\",t,{before:s=\"\",after:i=\"\",perPage:r=h,extended:a=!1,deleted:u=!1,unread:g=!1,since:p=0,totalsOnly:_=!1,threadsOnly:$=!1})=>this.doFetch(`${this.getUserThreadsRoute(e,t)}${o.buildQueryString({before:s,after:i,per_page:r,extended:a,deleted:u,unread:g,since:p,totalsOnly:_,threadsOnly:$})}`,{method:\"get\"}),this.getUserThread=(e,t,s,i=!1)=>{let r=`${this.getUserThreadRoute(e,t,s)}`;return this.doFetch(`${r}${o.buildQueryString({extended:i})}`,{method:\"get\"})},this.updateThreadsReadForUser=(e,t)=>{let s=`${this.getUserThreadsRoute(e,t)}/read`;return this.doFetch(s,{method:\"put\"})},this.updateThreadReadForUser=(e,t,s,i)=>{let r=`${this.getUserThreadRoute(e,t,s)}/read/${i}`;return this.doFetch(r,{method:\"put\"})},this.markThreadAsUnreadForUser=(e,t,s,i)=>{let r=`${this.getUserThreadRoute(e,t,s)}/set_unread/${i}`;return this.doFetch(r,{method:\"post\"})},this.updateThreadFollowForUser=(e,t,s,i)=>{let r=this.getUserThreadRoute(e,t,s)+\"/following\";return this.doFetch(r,{method:i?\"put\":\"delete\"})},this.getFileInfosForPost=e=>this.doFetch(`${this.getPostRoute(e)}/files/info`,{method:\"get\"}),this.getFlaggedPosts=(e,t=\"\",s=\"\",i=0,r=h)=>(this.trackEvent(\"api\",\"api_posts_get_flagged\",{team_id:s}),this.doFetch(`${this.getUserRoute(e)}/posts/flagged${o.buildQueryString({channel_id:t,team_id:s,page:i,per_page:r})}`,{method:\"get\"})),this.getPinnedPosts=e=>(this.trackEvent(\"api\",\"api_posts_get_pinned\",{channel_id:e}),this.doFetch(`${this.getChannelRoute(e)}/pinned`,{method:\"get\"})),this.markPostAsUnread=(e,t)=>(this.trackEvent(\"api\",\"api_post_set_unread_post\"),this.doFetch(`${this.getUserRoute(e)}/posts/${t}/set_unread`,{method:\"post\",body:JSON.stringify({collapsed_threads_supported:!0})})),this.pinPost=e=>(this.trackEvent(\"api\",\"api_posts_pin\"),this.doFetch(`${this.getPostRoute(e)}/pin`,{method:\"post\"})),this.unpinPost=e=>(this.trackEvent(\"api\",\"api_posts_unpin\"),this.doFetch(`${this.getPostRoute(e)}/unpin`,{method:\"post\"})),this.getPostsByIds=e=>this.doFetch(`${this.getPostsRoute()}/ids`,{method:\"post\",body:JSON.stringify(e)}),this.addReaction=(e,t,s)=>(this.trackEvent(\"api\",\"api_reactions_save\",{post_id:t}),this.doFetch(`${this.getReactionsRoute()}`,{method:\"post\",body:JSON.stringify({user_id:e,post_id:t,emoji_name:s})})),this.removeReaction=(e,t,s)=>(this.trackEvent(\"api\",\"api_reactions_delete\",{post_id:t}),this.doFetch(`${this.getUserRoute(e)}/posts/${t}/reactions/${s}`,{method:\"delete\"})),this.getReactionsForPost=e=>this.doFetch(`${this.getPostRoute(e)}/reactions`,{method:\"get\"}),this.getTopReactionsForTeam=(e,t,s,i)=>this.doFetch(`${this.getTeamRoute(e)}/top/reactions${o.buildQueryString({page:t,per_page:s,time_range:i})}`,{method:\"get\"}),this.getMyTopReactions=(e,t,s,i)=>this.doFetch(`${this.getUsersRoute()}/me/top/reactions${o.buildQueryString({page:t,per_page:s,time_range:i,team_id:e})}`,{method:\"get\"}),this.searchPostsWithParams=(e,t)=>{this.trackEvent(\"api\",\"api_posts_search\",{team_id:e});let s=`${this.getPostsRoute()}/search`;return e&&(s=`${this.getTeamRoute(e)}/posts/search`),this.doFetch(s,{method:\"post\",body:JSON.stringify(t)})},this.searchPosts=(e,t,s)=>this.searchPostsWithParams(e,{terms:t,is_or_search:s}),this.searchFilesWithParams=(e,t)=>(this.trackEvent(\"api\",\"api_files_search\",{team_id:e}),this.doFetch(`${this.getTeamRoute(e)}/files/search`,{method:\"post\",body:JSON.stringify(t)})),this.searchFiles=(e,t,s)=>this.searchFilesWithParams(e,{terms:t,is_or_search:s}),this.getOpenGraphMetadata=e=>this.doFetch(`${this.getBaseRoute()}/opengraph`,{method:\"post\",body:JSON.stringify({url:e})}),this.doPostAction=(e,t,s=\"\")=>this.doPostActionWithCookie(e,t,\"\",s),this.doPostActionWithCookie=(e,t,s,i=\"\")=>{i?this.trackEvent(\"api\",\"api_interactive_messages_menu_selected\"):this.trackEvent(\"api\",\"api_interactive_messages_button_clicked\");let r={selected_option:i};return s!==\"\"&&(r.cookie=s),this.doFetch(`${this.getPostRoute(e)}/actions/${encodeURIComponent(t)}`,{method:\"post\",body:JSON.stringify(r)})},this.uploadFile=(e,t)=>{this.trackEvent(\"api\",\"api_files_upload\");let s={method:\"post\",body:e};return t&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t}`}),this.doFetch(`${this.getFilesRoute()}`,s)},this.getFilePublicLink=e=>this.doFetch(`${this.getFileRoute(e)}/link`,{method:\"get\"}),this.savePreferences=(e,t)=>this.doFetch(`${this.getPreferencesRoute(e)}`,{method:\"put\",body:JSON.stringify(t)}),this.getMyPreferences=()=>this.doFetch(`${this.getPreferencesRoute(\"me\")}`,{method:\"get\"}),this.deletePreferences=(e,t)=>this.doFetch(`${this.getPreferencesRoute(e)}/delete`,{method:\"post\",body:JSON.stringify(t)}),this.ping=()=>this.doFetch(`${this.getBaseRoute()}/system/ping?time=${Date.now()}`,{method:\"get\"}),this.upgradeToEnterprise=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/upgrade_to_enterprise`,{method:\"post\"})}),this.upgradeToEnterpriseStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/upgrade_to_enterprise/status`,{method:\"get\"})}),this.restartServer=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/restart`,{method:\"post\"})}),this.logClientError=(e,t=re.LogLevel.Error)=>{let s=`${this.getBaseRoute()}/logs`;if(!this.enableLogging)throw new f(this.getUrl(),{message:\"Logging disabled.\",url:s});return this.doFetch(s,{method:\"post\",body:JSON.stringify({message:e,level:t})})},this.getClientConfigOld=()=>this.doFetch(`${this.getBaseRoute()}/config/client?format=old`,{method:\"get\"}),this.getClientLicenseOld=()=>this.doFetch(`${this.getBaseRoute()}/license/client?format=old`,{method:\"get\"}),this.getWarnMetricsStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/warn_metrics/status`,{method:\"get\"})}),this.sendWarnMetricAck=(e,t)=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getBaseRoute()}/warn_metrics/ack/${encodeURI(e)}`,{method:\"post\",body:JSON.stringify({forceAck:t})})}),this.setFirstAdminVisitMarketplaceStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getPluginsRoute()}/marketplace/first_admin_visit`,{method:\"post\",body:JSON.stringify({first_admin_visit_marketplace_status:!0})})}),this.getFirstAdminVisitMarketplaceStatus=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getPluginsRoute()}/marketplace/first_admin_visit`,{method:\"get\"})}),this.getFirstAdminSetupComplete=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getSystemRoute()}/onboarding/complete`,{method:\"get\"})}),this.getTranslations=e=>this.doFetch(e,{method:\"get\"}),this.getWebSocketUrl=()=>`${this.getBaseRoute()}/websocket`,this.createIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_created\",{team_id:e.team_id}),this.doFetch(`${this.getIncomingHooksRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getIncomingWebhook=e=>this.doFetch(`${this.getIncomingHookRoute(e)}`,{method:\"get\"}),this.getIncomingWebhooks=(e=\"\",t=0,s=h)=>{let i={page:t,per_page:s};return e&&(i.team_id=e),this.doFetch(`${this.getIncomingHooksRoute()}${o.buildQueryString(i)}`,{method:\"get\"})},this.removeIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getIncomingHookRoute(e)}`,{method:\"delete\"})),this.updateIncomingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_updated\",{team_id:e.team_id}),this.doFetch(`${this.getIncomingHookRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.createOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_created\",{team_id:e.team_id}),this.doFetch(`${this.getOutgoingHooksRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getOutgoingWebhook=e=>this.doFetch(`${this.getOutgoingHookRoute(e)}`,{method:\"get\"}),this.getOutgoingWebhooks=(e=\"\",t=\"\",s=0,i=h)=>{let r={page:s,per_page:i};return e&&(r.channel_id=e),t&&(r.team_id=t),this.doFetch(`${this.getOutgoingHooksRoute()}${o.buildQueryString(r)}`,{method:\"get\"})},this.removeOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getOutgoingHookRoute(e)}`,{method:\"delete\"})),this.updateOutgoingWebhook=e=>(this.trackEvent(\"api\",\"api_integrations_updated\",{team_id:e.team_id}),this.doFetch(`${this.getOutgoingHookRoute(e.id)}`,{method:\"put\",body:JSON.stringify(e)})),this.regenOutgoingHookToken=e=>this.doFetch(`${this.getOutgoingHookRoute(e)}/regen_token`,{method:\"post\"}),this.getCommandsList=e=>this.doFetch(`${this.getCommandsRoute()}?team_id=${e}`,{method:\"get\"}),this.getCommandAutocompleteSuggestionsList=(e,t,s)=>this.doFetch(`${this.getTeamRoute(t)}/commands/autocomplete_suggestions${o.buildQueryString(Object.assign(Object.assign({},s),{user_input:e}))}`,{method:\"get\"}),this.getAutocompleteCommandsList=(e,t=0,s=h)=>this.doFetch(`${this.getTeamRoute(e)}/commands/autocomplete${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getCustomTeamCommands=e=>this.doFetch(`${this.getCommandsRoute()}?team_id=${e}&custom_only=true`,{method:\"get\"}),this.executeCommand=(e,t)=>(this.trackEvent(\"api\",\"api_integrations_used\"),this.doFetch(`${this.getCommandsRoute()}/execute`,{method:\"post\",body:JSON.stringify(Object.assign({command:e},t))})),this.addCommand=e=>(this.trackEvent(\"api\",\"api_integrations_created\"),this.doFetch(`${this.getCommandsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.editCommand=e=>(this.trackEvent(\"api\",\"api_integrations_created\"),this.doFetch(`${this.getCommandsRoute()}/${e.id}`,{method:\"put\",body:JSON.stringify(e)})),this.regenCommandToken=e=>this.doFetch(`${this.getCommandsRoute()}/${e}/regen_token`,{method:\"put\"}),this.deleteCommand=e=>(this.trackEvent(\"api\",\"api_integrations_deleted\"),this.doFetch(`${this.getCommandsRoute()}/${e}`,{method:\"delete\"})),this.createOAuthApp=e=>(this.trackEvent(\"api\",\"api_apps_register\"),this.doFetch(`${this.getOAuthAppsRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.editOAuthApp=e=>this.doFetch(`${this.getOAuthAppsRoute()}/${e.id}`,{method:\"put\",body:JSON.stringify(e)}),this.getOAuthApps=(e=0,t=h)=>this.doFetch(`${this.getOAuthAppsRoute()}${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getAppsOAuthAppIDs=()=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/oauth-app-ids`,{method:\"get\"}),this.getAppsBotIDs=()=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/bot-ids`,{method:\"get\"}),this.getOAuthApp=e=>this.doFetch(`${this.getOAuthAppRoute(e)}`,{method:\"get\"}),this.getOAuthAppInfo=e=>this.doFetch(`${this.getOAuthAppRoute(e)}/info`,{method:\"get\"}),this.deleteOAuthApp=e=>(this.trackEvent(\"api\",\"api_apps_delete\"),this.doFetch(`${this.getOAuthAppRoute(e)}`,{method:\"delete\"})),this.regenOAuthAppSecret=e=>this.doFetch(`${this.getOAuthAppRoute(e)}/regen_secret`,{method:\"post\"}),this.submitInteractiveDialog=e=>(this.trackEvent(\"api\",\"api_interactive_messages_dialog_submitted\"),this.doFetch(`${this.getBaseRoute()}/actions/dialogs/submit`,{method:\"post\",body:JSON.stringify(e)})),this.createCustomEmoji=(e,t)=>{this.trackEvent(\"api\",\"api_emoji_custom_add\");let s=new l.default;s.append(\"image\",t),s.append(\"emoji\",JSON.stringify(e));let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(`${this.getEmojisRoute()}`,i)},this.getCustomEmoji=e=>this.doFetch(`${this.getEmojisRoute()}/${e}`,{method:\"get\"}),this.getCustomEmojiByName=e=>this.doFetch(`${this.getEmojisRoute()}/name/${e}`,{method:\"get\"}),this.getCustomEmojis=(e=0,t=h,s=\"\")=>this.doFetch(`${this.getEmojisRoute()}${o.buildQueryString({page:e,per_page:t,sort:s})}`,{method:\"get\"}),this.deleteCustomEmoji=e=>(this.trackEvent(\"api\",\"api_emoji_custom_delete\"),this.doFetch(`${this.getEmojiRoute(e)}`,{method:\"delete\"})),this.getSystemEmojiImageUrl=e=>{let t=e.endsWith(\".png\")?\"\":\".png\";return`${this.url}/static/emoji/${e}${t}`},this.getCustomEmojiImageUrl=e=>`${this.getEmojiRoute(e)}/image`,this.searchCustomEmoji=(e,t={})=>this.doFetch(`${this.getEmojisRoute()}/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:e},t))}),this.autocompleteCustomEmoji=e=>this.doFetch(`${this.getEmojisRoute()}/autocomplete${o.buildQueryString({name:e})}`,{method:\"get\"}),this.getDataRetentionPolicy=()=>this.doFetch(`${this.getDataRetentionRoute()}/policy`,{method:\"get\"}),this.getDataRetentionCustomPolicies=(e=0,t=h)=>this.doFetch(`${this.getDataRetentionRoute()}/policies${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getDataRetentionCustomPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"get\"}),this.deleteDataRetentionCustomPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"delete\"}),this.searchDataRetentionCustomPolicyChannels=(e,t,s)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:t},s))}),this.searchDataRetentionCustomPolicyTeams=(e,t,s)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams/search`,{method:\"post\",body:JSON.stringify(Object.assign({term:t},s))}),this.getDataRetentionCustomPolicyTeams=(e,t=0,s=h)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getDataRetentionCustomPolicyChannels=(e,t=0,s=h)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.createDataRetentionPolicy=e=>this.doFetch(`${this.getDataRetentionRoute()}/policies`,{method:\"post\",body:JSON.stringify(e)}),this.updateDataRetentionPolicy=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}`,{method:\"PATCH\",body:JSON.stringify(t)}),this.addDataRetentionPolicyTeams=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams`,{method:\"post\",body:JSON.stringify(t)}),this.removeDataRetentionPolicyTeams=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/teams`,{method:\"delete\",body:JSON.stringify(t)}),this.addDataRetentionPolicyChannels=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels`,{method:\"post\",body:JSON.stringify(t)}),this.removeDataRetentionPolicyChannels=(e,t)=>this.doFetch(`${this.getDataRetentionRoute()}/policies/${e}/channels`,{method:\"delete\",body:JSON.stringify(t)}),this.getJob=e=>this.doFetch(`${this.getJobsRoute()}/${e}`,{method:\"get\"}),this.getJobs=(e=0,t=h)=>this.doFetch(`${this.getJobsRoute()}${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getJobsByType=(e,t=0,s=h)=>this.doFetch(`${this.getJobsRoute()}/type/${e}${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.createJob=e=>this.doFetch(`${this.getJobsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),this.cancelJob=e=>this.doFetch(`${this.getJobsRoute()}/${e}/cancel`,{method:\"post\"}),this.getLogs=(e=0,t=le)=>this.doFetch(`${this.getBaseRoute()}/logs${o.buildQueryString({page:e,logs_per_page:t})}`,{method:\"get\"}),this.getAudits=(e=0,t=h)=>this.doFetch(`${this.getBaseRoute()}/audits${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getConfig=()=>this.doFetch(`${this.getBaseRoute()}/config`,{method:\"get\"}),this.updateConfig=e=>this.doFetch(`${this.getBaseRoute()}/config`,{method:\"put\",body:JSON.stringify(e)}),this.patchConfig=e=>this.doFetch(`${this.getBaseRoute()}/config/patch`,{method:\"put\",body:JSON.stringify(e)}),this.reloadConfig=()=>this.doFetch(`${this.getBaseRoute()}/config/reload`,{method:\"post\"}),this.getEnvironmentConfig=()=>this.doFetch(`${this.getBaseRoute()}/config/environment`,{method:\"get\"}),this.testEmail=e=>this.doFetch(`${this.getBaseRoute()}/email/test`,{method:\"post\",body:JSON.stringify(e)}),this.testSiteURL=e=>this.doFetch(`${this.getBaseRoute()}/site_url/test`,{method:\"post\",body:JSON.stringify({site_url:e})}),this.testS3Connection=e=>this.doFetch(`${this.getBaseRoute()}/file/s3_test`,{method:\"post\",body:JSON.stringify(e)}),this.invalidateCaches=()=>this.doFetch(`${this.getBaseRoute()}/caches/invalidate`,{method:\"post\"}),this.recycleDatabase=()=>this.doFetch(`${this.getBaseRoute()}/database/recycle`,{method:\"post\"}),this.createComplianceReport=e=>this.doFetch(`${this.getBaseRoute()}/compliance/reports`,{method:\"post\",body:JSON.stringify(e)}),this.getComplianceReport=e=>this.doFetch(`${this.getBaseRoute()}/compliance/reports/${e}`,{method:\"get\"}),this.getComplianceReports=(e=0,t=h)=>this.doFetch(`${this.getBaseRoute()}/compliance/reports${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.uploadBrandImage=e=>{let t=new l.default;t.append(\"image\",e);let s={method:\"post\",body:t};return t.getBoundary&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t.getBoundary()}`}),this.doFetch(`${this.getBrandRoute()}/image`,s)},this.deleteBrandImage=()=>this.doFetch(`${this.getBrandRoute()}/image`,{method:\"delete\"}),this.getClusterStatus=()=>this.doFetch(`${this.getBaseRoute()}/cluster/status`,{method:\"get\"}),this.testLdap=()=>this.doFetch(`${this.getBaseRoute()}/ldap/test`,{method:\"post\"}),this.syncLdap=()=>this.doFetch(`${this.getBaseRoute()}/ldap/sync`,{method:\"post\"}),this.getLdapGroups=(e=0,t=h,s={})=>{let i=Object.assign({page:e,per_page:t},s);return this.doFetch(`${this.getBaseRoute()}/ldap/groups${o.buildQueryString(i)}`,{method:\"get\"})},this.linkLdapGroup=e=>this.doFetch(`${this.getBaseRoute()}/ldap/groups/${encodeURI(e)}/link`,{method:\"post\"}),this.unlinkLdapGroup=e=>this.doFetch(`${this.getBaseRoute()}/ldap/groups/${encodeURI(e)}/link`,{method:\"delete\"}),this.getSamlCertificateStatus=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/status`,{method:\"get\"}),this.uploadPublicSamlCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/public`,{method:\"post\",body:t})},this.uploadPrivateSamlCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/private`,{method:\"post\",body:t})},this.uploadPublicLdapCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/ldap/certificate/public`,{method:\"post\",body:t})},this.uploadPrivateLdapCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/ldap/certificate/private`,{method:\"post\",body:t})},this.uploadIdpSamlCertificate=e=>{let t=new l.default;return t.append(\"certificate\",e),this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,{method:\"post\",body:t})},this.deletePublicSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/public`,{method:\"delete\"}),this.deletePrivateSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/private`,{method:\"delete\"}),this.deletePublicLdapCertificate=()=>this.doFetch(`${this.getBaseRoute()}/ldap/certificate/public`,{method:\"delete\"}),this.deletePrivateLdapCertificate=()=>this.doFetch(`${this.getBaseRoute()}/ldap/certificate/private`,{method:\"delete\"}),this.deleteIdpSamlCertificate=()=>this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,{method:\"delete\"}),this.testElasticsearch=e=>this.doFetch(`${this.getBaseRoute()}/elasticsearch/test`,{method:\"post\",body:JSON.stringify(e)}),this.purgeElasticsearchIndexes=()=>this.doFetch(`${this.getBaseRoute()}/elasticsearch/purge_indexes`,{method:\"post\"}),this.purgeBleveIndexes=()=>this.doFetch(`${this.getBaseRoute()}/bleve/purge_indexes`,{method:\"post\"}),this.uploadLicense=e=>{this.trackEvent(\"api\",\"api_license_upload\");let t=new l.default;t.append(\"license\",e);let s={method:\"post\",body:t};return t.getBoundary&&(s.headers={\"Content-Type\":`multipart/form-data; boundary=${t.getBoundary()}`}),this.doFetch(`${this.getBaseRoute()}/license`,s)},this.requestTrialLicense=e=>this.doFetchWithResponse(`${this.getBaseRoute()}/trial-license`,{method:\"POST\",body:JSON.stringify(e)}),this.removeLicense=()=>this.doFetch(`${this.getBaseRoute()}/license`,{method:\"delete\"}),this.getPrevTrialLicense=()=>this.doFetch(`${this.getBaseRoute()}/trial-license/prev`,{method:\"get\"}),this.getAnalytics=(e=\"standard\",t=\"\")=>this.doFetch(`${this.getBaseRoute()}/analytics/old${o.buildQueryString({name:e,team_id:t})}`,{method:\"get\"}),this.getRole=e=>this.doFetch(`${this.getRolesRoute()}/${e}`,{method:\"get\"}),this.getRoleByName=e=>this.doFetch(`${this.getRolesRoute()}/name/${e}`,{method:\"get\"}),this.getRolesByNames=e=>this.doFetch(`${this.getRolesRoute()}/names`,{method:\"post\",body:JSON.stringify(e)}),this.patchRole=(e,t)=>this.doFetch(`${this.getRolesRoute()}/${e}/patch`,{method:\"put\",body:JSON.stringify(t)}),this.getSchemes=(e=\"\",t=0,s=h)=>this.doFetch(`${this.getSchemesRoute()}${o.buildQueryString({scope:e,page:t,per_page:s})}`,{method:\"get\"}),this.createScheme=e=>(this.trackEvent(\"api\",\"api_schemes_create\"),this.doFetch(`${this.getSchemesRoute()}`,{method:\"post\",body:JSON.stringify(e)})),this.getScheme=e=>this.doFetch(`${this.getSchemesRoute()}/${e}`,{method:\"get\"}),this.deleteScheme=e=>(this.trackEvent(\"api\",\"api_schemes_delete\"),this.doFetch(`${this.getSchemesRoute()}/${e}`,{method:\"delete\"})),this.patchScheme=(e,t)=>(this.trackEvent(\"api\",\"api_schemes_patch\",{scheme_id:e}),this.doFetch(`${this.getSchemesRoute()}/${e}/patch`,{method:\"put\",body:JSON.stringify(t)})),this.getSchemeTeams=(e,t=0,s=h)=>this.doFetch(`${this.getSchemesRoute()}/${e}/teams${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.getSchemeChannels=(e,t=0,s=h)=>this.doFetch(`${this.getSchemesRoute()}/${e}/channels${o.buildQueryString({page:t,per_page:s})}`,{method:\"get\"}),this.uploadPlugin=(e,t=!1)=>c(this,void 0,void 0,function*(){this.trackEvent(\"api\",\"api_plugin_upload\");let s=new l.default;t&&s.append(\"force\",\"true\"),s.append(\"plugin\",e);let i={method:\"post\",body:s};return s.getBoundary&&(i.headers={\"Content-Type\":`multipart/form-data; boundary=${s.getBoundary()}`}),this.doFetch(this.getPluginsRoute(),i)}),this.installPluginFromUrl=(e,t=!1)=>{this.trackEvent(\"api\",\"api_install_plugin\");let s={plugin_download_url:e,force:t};return this.doFetch(`${this.getPluginsRoute()}/install_from_url${o.buildQueryString(s)}`,{method:\"post\"})},this.getPlugins=()=>this.doFetch(this.getPluginsRoute(),{method:\"get\"}),this.getMarketplacePlugins=(e,t=!1)=>this.doFetch(`${this.getPluginsMarketplaceRoute()}${o.buildQueryString({filter:e||\"\",local_only:t})}`,{method:\"get\"}),this.installMarketplacePlugin=(e,t)=>(this.trackEvent(\"api\",\"api_install_marketplace_plugin\"),this.doFetch(`${this.getPluginsMarketplaceRoute()}`,{method:\"post\",body:JSON.stringify({id:e,version:t})})),this.getMarketplaceApps=e=>this.doFetch(`${this.getAppsProxyRoute()}/api/v1/marketplace${o.buildQueryString({filter:e||\"\"})}`,{method:\"get\"}),this.getPluginStatuses=()=>this.doFetch(`${this.getPluginsRoute()}/statuses`,{method:\"get\"}),this.removePlugin=e=>this.doFetch(this.getPluginRoute(e),{method:\"delete\"}),this.getWebappPlugins=()=>this.doFetch(`${this.getPluginsRoute()}/webapp`,{method:\"get\"}),this.enablePlugin=e=>this.doFetch(`${this.getPluginRoute(e)}/enable`,{method:\"post\"}),this.disablePlugin=e=>this.doFetch(`${this.getPluginRoute(e)}/disable`,{method:\"post\"}),this.linkGroupSyncable=(e,t,s,i)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/link`,{method:\"post\",body:JSON.stringify(i)}),this.unlinkGroupSyncable=(e,t,s)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/link`,{method:\"delete\"}),this.getGroupSyncables=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/${t}s`,{method:\"get\"}),this.getGroup=(e,t=!1)=>this.doFetch(`${this.getGroupRoute(e)}${o.buildQueryString({include_member_count:t})}`,{method:\"get\"}),this.getGroupStats=e=>this.doFetch(`${this.getGroupRoute(e)}/stats`,{method:\"get\"}),this.getGroups=(e=!1,t=0,s=10,i=!1,r=!1)=>{let a={filter_allow_reference:e,page:t,per_page:s,include_member_count:i};return r&&(a.filter_has_member=r),this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString(a)}`,{method:\"get\"})},this.getGroupsByUserId=e=>this.doFetch(`${this.getUsersRoute()}/${e}/groups`,{method:\"get\"}),this.getGroupsNotAssociatedToTeam=(e,t=\"\",s=0,i=h,r=\"ldap\")=>(this.trackEvent(\"api\",\"api_groups_get_not_associated_to_team\",{team_id:e}),this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString({not_associated_to_team:e,page:s,per_page:i,q:t,include_member_count:!0,group_source:r})}`,{method:\"get\"})),this.getGroupsNotAssociatedToChannel=(e,t=\"\",s=0,i=h,r=!1,a=\"ldap\")=>{this.trackEvent(\"api\",\"api_groups_get_not_associated_to_channel\",{channel_id:e});let u={not_associated_to_channel:e,page:s,per_page:i,q:t,include_member_count:!0,filter_parent_team_permitted:r,group_source:a};return this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString(u)}`,{method:\"get\"})},this.createGroupWithUserIds=e=>this.doFetch(this.getGroupsRoute(),{method:\"post\",body:JSON.stringify(e)}),this.addUsersToGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/members`,{method:\"post\",body:JSON.stringify({user_ids:t})}),this.removeUsersFromGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/members`,{method:\"delete\",body:JSON.stringify({user_ids:t})}),this.searchGroups=e=>this.doFetch(`${this.getGroupsRoute()}${o.buildQueryString(e)}`,{method:\"get\"}),this.executeAppCall=(e,t)=>c(this,void 0,void 0,function*(){let s=Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e.context),{track_as_submit:t,user_agent:\"webapp\"})});return this.doFetch(`${this.getAppsProxyRoute()}/api/v1/call`,{method:\"post\",body:JSON.stringify(s)})}),this.getAppsBindings=(e,t,s)=>c(this,void 0,void 0,function*(){let i={user_id:e,channel_id:t,team_id:s,user_agent:\"webapp\"};return this.doFetch(`${this.getAppsProxyRoute()}/api/v1/bindings${o.buildQueryString(i)}`,{method:\"get\"})}),this.getGroupsAssociatedToTeam=(e,t=\"\",s=0,i=h,r=!1)=>(this.trackEvent(\"api\",\"api_groups_get_associated_to_team\",{team_id:e}),this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups${o.buildQueryString({page:s,per_page:i,q:t,include_member_count:!0,filter_allow_reference:r})}`,{method:\"get\"})),this.getGroupsAssociatedToChannel=(e,t=\"\",s=0,i=h,r=!1)=>(this.trackEvent(\"api\",\"api_groups_get_associated_to_channel\",{channel_id:e}),this.doFetch(`${this.getBaseRoute()}/channels/${e}/groups${o.buildQueryString({page:s,per_page:i,q:t,include_member_count:!0,filter_allow_reference:r})}`,{method:\"get\"})),this.getAllGroupsAssociatedToTeam=(e,t=!1,s=!1)=>this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups${o.buildQueryString({paginate:!1,filter_allow_reference:t,include_member_count:s})}`,{method:\"get\"}),this.getAllGroupsAssociatedToChannelsInTeam=(e,t=!1)=>this.doFetch(`${this.getBaseRoute()}/teams/${e}/groups_by_channels${o.buildQueryString({paginate:!1,filter_allow_reference:t})}`,{method:\"get\"}),this.getAllGroupsAssociatedToChannel=(e,t=!1,s=!1)=>this.doFetch(`${this.getBaseRoute()}/channels/${e}/groups${o.buildQueryString({paginate:!1,filter_allow_reference:t,include_member_count:s})}`,{method:\"get\"}),this.patchGroupSyncable=(e,t,s,i)=>this.doFetch(`${this.getGroupRoute(e)}/${s}s/${t}/patch`,{method:\"put\",body:JSON.stringify(i)}),this.patchGroup=(e,t)=>this.doFetch(`${this.getGroupRoute(e)}/patch`,{method:\"put\",body:JSON.stringify(t)}),this.archiveGroup=e=>this.doFetch(`${this.getGroupRoute(e)}`,{method:\"delete\"}),this.getRedirectLocation=e=>{if(!e.length)return Promise.resolve();let t=`${this.getRedirectLocationRoute()}${o.buildQueryString({url:e})}`;return this.doFetch(t,{method:\"get\"})},this.createBot=e=>this.doFetch(`${this.getBotsRoute()}`,{method:\"post\",body:JSON.stringify(e)}),this.patchBot=(e,t)=>this.doFetch(`${this.getBotRoute(e)}`,{method:\"put\",body:JSON.stringify(t)}),this.getBot=e=>this.doFetch(`${this.getBotRoute(e)}`,{method:\"get\"}),this.getBots=(e=0,t=h)=>this.doFetch(`${this.getBotsRoute()}${o.buildQueryString({page:e,per_page:t})}`,{method:\"get\"}),this.getBotsIncludeDeleted=(e=0,t=h)=>this.doFetch(`${this.getBotsRoute()}${o.buildQueryString({include_deleted:!0,page:e,per_page:t})}`,{method:\"get\"}),this.getBotsOrphaned=(e=0,t=h)=>this.doFetch(`${this.getBotsRoute()}${o.buildQueryString({only_orphaned:!0,page:e,per_page:t})}`,{method:\"get\"}),this.disableBot=e=>this.doFetch(`${this.getBotRoute(e)}/disable`,{method:\"post\"}),this.enableBot=e=>this.doFetch(`${this.getBotRoute(e)}/enable`,{method:\"post\"}),this.assignBot=(e,t)=>this.doFetch(`${this.getBotRoute(e)}/assign/${t}`,{method:\"post\"}),this.getCloudProducts=e=>{let t=\"\";return e&&(t=\"?include_legacy=true\"),this.doFetch(`${this.getCloudRoute()}/products${t}`,{method:\"get\"})},this.createPaymentMethod=()=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getCloudRoute()}/payment`,{method:\"post\"})}),this.getCloudCustomer=()=>this.doFetch(`${this.getCloudRoute()}/customer`,{method:\"get\"}),this.updateCloudCustomer=e=>this.doFetch(`${this.getCloudRoute()}/customer`,{method:\"put\",body:JSON.stringify(e)}),this.updateCloudCustomerAddress=e=>this.doFetch(`${this.getCloudRoute()}/customer/address`,{method:\"put\",body:JSON.stringify(e)}),this.confirmPaymentMethod=e=>c(this,void 0,void 0,function*(){return this.doFetch(`${this.getCloudRoute()}/payment/confirm`,{method:\"post\",body:JSON.stringify({stripe_setup_intent_id:e})})}),this.subscribeCloudProduct=e=>this.doFetch(`${this.getCloudRoute()}/subscription`,{method:\"put\",body:JSON.stringify({product_id:e})}),this.requestCloudTrial=()=>this.doFetchWithResponse(`${this.getCloudRoute()}/request-trial`,{method:\"put\"}),this.getSubscription=()=>this.doFetch(`${this.getCloudRoute()}/subscription`,{method:\"get\"}),this.getRenewalLink=()=>this.doFetch(`${this.getBaseRoute()}/license/renewal`,{method:\"get\"}),this.getInvoices=()=>this.doFetch(`${this.getCloudRoute()}/subscription/invoices`,{method:\"get\"}),this.getInvoicePdfUrl=e=>`${this.getCloudRoute()}/subscription/invoices/${e}/pdf`,this.getCloudLimits=()=>this.doFetch(`${this.getCloudRoute()}/limits`,{method:\"get\"}),this.teamMembersMinusGroupMembers=(e,t,s,i)=>{let r=`group_ids=${t.join(\",\")}&page=${s}&per_page=${i}`;return this.doFetch(`${this.getTeamRoute(e)}/members_minus_group_members?${r}`,{method:\"get\"})},this.channelMembersMinusGroupMembers=(e,t,s,i)=>{let r=`group_ids=${t.join(\",\")}&page=${s}&per_page=${i}`;return this.doFetch(`${this.getChannelRoute(e)}/members_minus_group_members?${r}`,{method:\"get\"})},this.getSamlMetadataFromIdp=e=>this.doFetch(`${this.getBaseRoute()}/saml/metadatafromidp`,{method:\"post\",body:JSON.stringify({saml_metadata_url:e})}),this.setSamlIdpCertificateFromMetadata=e=>{let t={method:\"post\",body:e};return t.headers={\"Content-Type\":\"application/x-pem-file\"},this.doFetch(`${this.getBaseRoute()}/saml/certificate/idp`,t)},this.getInProductNotices=(e,t,s)=>this.doFetch(`${this.getNoticesRoute()}/${e}?client=${t}&clientVersion=${s}`,{method:\"get\"}),this.updateNoticesAsViewed=e=>(this.trackEvent(\"ui\",`notice_seen_${e[0]}`),this.doFetch(`${this.getNoticesRoute()}/view`,{method:\"put\",body:JSON.stringify(e)})),this.getAncillaryPermissions=e=>this.doFetch(`${this.getPermissionsRoute()}/ancillary?subsection_permissions=${e.join(\",\")}`,{method:\"get\"}),this.completeSetup=e=>this.doFetch(`${this.getSystemRoute()}/onboarding/complete`,{method:\"post\",body:JSON.stringify(e)}),this.getAppliedSchemaMigrations=()=>this.doFetch(`${this.getSystemRoute()}/schema/version`,{method:\"get\"}),this.fetchWithGraphQL=e=>c(this,void 0,void 0,function*(){return this.doFetch(this.getGraphQLUrl(),{method:\"post\",body:e})}),this.doFetch=(e,t)=>c(this,void 0,void 0,function*(){let{data:s}=yield this.doFetchWithResponse(e,t);return s}),this.doFetchWithResponse=(e,t)=>c(this,void 0,void 0,function*(){let s=yield fetch(e,this.getOptions(t)),i=M(s.headers),r;try{r=yield s.json()}catch{throw new f(this.getUrl(),{message:\"Received invalid response from the server.\",intl:{id:\"mobile.request.invalid_response\",defaultMessage:\"Received invalid response from the server.\"},url:e})}if(i.has(d.HEADER_X_VERSION_ID)&&!i.get(\"Cache-Control\")){let u=i.get(d.HEADER_X_VERSION_ID);u&&this.serverVersion!==u&&(this.serverVersion=u)}if(i.has(d.HEADER_X_CLUSTER_ID)){let u=i.get(d.HEADER_X_CLUSTER_ID);u&&this.clusterId!==u&&(this.clusterId=u)}if(s.ok)return{response:s,headers:i,data:r};let a=r.message||\"\";throw this.logToConsole&&console.error(a),new f(this.getUrl(),{message:a,server_error_id:r.id,status_code:r.status_code,url:e})})}getUrl(){return this.url}getAbsoluteUrl(e){return typeof e!=\"string\"||!e.startsWith(\"/\")?e:this.getUrl()+e}getGraphQLUrl(){return`${this.url}${me}`}setUrl(e){this.url=e}setUserAgent(e){this.userAgent=e}getToken(){return this.token}setToken(e){this.token=e}setCSRF(e){this.csrf=e}setAcceptLanguage(e){this.defaultHeaders[\"Accept-Language\"]=e}setEnableLogging(e){this.enableLogging=e}setIncludeCookies(e){this.includeCookies=e}setUserId(e){this.userId=e}setUserRoles(e){this.userRoles=e}setDiagnosticId(e){this.diagnosticId=e}setTelemetryHandler(e){this.telemetryHandler=e}getServerVersion(){return this.serverVersion}getUrlVersion(){return this.urlVersion}getBaseRoute(){return`${this.url}${this.urlVersion}`}getAppsProxyRoute(){return`${this.url}/plugins/com.mattermost.apps`}getUsersRoute(){return`${this.getBaseRoute()}/users`}getUserRoute(e){return`${this.getUsersRoute()}/${e}`}getTeamsRoute(){return`${this.getBaseRoute()}/teams`}getTeamRoute(e){return`${this.getTeamsRoute()}/${e}`}getTeamSchemeRoute(e){return`${this.getTeamRoute(e)}/scheme`}getTeamNameRoute(e){return`${this.getTeamsRoute()}/name/${e}`}getTeamMembersRoute(e){return`${this.getTeamRoute(e)}/members`}getTeamMemberRoute(e,t){return`${this.getTeamMembersRoute(e)}/${t}`}getChannelsRoute(){return`${this.getBaseRoute()}/channels`}getChannelRoute(e){return`${this.getChannelsRoute()}/${e}`}getChannelMembersRoute(e){return`${this.getChannelRoute(e)}/members`}getChannelMemberRoute(e,t){return`${this.getChannelMembersRoute(e)}/${t}`}getChannelSchemeRoute(e){return`${this.getChannelRoute(e)}/scheme`}getChannelCategoriesRoute(e,t){return`${this.getBaseRoute()}/users/${e}/teams/${t}/channels/categories`}getPostsRoute(){return`${this.getBaseRoute()}/posts`}getPostRoute(e){return`${this.getPostsRoute()}/${e}`}getReactionsRoute(){return`${this.getBaseRoute()}/reactions`}getCommandsRoute(){return`${this.getBaseRoute()}/commands`}getFilesRoute(){return`${this.getBaseRoute()}/files`}getFileRoute(e){return`${this.getFilesRoute()}/${e}`}getPreferencesRoute(e){return`${this.getUserRoute(e)}/preferences`}getIncomingHooksRoute(){return`${this.getBaseRoute()}/hooks/incoming`}getIncomingHookRoute(e){return`${this.getBaseRoute()}/hooks/incoming/${e}`}getOutgoingHooksRoute(){return`${this.getBaseRoute()}/hooks/outgoing`}getOutgoingHookRoute(e){return`${this.getBaseRoute()}/hooks/outgoing/${e}`}getOAuthRoute(){return`${this.url}/oauth`}getOAuthAppsRoute(){return`${this.getBaseRoute()}/oauth/apps`}getOAuthAppRoute(e){return`${this.getOAuthAppsRoute()}/${e}`}getEmojisRoute(){return`${this.getBaseRoute()}/emoji`}getEmojiRoute(e){return`${this.getEmojisRoute()}/${e}`}getBrandRoute(){return`${this.getBaseRoute()}/brand`}getBrandImageUrl(e){return`${this.getBrandRoute()}/image?t=${e}`}getDataRetentionRoute(){return`${this.getBaseRoute()}/data_retention`}getJobsRoute(){return`${this.getBaseRoute()}/jobs`}getPluginsRoute(){return`${this.getBaseRoute()}/plugins`}getPluginRoute(e){return`${this.getPluginsRoute()}/${e}`}getPluginsMarketplaceRoute(){return`${this.getPluginsRoute()}/marketplace`}getRolesRoute(){return`${this.getBaseRoute()}/roles`}getSchemesRoute(){return`${this.getBaseRoute()}/schemes`}getRedirectLocationRoute(){return`${this.getBaseRoute()}/redirect_location`}getBotsRoute(){return`${this.getBaseRoute()}/bots`}getBotRoute(e){return`${this.getBotsRoute()}/${e}`}getGroupsRoute(){return`${this.getBaseRoute()}/groups`}getGroupRoute(e){return`${this.getGroupsRoute()}/${e}`}getNoticesRoute(){return`${this.getBaseRoute()}/system/notices`}getCloudRoute(){return`${this.getBaseRoute()}/cloud`}getPermissionsRoute(){return`${this.getBaseRoute()}/permissions`}getUserThreadsRoute(e,t){return`${this.getUserRoute(e)}/teams/${t}/threads`}getUserThreadRoute(e,t,s){return`${this.getUserThreadsRoute(e,t)}/${s}`}getSystemRoute(){return`${this.getBaseRoute()}/system`}getCSRFFromCookie(){if(typeof document<\"u\"&&typeof document.cookie<\"u\"){let e=document.cookie.split(\";\");for(let t=0;t<e.length;t++){let s=e[t].trim();if(s.startsWith(\"MMCSRF=\"))return s.replace(\"MMCSRF=\",\"\")}}return\"\"}getOptions(e){let t=Object.assign({},e),s=Object.assign({[ue]:\"XMLHttpRequest\"},this.defaultHeaders);this.setAuthHeader&&this.token&&(s[ne]=`${he} ${this.token}`);let i=this.csrf||this.getCSRFFromCookie();return e.method&&e.method.toLowerCase()!==\"get\"&&i&&(s[ce]=i),this.includeCookies&&(t.credentials=\"include\"),this.userAgent&&(s[de]=this.userAgent),e.body&&(e.body instanceof l.default||(s[ae]=\"application/json\")),t.headers&&Object.assign(s,t.headers),Object.assign(Object.assign({},t),{headers:s})}getFileUrl(e,t){let s=`${this.getFileRoute(e)}`;return t&&(s+=`?${t}`),s}getFileThumbnailUrl(e,t){let s=`${this.getFileRoute(e)}/thumbnail`;return t&&(s+=`?${t}`),s}getFilePreviewUrl(e,t){let s=`${this.getFileRoute(e)}/preview`;return t&&(s+=`?${t}`),s}trackEvent(e,t,s){this.telemetryHandler&&this.telemetryHandler.trackEvent(this.userId,this.userRoles,e,t,s)}pageVisited(e,t){this.telemetryHandler&&this.telemetryHandler.pageVisited(this.userId,this.userRoles,e,t)}};d.default=O;function M(n){let e=new Map,t=new Map;return n.forEach((s,i)=>{let r=i.replace(/\\b[a-z]/g,u=>u.toUpperCase()),a=s;if(s&&s.match(/\\n\\S+:\\s\\S+/)){let u=s.split(`\n`);a=u.shift();let g=new Map(u.map(p=>p.split(/:\\s/)));t=new Map([...t,...g])}e.set(r,a)}),new Map([...e,...t])}d.parseAndMergeNestedHeaders=M;var f=class extends Error{constructor(e,t){super(t.message+\": \"+oe.cleanUrlForLogging(e,t.url||\"\")),this.message=t.message,this.url=t.url,this.intl=t.intl,this.server_error_id=t.server_error_id,this.status_code=t.status_code,Object.defineProperty(this,\"message\",{enumerable:!0})}};d.ClientError=f});var D=R(m=>{\"use strict\";var pe=m&&m.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(m,\"__esModule\",{value:!0});m.DEFAULT_LIMIT_BEFORE=m.DEFAULT_LIMIT_AFTER=m.ClientError=m.Client4=void 0;var P=x();Object.defineProperty(m,\"Client4\",{enumerable:!0,get:function(){return pe(P).default}});Object.defineProperty(m,\"ClientError\",{enumerable:!0,get:function(){return P.ClientError}});Object.defineProperty(m,\"DEFAULT_LIMIT_AFTER\",{enumerable:!0,get:function(){return P.DEFAULT_LIMIT_AFTER}});Object.defineProperty(m,\"DEFAULT_LIMIT_BEFORE\",{enumerable:!0,get:function(){return P.DEFAULT_LIMIT_BEFORE}})});var be={};K(be,{default:()=>Re});var H=S(D());function E(n,e){if(e(n))return[n];let t=[];if(n.children)for(let s of n.children)t=[...t,...E(s,e)];return t}function U(n,e){return E(n,t=>t.type===e)[0]}function L(n,e){E(n,e)}var fe=S(v(\"handlebars\")),ye=S(v(\"yaml\"));typeof self>\"u\"&&(self={syscall:(n,...e)=>{throw new Error(\"Not implemented here\")}});var y=self.syscall;async function A(n){return y(\"space.readPage\",n)}async function Q(n){return y(\"markdown.parseMarkdown\",n)}var j=S(v(\"yaml\"));async function k(n,e=[\"yaml\"]){let{text:t}=await A(n),s=await Q(t),i={};return L(s,r=>{if(r.type!==\"FencedCode\")return!1;let a=U(r,\"CodeInfo\");if(!a||!e.includes(a.children[0].text))return!1;let u=U(r,\"CodeText\");if(!u)return!1;let g=u.children[0].text;try{i=j.default.parse(g)}catch(p){throw console.error(\"YAML Page parser error\",p),new Error(`YAML Error: ${p.message}`)}return!0}),i}async function I(n){try{let e=await k(\"SETTINGS\",[\"yaml\"])||{},t={};for(let[s,i]of Object.entries(n))e[s]?t[s]=e[s]:t[s]=i;return t}catch(e){if(e.message===\"Page not found\")return n;throw e}}async function G(n){try{let e=await k(\"SECRETS\",[\"yaml\",\"secrets\"]),t=[];for(let s of n){let i=e[s];if(i)t.push(i);else throw new Error(`No such secret: ${s}`)}return t}catch(e){throw e.message===\"Page not found\"?new Error(`No such secret: ${n[0]}`):e}}async function W(n){let{client:e}=await $e(),t=await e.getMe();console.log(\"Unsaving\",t.id,n);let s=await e.deletePreferences(t.id,[{user_id:t.id,category:\"flagged_post\",name:n}]);console.log(\"Done unsaving\",s)}async function $e(){let n=await I({mattermostUrl:\"https://community.mattermost.com\",mattermostDefaultTeam:\"core\"}),[e]=await G([\"mattermostToken\"]),t=new H.Client4;return t.setUrl(n.mattermostUrl),t.setToken(e),{client:t,config:n}}var Re=W;return Z(be);})();\n return mod;})()"
    },
    "boardsQueryProvider": {
      "events": [
        "query:mm-board"
      ],
      "code": "(() => { var mod=(()=>{var A=Object.create;var p=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var h=(e=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(e,{get:(r,t)=>(typeof require!=\"undefined\"?require:r)[t]}):e)(function(e){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var N=(e,r)=>{for(var t in r)p(e,t,{get:r[t],enumerable:!0})},x=(e,r,t,a)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let n of O(r))!E.call(e,n)&&n!==t&&p(e,n,{get:()=>r[n],enumerable:!(a=v(r,n))||a.enumerable});return e};var T=(e,r,t)=>(t=e!=null?A(R(e)):{},x(r||!e||!e.__esModule?p(t,\"default\",{value:e,enumerable:!0}):t,e)),D=e=>x(p({},\"__esModule\",{value:!0}),e);var S={};N(S,{default:()=>H});var B=T(h(\"handlebars\")),L=T(h(\"yaml\"));typeof self>\"u\"&&(self={syscall:(e,...r)=>{throw new Error(\"Not implemented here\")}});var $=self.syscall;function b(e,r){let t=[];if(e.filter.length===0)t=r.slice();else{e:for(let a of r){let n=a;for(let{op:o,prop:l,value:i}of e.filter)switch(o){case\"=\":let c=n[l];if(Array.isArray(c)&&!Array.isArray(i)){if(!c.includes(i))continue e}else if(Array.isArray(c)&&Array.isArray(i)){if(!c.some(u=>i.includes(u)))continue e}else if(c!=i)continue e;break;case\"!=\":if(n[l]==i)continue e;break;case\"<\":if(!(n[l]<i))continue e;break;case\"<=\":if(!(n[l]<=i))continue e;break;case\">\":if(!(n[l]>i))continue e;break;case\">=\":if(!(n[l]>=i))continue e;break;case\"=~\":if(!new RegExp(i).exec(n[l]))continue e;break;case\"!=~\":if(new RegExp(i).exec(n[l]))continue e;break;case\"in\":if(!i.includes(n[l]))continue e;break}t.push(n)}}return e.orderBy&&(t=t.sort((a,n)=>{let o=e.orderBy,l=e.orderDesc;return a[o]===n[o]?0:a[o]<n[o]?l?1:-1:l?-1:1})),e.limit&&(t=t.slice(0,e.limit)),e.select&&(t=t.map(a=>{let n={};for(let o of e.select)n[o]=a[o];return n})),t}async function j(e){let r=new URL(e),t=r.searchParams.get(\"r\"),a=`${r.protocol}//${r.host}`,[,,,,n,,o]=r.pathname.split(\"/\"),i=await(await fetch(`${a}/plugins/focalboard/api/v1/workspaces/${n}/blocks/${o}/subtree?l=3&read_token=${t}`,{headers:{\"x-requested-with\":\"XMLHttpRequest\"}})).json(),c=new Map,u=new Map;for(let s of i)s.type===\"board\"&&(u=new Map(s.fields.cardProperties.map(f=>[f.id,f])),console.log(\"Card properties:\",u)),c.set(s.id,s);let P=[];for(let s of c.values())if(s.type===\"card\"){let f={id:s.id,title:s.title};for(let[k,g]of Object.entries(s.fields.properties)){let d=u.get(k);if(d){let y=d.options.find(M=>M.id===g),m=d.name.toLowerCase().replaceAll(/\\W/g,\"\").trim().replaceAll(/\\s/g,\"_\");y?f[m]=y.value:f[m]=g}}P.push(f)}return P}async function w({query:e}){let r=e.filter.find(a=>a.prop===\"url\");if(!r)throw Error(\"No 'url' filter specified, this is mandatory\");e.filter.splice(e.filter.indexOf(r),1);let t=await j(r.value);return t=b(e,t),t}var H=w;return D(S);})();\n return mod;})()"
    }
  }
}